!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n;return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){!function(factory){var registeredInModuleLoader;if("function"==typeof define&&define.amd&&(define(factory),registeredInModuleLoader=!0),"object"==typeof exports&&(module.exports=factory(),registeredInModuleLoader=!0),!registeredInModuleLoader){var OldCookies=window.Cookies,api=window.Cookies=factory();api.noConflict=function(){return window.Cookies=OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function init(converter){function api(){}function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires&&(attributes.expires=new Date(1*new Date+864e5*attributes.expires)),attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);/^[\{\[]/.test(result)&&(value=result)}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+value+stringifiedAttributes}}function get(key,json){if("undefined"!=typeof document){for(var jar={},cookies=document.cookie?document.cookie.split("; "):[],i=0;i<cookies.length;i++){var parts=cookies[i].split("="),cookie=parts.slice(1).join("=");json||'"'!==cookie.charAt(0)||(cookie=cookie.slice(1,-1));try{var name=decode(parts[0]);if(cookie=(converter.read||converter)(cookie,name)||decode(cookie),json)try{cookie=JSON.parse(cookie)}catch(e){}if(jar[name]=cookie,key===name)break}catch(e){}}return key?jar[key]:jar}}return api.set=set,api.get=function(key){return get(key,!1)},api.getJSON=function(key){return get(key,!0)},api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))},api.defaults={},api.withConverter=init,api}return init(function(){})})},{}],2:[function(require,module,exports){"use strict";var has=Object.prototype.hasOwnProperty,undef;function decode(input){try{return decodeURIComponent(input.replace(/\+/g," "))}catch(e){return null}}function encode(input){try{return encodeURIComponent(input)}catch(e){return null}}function querystring(query){for(var parser=/([^=?&]+)=?([^&]*)/g,result={},part;part=parser.exec(query);){var key=decode(part[1]),value=decode(part[2]);null===key||null===value||key in result||(result[key]=value)}return result}function querystringify(obj,prefix){prefix=prefix||"";var pairs=[],value,key;for(key in"string"!=typeof prefix&&(prefix="?"),obj)if(has.call(obj,key)){if((value=obj[key])||null!==value&&value!==undef&&!isNaN(value)||(value=""),key=encodeURIComponent(key),value=encodeURIComponent(value),null===key||null===value)continue;pairs.push(key+"="+value)}return pairs.length?prefix+pairs.join("&"):""}exports.stringify=querystringify,exports.parse=querystring},{}],3:[function(require,module,exports){"use strict";module.exports=function required(port,protocol){if(protocol=protocol.split(":")[0],!(port=+port))return!1;switch(protocol){case"http":case"ws":return 80!==port;case"https":case"wss":return 443!==port;case"ftp":return 21!==port;case"gopher":return 70!==port;case"file":return!1}return 0!==port}},{}],4:[function(require,module,exports){var global,factory;global=this,factory=function(){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),(subClass.prototype.constructor=subClass).__proto__=superClass}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(Parent,args,Class){return(_construct=isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor,instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!_isNativeFunction(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function isUndefined(value){return void 0===value}var Evented=function(){function Evented(){}var _proto=Evented.prototype;return _proto.on=function on(event,handler,ctx,once){return void 0===once&&(once=!1),isUndefined(this.bindings)&&(this.bindings={}),isUndefined(this.bindings[event])&&(this.bindings[event]=[]),this.bindings[event].push({handler:handler,ctx:ctx,once:once}),this},_proto.once=function once(event,handler,ctx){return this.on(event,handler,ctx,!0)},_proto.off=function off(event,handler){var _this=this;return isUndefined(this.bindings)||isUndefined(this.bindings[event])||(isUndefined(handler)?delete this.bindings[event]:this.bindings[event].forEach(function(binding,index){binding.handler===handler&&_this.bindings[event].splice(index,1)})),this},_proto.trigger=function trigger(event){for(var _this2=this,_len=arguments.length,args=new Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return!isUndefined(this.bindings)&&this.bindings[event]&&this.bindings[event].forEach(function(binding,index){var ctx=binding.ctx,handler=binding.handler,once=binding.once,context=ctx||_this2;handler.apply(context,args),once&&_this2.bindings[event].splice(index,1)}),this},Evented}();function autoBind(self){for(var keys=Object.getOwnPropertyNames(self.constructor.prototype),i=0;i<keys.length;i++){var key=keys[i],val=self[key];"constructor"!==key&&"function"==typeof val&&(self[key]=val.bind(self))}return self}function isElement(value){return value instanceof HTMLElement}function isFunction(value){return"function"==typeof value}function isString(value){return"string"==typeof value}function isUndefined$1(value){return void 0===value}function _setupAdvanceOnHandler(selector,step){return function(event){if(step.isOpen()){var targetIsEl=step.el&&event.currentTarget===step.el,targetIsSelector;(!isUndefined$1(selector)&&event.currentTarget.matches(selector)||targetIsEl)&&step.tour.next()}}}function bindAdvance(step){var _ref=step.options.advanceOn||{},event=_ref.event,selector=_ref.selector;if(!event)return console.error("advanceOn was defined, but no event name was passed.");var handler=_setupAdvanceOnHandler(selector,step),el;try{el=document.querySelector(selector)}catch(e){}if(!isUndefined$1(selector)&&!el)return console.error("No element was found for the selector supplied to advanceOn: "+selector);el?(el.addEventListener(event,handler),step.on("destroy",function(){return el.removeEventListener(event,handler)})):(document.body.addEventListener(event,handler,!0),step.on("destroy",function(){return document.body.removeEventListener(event,handler,!0)}))}function _inheritsLoose$1(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),(subClass.prototype.constructor=subClass).__proto__=superClass}function _assertThisInitialized$1(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function isFunction$1(value){return"function"==typeof value}function isNumber(value){return"number"==typeof value}function isObject(value){return"object"==typeof value}function isString$1(value){return"string"==typeof value}function isUndefined$2(value){return void 0===value}function addClass(el,name){name.split(" ").forEach(function(cls){cls.trim()&&el.classList.add(cls)})}function getClass(key,classes,classPrefix){return void 0===key&&(key=""),isUndefined$2(classes)||isUndefined$2(classes[key])?classPrefix?classPrefix+"-"+key:key:!1===classes[key]?"":classes[key]}function removeClass(el,name){name.split(" ").forEach(function(cls){cls.trim()&&el.classList.remove(cls)})}function updateClasses(el,add,all){all.forEach(function(cls){-1===add.indexOf(cls)&&el.classList.contains(cls)&&removeClass(el,cls)}),add.forEach(function(cls){el.classList.contains(cls)||addClass(el,cls)})}var deferred=[];function defer(fn){deferred.push(fn)}function flush(){for(var fn;fn=deferred.pop();)fn()}var _scrollBarSize=null;function extend(out){void 0===out&&(out={});var args=[];return Array.prototype.push.apply(args,arguments),args.slice(1).forEach(function(obj){if(obj)for(var key in obj)!{}.hasOwnProperty.call(obj,key)||(out[key]=obj[key])}),out}function getScrollBarSize(){if(_scrollBarSize)return _scrollBarSize;var inner=document.createElement("div");inner.style.width="100%",inner.style.height="200px";var outer=document.createElement("div");extend(outer.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),outer.appendChild(inner),document.body.appendChild(outer);var widthContained=inner.offsetWidth;outer.style.overflow="scroll";var widthScroll=inner.offsetWidth;widthContained===widthScroll&&(widthScroll=outer.clientWidth),document.body.removeChild(outer);var width=widthContained-widthScroll;return _scrollBarSize={width:width,height:width}}var uniqueId=(id=0,function(){return++id}),id,zeroPosCache={},zeroElement=null;function getBounds(el){var doc;el===document?(doc=document,el=document.documentElement):doc=el.ownerDocument;var docEl=doc.documentElement,box=_getActualBoundingClientRect(el),origin=_getOrigin();return box.top-=origin.top,box.left-=origin.left,isUndefined$2(box.width)&&(box.width=document.body.scrollWidth-box.left-box.right),isUndefined$2(box.height)&&(box.height=document.body.scrollHeight-box.top-box.bottom),box.top=box.top-docEl.clientTop,box.left=box.left-docEl.clientLeft,box.right=doc.body.clientWidth-box.width-box.left,box.bottom=doc.body.clientHeight-box.height-box.top,box}function getScrollHandleBounds(target){var bounds,targetScrollTop=target.scrollTop,targetIsBody=target===document.body;bounds=targetIsBody?(target=document.documentElement,{left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):getBounds(target);var style=getComputedStyle(target),hasBottomScroll,scrollBottom=0;(target.scrollWidth>target.clientWidth||0<=[style.overflow,style.overflowX].indexOf("scroll")||!targetIsBody)&&(scrollBottom=15);var height=bounds.height-parseFloat(style.borderTopWidth)-parseFloat(style.borderBottomWidth)-scrollBottom,out={width:15,height:.975*height*(height/target.scrollHeight),left:bounds.left+bounds.width-parseFloat(style.borderLeftWidth)-15},fitAdj=0;height<408&&targetIsBody&&(fitAdj=-11e-5*Math.pow(height,2)-.00727*height+22.58),targetIsBody||(out.height=Math.max(out.height,24));var scrollPercentage=targetScrollTop/(target.scrollHeight-height);return out.top=scrollPercentage*(height-out.height-fitAdj)+bounds.top+parseFloat(style.borderTopWidth),targetIsBody&&(out.height=Math.max(out.height,24)),out}function getVisibleBounds(target){if(target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var bounds=getBounds(target),out={height:bounds.height,width:bounds.width,top:bounds.top,left:bounds.left};return out.height=Math.min(out.height,bounds.height-(pageYOffset-bounds.top)),out.height=Math.min(out.height,bounds.height-(bounds.top+bounds.height-(pageYOffset+innerHeight))),out.height=Math.min(innerHeight,out.height),out.height-=2,out.width=Math.min(out.width,bounds.width-(pageXOffset-bounds.left)),out.width=Math.min(out.width,bounds.width-(bounds.left+bounds.width-(pageXOffset+innerWidth))),out.width=Math.min(innerWidth,out.width),out.width-=2,out.top<pageYOffset&&(out.top=pageYOffset),out.left<pageXOffset&&(out.left=pageXOffset),out}function removeUtilElements(){zeroElement&&document.body.removeChild(zeroElement),zeroElement=null}function _getActualBoundingClientRect(node){var boundingRect=node.getBoundingClientRect(),rect={};for(var k in boundingRect)rect[k]=boundingRect[k];try{if(node.ownerDocument!==document){var frameElement=node.ownerDocument.defaultView.frameElement;if(frameElement){var frameRect=_getActualBoundingClientRect(frameElement);rect.top+=frameRect.top,rect.bottom+=frameRect.top,rect.left+=frameRect.left,rect.right+=frameRect.left}}}catch(err){}return rect}function _getOrigin(){var node=zeroElement;node&&document.body.contains(node)||((node=document.createElement("div")).setAttribute("data-tether-id",uniqueId()),extend(node.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(node),zeroElement=node);var id=node.getAttribute("data-tether-id");return isUndefined$2(zeroPosCache[id])&&(zeroPosCache[id]=_getActualBoundingClientRect(node),defer(function(){delete zeroPosCache[id]})),zeroPosCache[id]}var Abutment={position:function position(_ref){var _this=this,top=_ref.top,left=_ref.left,_this$cache=this.cache("element-bounds",function(){return getBounds(_this.element)}),height=_this$cache.height,width=_this$cache.width,targetPos=this.getTargetBounds(),bottom=top+height,right=left+width,abutted=[];top<=targetPos.bottom&&bottom>=targetPos.top&&["left","right"].forEach(function(side){var targetPosSide=targetPos[side];targetPosSide!==left&&targetPosSide!==right||abutted.push(side)}),left<=targetPos.right&&right>=targetPos.left&&["top","bottom"].forEach(function(side){var targetPosSide=targetPos[side];targetPosSide!==top&&targetPosSide!==bottom||abutted.push(side)});var sides=["left","top","right","bottom"],_this$options=this.options,classes=_this$options.classes,classPrefix=_this$options.classPrefix;return this.all.push(getClass("abutted",classes,classPrefix)),sides.forEach(function(side){_this.all.push(getClass("abutted",classes,classPrefix)+"-"+side)}),abutted.length&&this.add.push(getClass("abutted",classes,classPrefix)),abutted.forEach(function(side){_this.add.push(getClass("abutted",classes,classPrefix)+"-"+side)}),defer(function(){!1!==_this.options.addTargetClasses&&updateClasses(_this.target,_this.add,_this.all),updateClasses(_this.element,_this.add,_this.all)}),!0}},BOUNDS_FORMAT=["left","top","right","bottom"];function getBoundingRect(tether,to){if("scrollParent"===to?to=tether.scrollParents[0]:"window"===to&&(to=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),to===document&&(to=to.documentElement),!isUndefined$2(to.nodeType)){var node=to,size=getBounds(to),pos=size,style=getComputedStyle(to);if(to=[pos.left,pos.top,size.width+pos.left,size.height+pos.top],node.ownerDocument!==document){var win=node.ownerDocument.defaultView;to[0]+=win.pageXOffset,to[1]+=win.pageYOffset,to[2]+=win.pageXOffset,to[3]+=win.pageYOffset}BOUNDS_FORMAT.forEach(function(side,i){"Top"===(side=side[0].toUpperCase()+side.substr(1))||"Left"===side?to[i]+=parseFloat(style["border"+side+"Width"]):to[i]-=parseFloat(style["border"+side+"Width"])})}return to}function _addOutOfBoundsClass(oob,addClasses,classes,classPrefix,outOfBoundsClass){var oobClass;oob.length&&(oobClass=isUndefined$2(outOfBoundsClass)?getClass("out-of-bounds",classes,classPrefix):outOfBoundsClass,addClasses.push(oobClass),oob.forEach(function(side){addClasses.push(oobClass+"-"+side)}))}function _calculateOOBAndPinnedLeft(left,bounds,width,pin,pinned,oob){return left<bounds[0]&&(0<=pin.indexOf("left")?(left=bounds[0],pinned.push("left")):oob.push("left")),left+width>bounds[2]&&(0<=pin.indexOf("right")?(left=bounds[2]-width,pinned.push("right")):oob.push("right")),left}function _calculateOOBAndPinnedTop(top,bounds,height,pin,pinned,oob){return top<bounds[1]&&(0<=pin.indexOf("top")?(top=bounds[1],pinned.push("top")):oob.push("top")),top+height>bounds[3]&&(0<=pin.indexOf("bottom")?(top=bounds[3]-height,pinned.push("bottom")):oob.push("bottom")),top}function _flipXTogether(tAttachment,eAttachment,bounds,width,targetWidth,left){return left<bounds[0]&&"left"===tAttachment.left?"right"===eAttachment.left?(left+=targetWidth,tAttachment.left="right",left+=width,eAttachment.left="left"):"left"===eAttachment.left&&(left+=targetWidth,tAttachment.left="right",left-=width,eAttachment.left="right"):left+width>bounds[2]&&"right"===tAttachment.left?"left"===eAttachment.left?(left-=targetWidth,tAttachment.left="left",left-=width,eAttachment.left="right"):"right"===eAttachment.left&&(left-=targetWidth,tAttachment.left="left",left+=width,eAttachment.left="left"):"center"===tAttachment.left&&(left+width>bounds[2]&&"left"===eAttachment.left?(left-=width,eAttachment.left="right"):left<bounds[0]&&"right"===eAttachment.left&&(left+=width,eAttachment.left="left")),left}function _flipYTogether(tAttachment,eAttachment,bounds,height,targetHeight,top){return"top"===tAttachment.top&&("bottom"===eAttachment.top&&top<bounds[1]?(top+=targetHeight,tAttachment.top="bottom",top+=height,eAttachment.top="top"):"top"===eAttachment.top&&top+height>bounds[3]&&top-(height-targetHeight)>=bounds[1]&&(top-=height-targetHeight,tAttachment.top="bottom",eAttachment.top="bottom")),"bottom"===tAttachment.top&&("top"===eAttachment.top&&top+height>bounds[3]?(top-=targetHeight,tAttachment.top="top",top-=height,eAttachment.top="bottom"):"bottom"===eAttachment.top&&top<bounds[1]&&top+(2*height-targetHeight)<=bounds[3]&&(top+=height-targetHeight,tAttachment.top="top",eAttachment.top="top")),"middle"===tAttachment.top&&(top+height>bounds[3]&&"top"===eAttachment.top?(top-=height,eAttachment.top="bottom"):top<bounds[1]&&"bottom"===eAttachment.top&&(top+=height,eAttachment.top="top")),top}function _getAllClasses(classes,classPrefix,constraints){var allClasses=[getClass("pinned",classes,classPrefix),getClass("out-of-bounds",classes,classPrefix)];return constraints.forEach(function(constraint){var outOfBoundsClass=constraint.outOfBoundsClass,pinnedClass=constraint.pinnedClass;outOfBoundsClass&&allClasses.push(outOfBoundsClass),pinnedClass&&allClasses.push(pinnedClass)}),allClasses.forEach(function(cls){["left","top","right","bottom"].forEach(function(side){allClasses.push(cls+"-"+side)})}),allClasses}var Constraint={position:function position(_ref){var _this=this,top=_ref.top,left=_ref.left,targetAttachment=_ref.targetAttachment;if(!this.options.constraints)return!0;var _this$cache=this.cache("element-bounds",function(){return getBounds(_this.element)}),height=_this$cache.height,width=_this$cache.width;if(0===width&&0===height&&!isUndefined$2(this.lastSize)){var _this$lastSize=this.lastSize;width=_this$lastSize.width,height=_this$lastSize.height}var targetSize=this.cache("target-bounds",function(){return _this.getTargetBounds()}),targetHeight=targetSize.height,targetWidth=targetSize.width,_this$options=this.options,classes=_this$options.classes,classPrefix=_this$options.classPrefix,allClasses=_getAllClasses(classes,classPrefix,this.options.constraints),addClasses=[],tAttachment=extend({},targetAttachment),eAttachment=extend({},this.attachment);return this.options.constraints.forEach(function(constraint){var to=constraint.to,attachment=constraint.attachment,pin=constraint.pin,changeAttachX,changeAttachY;if(isUndefined$2(attachment)&&(attachment=""),0<=attachment.indexOf(" ")){var _attachment$split=attachment.split(" ");changeAttachY=_attachment$split[0],changeAttachX=_attachment$split[1]}else changeAttachX=changeAttachY=attachment;var bounds=getBoundingRect(_this,to);"target"!==changeAttachY&&"both"!==changeAttachY||(top<bounds[1]&&"top"===tAttachment.top&&(top+=targetHeight,tAttachment.top="bottom"),top+height>bounds[3]&&"bottom"===tAttachment.top&&(top-=targetHeight,tAttachment.top="top")),"together"===changeAttachY&&(top=_flipYTogether(tAttachment,eAttachment,bounds,height,targetHeight,top)),"target"!==changeAttachX&&"both"!==changeAttachX||(left<bounds[0]&&"left"===tAttachment.left&&(left+=targetWidth,tAttachment.left="right"),left+width>bounds[2]&&"right"===tAttachment.left&&(left-=targetWidth,tAttachment.left="left")),"together"===changeAttachX&&(left=_flipXTogether(tAttachment,eAttachment,bounds,width,targetWidth,left)),"element"!==changeAttachY&&"both"!==changeAttachY||(top<bounds[1]&&"bottom"===eAttachment.top&&(top+=height,eAttachment.top="top"),top+height>bounds[3]&&"top"===eAttachment.top&&(top-=height,eAttachment.top="bottom")),"element"!==changeAttachX&&"both"!==changeAttachX||(left<bounds[0]&&("right"===eAttachment.left?(left+=width,eAttachment.left="left"):"center"===eAttachment.left&&(left+=width/2,eAttachment.left="left")),left+width>bounds[2]&&("left"===eAttachment.left?(left-=width,eAttachment.left="right"):"center"===eAttachment.left&&(left-=width/2,eAttachment.left="right"))),isString$1(pin)?pin=pin.split(",").map(function(p){return p.trim()}):!0===pin&&(pin=["top","left","right","bottom"]);var pinned=[],oob=[],pinnedClass;left=_calculateOOBAndPinnedLeft(left,bounds,width,pin=pin||[],pinned,oob),top=_calculateOOBAndPinnedTop(top,bounds,height,pin,pinned,oob),pinned.length&&(pinnedClass=isUndefined$2(_this.options.pinnedClass)?getClass("pinned",classes,classPrefix):_this.options.pinnedClass,addClasses.push(pinnedClass),pinned.forEach(function(side){addClasses.push(pinnedClass+"-"+side)}));_addOutOfBoundsClass(oob,addClasses,classes,classPrefix,_this.options.outOfBoundsClass),(0<=pinned.indexOf("left")||0<=pinned.indexOf("right"))&&(eAttachment.left=tAttachment.left=!1),(0<=pinned.indexOf("top")||0<=pinned.indexOf("bottom"))&&(eAttachment.top=tAttachment.top=!1),tAttachment.top===targetAttachment.top&&tAttachment.left===targetAttachment.left&&eAttachment.top===_this.attachment.top&&eAttachment.left===_this.attachment.left||(_this.updateAttachClasses(eAttachment,tAttachment),_this.trigger("update",{attachment:eAttachment,targetAttachment:tAttachment}))}),defer(function(){!1!==_this.options.addTargetClasses&&updateClasses(_this.target,addClasses,allClasses),updateClasses(_this.element,addClasses,allClasses)}),{top:top,left:left}}},Shift={position:function position(_ref){var top=_ref.top,left=_ref.left;if(this.options.shift){var shift=this.options.shift,shiftTop,shiftLeft;if(isFunction$1(shift)&&(shift=shift.call(this,{top:top,left:left})),isString$1(shift)){(shift=shift.split(" "))[1]=shift[1]||shift[0];var _shift=shift;shiftTop=_shift[0],shiftLeft=_shift[1],shiftTop=parseFloat(shiftTop,10),shiftLeft=parseFloat(shiftLeft,10)}else{var _ref2=[shift.top,shift.left];shiftTop=_ref2[0],shiftLeft=_ref2[1]}return{top:top+=shiftTop,left:left+=shiftLeft}}}},Evented$1=function(){function Evented(){}var _proto=Evented.prototype;return _proto.on=function on(event,handler,ctx,once){return void 0===once&&(once=!1),isUndefined$2(this.bindings)&&(this.bindings={}),isUndefined$2(this.bindings[event])&&(this.bindings[event]=[]),this.bindings[event].push({handler:handler,ctx:ctx,once:once}),this},_proto.once=function once(event,handler,ctx){return this.on(event,handler,ctx,!0)},_proto.off=function off(event,handler){var _this=this;return isUndefined$2(this.bindings)||isUndefined$2(this.bindings[event])||(isUndefined$2(handler)?delete this.bindings[event]:this.bindings[event].forEach(function(binding,index){binding.handler===handler&&_this.bindings[event].splice(index,1)})),this},_proto.trigger=function trigger(event){for(var _this2=this,_len=arguments.length,args=new Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return!isUndefined$2(this.bindings)&&this.bindings[event]&&this.bindings[event].forEach(function(binding,index){var ctx=binding.ctx,handler=binding.handler,once=binding.once,context=ctx||_this2;handler.apply(context,args),once&&_this2.bindings[event].splice(index,1)}),this},Evented}(),MIRROR_LR={center:"center",left:"right",right:"left"},MIRROR_TB={middle:"middle",top:"bottom",bottom:"top"},OFFSET_MAP={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"};function addOffset(){for(var out={top:0,left:0},_len=arguments.length,offsets=new Array(_len),_key=0;_key<_len;_key++)offsets[_key]=arguments[_key];return offsets.forEach(function(_ref){var top=_ref.top,left=_ref.left;isString$1(top)&&(top=parseFloat(top)),isString$1(left)&&(left=parseFloat(left)),out.top+=top,out.left+=left}),out}function attachmentToOffset(attachment){var left=attachment.left,top=attachment.top;return isUndefined$2(OFFSET_MAP[attachment.left])||(left=OFFSET_MAP[attachment.left]),isUndefined$2(OFFSET_MAP[attachment.top])||(top=OFFSET_MAP[attachment.top]),{left:left,top:top}}function autoToFixedAttachment(attachment,relativeToAttachment){var left=attachment.left,top=attachment.top;return"auto"===left&&(left=MIRROR_LR[relativeToAttachment.left]),"auto"===top&&(top=MIRROR_TB[relativeToAttachment.top]),{left:left,top:top}}function offsetToPx(offset,size){return isString$1(offset.left)&&-1!==offset.left.indexOf("%")&&(offset.left=parseFloat(offset.left)/100*size.width),isString$1(offset.top)&&-1!==offset.top.indexOf("%")&&(offset.top=parseFloat(offset.top)/100*size.height),offset}function parseTopLeft(value){var _value$split=value.split(" "),top,left;return{top:_value$split[0],left:_value$split[1]}}function getScrollParents(el){var computedStyle,position=(getComputedStyle(el)||{}).position,parents=[];if("fixed"===position)return[el];for(var parent=el;(parent=parent.parentNode)&&parent&&1===parent.nodeType;){var style=void 0;try{style=getComputedStyle(parent)}catch(err){}if(isUndefined$2(style)||null===style)return parents.push(parent),parents;var _style=style,overflow=_style.overflow,overflowX=_style.overflowX,overflowY=_style.overflowY;/(auto|scroll|overlay)/.test(overflow+overflowY+overflowX)&&("absolute"!==position||0<=["relative","absolute","fixed"].indexOf(style.position))&&parents.push(parent)}return parents.push(el.ownerDocument.body),el.ownerDocument!==document&&parents.push(el.ownerDocument.defaultView),parents}function getOffsetParent(el){return el.offsetParent||document.documentElement}var TetherBase={modules:[Constraint,Abutment,Shift]};function isFullscreenElement(e){var d=e.ownerDocument,fe;return(d.fullscreenElement||d.webkitFullscreenElement||d.mozFullScreenElement||d.msFullscreenElement)===e}function within(a,b,diff){return void 0===diff&&(diff=1),b<=a+diff&&a-diff<=b}var transformKey=function(){if(isUndefined$2(document))return"";for(var el=document.createElement("div"),transforms=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<transforms.length;++i){var key=transforms[i];if(void 0!==el.style[key])return key}}(),tethers=[],position=function position(){tethers.forEach(function(tether){tether.position(!1)}),flush()},lastCall,lastDuration,pendingTimeout,tick;function now(){return performance.now()}pendingTimeout=lastDuration=lastCall=null,tick=function tick(){if(!isUndefined$2(lastDuration)&&16<lastDuration)return lastDuration=Math.min(lastDuration-16,250),void(pendingTimeout=setTimeout(tick,250));!isUndefined$2(lastCall)&&now()-lastCall<10||(null!=pendingTimeout&&(clearTimeout(pendingTimeout),pendingTimeout=null),lastCall=now(),position(),lastDuration=now()-lastCall)},isUndefined$2(window)||isUndefined$2(window.addEventListener)||["resize","scroll","touchmove"].forEach(function(event){window.addEventListener(event,tick)});var TetherClass=function(_Evented){function TetherClass(options){var _this;return(_this=_Evented.call(this)||this).position=_this.position.bind(_assertThisInitialized$1(_this)),tethers.push(_assertThisInitialized$1(_this)),_this.history=[],_this.setOptions(options,!1),TetherBase.modules.forEach(function(module){isUndefined$2(module.initialize)||module.initialize.call(_assertThisInitialized$1(_this))}),_this.position(),_this}_inheritsLoose$1(TetherClass,_Evented);var _proto=TetherClass.prototype;return _proto.setOptions=function setOptions(options,pos){var _this2=this;void 0===pos&&(pos=!0);var defaults={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=extend(defaults,options);var _this$options=this.options,element=_this$options.element,target=_this$options.target,targetModifier=_this$options.targetModifier;if(this.element=element,this.target=target,this.targetModifier=targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(key){if(isUndefined$2(_this2[key]))throw new Error("Tether Error: Both element and target must be defined");isUndefined$2(_this2[key].jquery)?isString$1(_this2[key])&&(_this2[key]=document.querySelector(_this2[key])):_this2[key]=_this2[key][0]}),this._addClasses(),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=parseTopLeft(this.options.targetAttachment),this.attachment=parseTopLeft(this.options.attachment),this.offset=parseTopLeft(this.options.offset),this.targetOffset=parseTopLeft(this.options.targetOffset),isUndefined$2(this.scrollParents)||this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=getScrollParents(this.target),!1!==this.options.enabled&&this.enable(pos)},_proto.getTargetBounds=function getTargetBounds(){return isUndefined$2(this.targetModifier)?getBounds(this.target):"visible"===this.targetModifier?getVisibleBounds(this.target):"scroll-handle"===this.targetModifier?getScrollHandleBounds(this.target):void 0},_proto.clearCache=function clearCache(){this._cache={}},_proto.cache=function cache(k,getter){return isUndefined$2(this._cache)&&(this._cache={}),isUndefined$2(this._cache[k])&&(this._cache[k]=getter.call(this)),this._cache[k]},_proto.enable=function enable(pos){var _this3=this;void 0===pos&&(pos=!0);var _this$options2=this.options,classes=_this$options2.classes,classPrefix=_this$options2.classPrefix;!1!==this.options.addTargetClasses&&addClass(this.target,getClass("enabled",classes,classPrefix)),addClass(this.element,getClass("enabled",classes,classPrefix)),this.enabled=!0,this.scrollParents.forEach(function(parent){parent!==_this3.target.ownerDocument&&parent.addEventListener("scroll",_this3.position)}),pos&&this.position()},_proto.disable=function disable(){var _this4=this,_this$options3=this.options,classes=_this$options3.classes,classPrefix=_this$options3.classPrefix;removeClass(this.target,getClass("enabled",classes,classPrefix)),removeClass(this.element,getClass("enabled",classes,classPrefix)),this.enabled=!1,isUndefined$2(this.scrollParents)||this.scrollParents.forEach(function(parent){parent.removeEventListener("scroll",_this4.position)})},_proto.destroy=function destroy(){var _this5=this;this.disable(),this._removeClasses(),tethers.forEach(function(tether,i){tether===_this5&&tethers.splice(i,1)}),0===tethers.length&&removeUtilElements()},_proto.updateAttachClasses=function updateAttachClasses(elementAttach,targetAttach){var _this6=this;elementAttach=elementAttach||this.attachment,targetAttach=targetAttach||this.targetAttachment;var sides=["left","top","bottom","right","middle","center"],_this$options4=this.options,classes=_this$options4.classes,classPrefix=_this$options4.classPrefix;!isUndefined$2(this._addAttachClasses)&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),isUndefined$2(this._addAttachClasses)&&(this._addAttachClasses=[]),this.add=this._addAttachClasses,elementAttach.top&&this.add.push(getClass("element-attached",classes,classPrefix)+"-"+elementAttach.top),elementAttach.left&&this.add.push(getClass("element-attached",classes,classPrefix)+"-"+elementAttach.left),targetAttach.top&&this.add.push(getClass("target-attached",classes,classPrefix)+"-"+targetAttach.top),targetAttach.left&&this.add.push(getClass("target-attached",classes,classPrefix)+"-"+targetAttach.left),this.all=[],sides.forEach(function(side){_this6.all.push(getClass("element-attached",classes,classPrefix)+"-"+side),_this6.all.push(getClass("target-attached",classes,classPrefix)+"-"+side)}),defer(function(){isUndefined$2(_this6._addAttachClasses)||(updateClasses(_this6.element,_this6._addAttachClasses,_this6.all),!1!==_this6.options.addTargetClasses&&updateClasses(_this6.target,_this6._addAttachClasses,_this6.all),delete _this6._addAttachClasses)})},_proto.position=function position(flushChanges){var _this7=this;if(void 0===flushChanges&&(flushChanges=!0),this.enabled){this.clearCache();var targetAttachment=autoToFixedAttachment(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,targetAttachment);var elementPos=this.cache("element-bounds",function(){return getBounds(_this7.element)}),width=elementPos.width,height=elementPos.height;if(0!==width||0!==height||isUndefined$2(this.lastSize))this.lastSize={width:width,height:height};else{var _this$lastSize=this.lastSize;width=_this$lastSize.width,height=_this$lastSize.height}var targetPos=this.cache("target-bounds",function(){return _this7.getTargetBounds()}),targetSize=targetPos,offset=offsetToPx(attachmentToOffset(this.attachment),{width:width,height:height}),targetOffset=offsetToPx(attachmentToOffset(targetAttachment),targetSize),manualOffset=offsetToPx(this.offset,{width:width,height:height}),manualTargetOffset=offsetToPx(this.targetOffset,targetSize);offset=addOffset(offset,manualOffset),targetOffset=addOffset(targetOffset,manualTargetOffset);for(var left=targetPos.left+targetOffset.left-offset.left,top=targetPos.top+targetOffset.top-offset.top,i=0;i<TetherBase.modules.length;++i){var module,ret=TetherBase.modules[i].position.call(this,{left:left,top:top,targetAttachment:targetAttachment,targetPos:targetPos,elementPos:elementPos,offset:offset,targetOffset:targetOffset,manualOffset:manualOffset,manualTargetOffset:manualTargetOffset,scrollbarSize:scrollbarSize,attachment:this.attachment});if(!1===ret)return!1;!isUndefined$2(ret)&&isObject(ret)&&(top=ret.top,left=ret.left)}var next={page:{top:top,left:left},viewport:{top:top-pageYOffset,bottom:pageYOffset-top-height+innerHeight,left:left-pageXOffset,right:pageXOffset-left-width+innerWidth}},doc=this.target.ownerDocument,win=doc.defaultView,scrollbarSize;if(win.innerHeight>doc.documentElement.clientHeight&&(scrollbarSize=this.cache("scrollbar-size",getScrollBarSize),next.viewport.bottom-=scrollbarSize.height),win.innerWidth>doc.documentElement.clientWidth&&(scrollbarSize=this.cache("scrollbar-size",getScrollBarSize),next.viewport.right-=scrollbarSize.width),-1!==["","static"].indexOf(doc.body.style.position)&&-1!==["","static"].indexOf(doc.body.parentElement.style.position)||(next.page.bottom=doc.body.scrollHeight-top-height,next.page.right=doc.body.scrollWidth-left-width),!isUndefined$2(this.options.optimizations)&&!1!==this.options.optimizations.moveElement&&isUndefined$2(this.targetModifier)){var offsetParent=this.cache("target-offsetparent",function(){return getOffsetParent(_this7.target)}),offsetPosition=this.cache("target-offsetparent-bounds",function(){return getBounds(offsetParent)}),offsetParentStyle=getComputedStyle(offsetParent),offsetParentSize=offsetPosition,offsetBorder={};if(["Top","Left","Bottom","Right"].forEach(function(side){offsetBorder[side.toLowerCase()]=parseFloat(offsetParentStyle["border"+side+"Width"])}),offsetPosition.right=doc.body.scrollWidth-offsetPosition.left-offsetParentSize.width+offsetBorder.right,offsetPosition.bottom=doc.body.scrollHeight-offsetPosition.top-offsetParentSize.height+offsetBorder.bottom,next.page.top>=offsetPosition.top+offsetBorder.top&&next.page.bottom>=offsetPosition.bottom&&next.page.left>=offsetPosition.left+offsetBorder.left&&next.page.right>=offsetPosition.right){var scrollLeft=offsetParent.scrollLeft,scrollTop=offsetParent.scrollTop;next.offset={top:next.page.top-offsetPosition.top+scrollTop-offsetBorder.top,left:next.page.left-offsetPosition.left+scrollLeft-offsetBorder.left}}}return this.move(next),this.history.unshift(next),3<this.history.length&&this.history.pop(),flushChanges&&flush(),!0}},_proto.move=function move(pos){var _this8=this;if(!isUndefined$2(this.element.parentNode)){var same={};for(var type in pos)for(var key in same[type]={},pos[type]){for(var found=!1,i=0;i<this.history.length;++i){var point=this.history[i];if(!isUndefined$2(point[type])&&!within(point[type][key],pos[type][key])){found=!0;break}}found||(same[type][key]=!0)}var css={top:"",left:"",right:"",bottom:""},transcribe=function transcribe(_same,_pos){var hasOptimizations,gpu,yPos,xPos;!1!==(!isUndefined$2(_this8.options.optimizations)?_this8.options.optimizations.gpu:null)?(yPos=_same.top?(css.top=0,_pos.top):(css.bottom=0,-_pos.bottom),xPos=_same.left?(css.left=0,_pos.left):(css.right=0,-_pos.right),isNumber(window.devicePixelRatio)&&devicePixelRatio%1==0&&(xPos=Math.round(xPos*devicePixelRatio)/devicePixelRatio,yPos=Math.round(yPos*devicePixelRatio)/devicePixelRatio),css[transformKey]="translateX("+xPos+"px) translateY("+yPos+"px)","msTransform"!==transformKey&&(css[transformKey]+=" translateZ(0)")):(_same.top?css.top=_pos.top+"px":css.bottom=_pos.bottom+"px",_same.left?css.left=_pos.left+"px":css.right=_pos.right+"px")},hasOptimizations,allowPositionFixed=!0;!isUndefined$2(this.options.optimizations)&&!1===this.options.optimizations.allowPositionFixed&&(allowPositionFixed=!1);var moved=!1;if((same.page.top||same.page.bottom)&&(same.page.left||same.page.right))css.position="absolute",transcribe(same.page,pos.page);else if(allowPositionFixed&&(same.viewport.top||same.viewport.bottom)&&(same.viewport.left||same.viewport.right))css.position="fixed",transcribe(same.viewport,pos.viewport);else if(!isUndefined$2(same.offset)&&same.offset.top&&same.offset.left){css.position="absolute";var offsetParent=this.cache("target-offsetparent",function(){return getOffsetParent(_this8.target)});getOffsetParent(this.element)!==offsetParent&&defer(function(){_this8.element.parentNode.removeChild(_this8.element),offsetParent.appendChild(_this8.element)}),transcribe(same.offset,pos.offset),moved=!0}else css.position="absolute",transcribe({top:!0,left:!0},pos.page);if(!moved)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var offsetParentIsBody=!0,currentNode=this.element.parentNode;currentNode&&1===currentNode.nodeType&&"BODY"!==currentNode.tagName&&!isFullscreenElement(currentNode);){if("static"!==getComputedStyle(currentNode).position){offsetParentIsBody=!1;break}currentNode=currentNode.parentNode}offsetParentIsBody||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var writeCSS={},write=!1;for(var _key in css){var val=css[_key],elVal;this.element.style[_key]!==val&&(write=!0,writeCSS[_key]=val)}write&&defer(function(){extend(_this8.element.style,writeCSS),_this8.trigger("repositioned")})}},_proto._addClasses=function _addClasses(){var _this$options5=this.options,classes=_this$options5.classes,classPrefix=_this$options5.classPrefix;addClass(this.element,getClass("element",classes,classPrefix)),!1!==this.options.addTargetClasses&&addClass(this.target,getClass("target",classes,classPrefix))},_proto._removeClasses=function _removeClasses(){var _this9=this,_this$options6=this.options,classes=_this$options6.classes,classPrefix=_this$options6.classPrefix;removeClass(this.element,getClass("element",classes,classPrefix)),!1!==this.options.addTargetClasses&&removeClass(this.target,getClass("target",classes,classPrefix)),this.all.forEach(function(className){_this9.element.classList.remove(className),_this9.target.classList.remove(className)})},TetherClass}(Evented$1);TetherClass.modules=[],TetherBase.position=position;var Tether=extend(TetherClass,TetherBase);Tether.modules.push({initialize:function initialize(){var _this10=this,_this$options7=this.options,classes=_this$options7.classes,classPrefix=_this$options7.classPrefix;this.markers={},["target","element"].forEach(function(type){var el=document.createElement("div");el.className=getClass(type+"-marker",classes,classPrefix);var dot=document.createElement("div");dot.className=getClass("marker-dot",classes,classPrefix),el.appendChild(dot),_this10[type].appendChild(el),_this10.markers[type]={dot:dot,el:el}})},position:function position(_ref){var manualOffset,manualTargetOffset,offsets={element:_ref.manualOffset,target:_ref.manualTargetOffset};for(var type in offsets){var offset=offsets[type];for(var side in offset){var val=offset[side];isString$1(val)&&(-1!==val.indexOf("%")||-1!==val.indexOf("px"))||(val+="px"),this.markers[type].dot.style[side]!==val&&(this.markers[type].dot.style[side]=val)}}return!0}});var ATTACHMENT={bottom:"top center","bottom center":"top center","bottom left":"top right","bottom right":"top left",center:"middle center",left:"middle right",middle:"middle center","middle center":"middle center","middle left":"middle right","middle right":"middle left",right:"middle left",top:"bottom center","top center":"bottom center","top left":"bottom right","top right":"bottom left"},current_component;function normalizePrefix(prefix){return isString(prefix)&&""!==prefix?"-"!==prefix.charAt(prefix.length-1)?prefix+"-":prefix:""}function parseAttachTo(step){var options=step.options.attachTo||{},returnOpts=Object.assign({},options);if(isString(options.element)){try{returnOpts.element=document.querySelector(options.element)}catch(e){}returnOpts.element||console.error("The element for this Shepherd step was not found "+options.element)}return returnOpts}function setupTooltip(step){step.tooltip&&step.tooltip.destroy();var attachToOpts=parseAttachTo(step),tetherOptions=getTetherOptions(attachToOpts,step);step.tooltip=new Tether(tetherOptions),step.target=attachToOpts.element}function uuid(){var d=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==c?r:3&r|8).toString(16)})}function getTetherOptions(attachToOptions,step){var tetherOptions={classPrefix:"shepherd",constraints:[{to:"scrollParent",attachment:"together",pin:["left","right","top"]},{to:"window",attachment:"together"}]},target=document.body;return attachToOptions.element&&attachToOptions.on?(tetherOptions.attachment=ATTACHMENT[attachToOptions.on]||ATTACHMENT.right,target=attachToOptions.element):(tetherOptions.attachment="middle center",tetherOptions.targetModifier="visible"),tetherOptions.element=step.el,tetherOptions.target=target,step.options.tetherOptions&&(step.options.tetherOptions.constraints&&(tetherOptions.constraints=step.options.tetherOptions.constraints),tetherOptions.classes=_extends({},tetherOptions.classes,{},step.options.tetherOptions.classes),tetherOptions.optimizations=_extends({},tetherOptions.optimizations,{},step.options.tetherOptions.optimizations),tetherOptions=_extends({},tetherOptions,{},step.options.tetherOptions)),tetherOptions}function noop(){}function assign(tar,src){for(var k in src)tar[k]=src[k];return tar}function run(fn){return fn()}function blank_object(){return Object.create(null)}function run_all(fns){fns.forEach(run)}function is_function(thing){return"function"==typeof thing}function safe_not_equal(a,b){return a!=a?b==b:a!==b||a&&"object"==typeof a||"function"==typeof a}function append(target,node){target.appendChild(node)}function insert(target,node,anchor){target.insertBefore(node,anchor||null)}function detach(node){node.parentNode.removeChild(node)}function destroy_each(iterations,detaching){for(var i=0;i<iterations.length;i+=1)iterations[i]&&iterations[i].d(detaching)}function element(name){return document.createElement(name)}function svg_element(name){return document.createElementNS("http://www.w3.org/2000/svg",name)}function text(data){return document.createTextNode(data)}function space(){return text(" ")}function empty(){return text("")}function listen(node,event,handler,options){return node.addEventListener(event,handler,options),function(){return node.removeEventListener(event,handler,options)}}function attr(node,attribute,value){null==value?node.removeAttribute(attribute):node.setAttribute(attribute,value)}function set_attributes(node,attributes){for(var key in attributes)"style"===key?node.style.cssText=attributes[key]:key in node?node[key]=attributes[key]:attr(node,key,attributes[key])}function children(element){return Array.from(element.childNodes)}function set_data(text,data){data=""+data,text.data!==data&&(text.data=data)}function toggle_class(element,name,toggle){element.classList[toggle?"add":"remove"](name)}function set_current_component(component){current_component=component}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(fn){get_current_component().$$.on_mount.push(fn)}function afterUpdate(fn){get_current_component().$$.after_update.push(fn)}var dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve(),update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush$1))}function add_render_callback(fn){render_callbacks.push(fn)}function flush$1(){var seen_callbacks=new Set;do{for(;dirty_components.length;){var component=dirty_components.shift();set_current_component(component),update(component.$$)}for(;binding_callbacks.length;)binding_callbacks.pop()();for(var i=0;i<render_callbacks.length;i+=1){var callback=render_callbacks[i];seen_callbacks.has(callback)||(callback(),seen_callbacks.add(callback))}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1}function update($$){$$.fragment&&($$.update($$.dirty),run_all($$.before_update),$$.fragment.p($$.dirty,$$.ctx),$$.dirty=null,$$.after_update.forEach(add_render_callback))}var outroing=new Set,outros,SvelteElement;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(block,local){block&&block.i&&(outroing.delete(block),block.i(local))}function transition_out(block,local,detach,callback){if(block&&block.o){if(outroing.has(block))return;outroing.add(block),outros.c.push(function(){outroing.delete(block),callback&&(detach&&block.d(1),callback())}),block.o(local)}}function get_spread_update(levels,updates){for(var update={},to_null_out={},accounted_for={$$scope:1},i=levels.length;i--;){var o=levels[i],n=updates[i];if(n){for(var key in o)key in n||(to_null_out[key]=1);for(var _key2 in n)accounted_for[_key2]||(update[_key2]=n[_key2],accounted_for[_key2]=1);levels[i]=n}else for(var _key3 in o)accounted_for[_key3]=1}for(var _key4 in to_null_out)_key4 in update||(update[_key4]=void 0);return update}function mount_component(component,target,anchor){var _component$$$=component.$$,fragment=_component$$$.fragment,on_mount=_component$$$.on_mount,on_destroy=_component$$$.on_destroy,after_update=_component$$$.after_update;fragment.m(target,anchor),add_render_callback(function(){var new_on_destroy=on_mount.map(run).filter(is_function);on_destroy?on_destroy.push.apply(on_destroy,new_on_destroy):run_all(new_on_destroy),component.$$.on_mount=[]}),after_update.forEach(add_render_callback)}function destroy_component(component,detaching){component.$$.fragment&&(run_all(component.$$.on_destroy),component.$$.fragment.d(detaching),component.$$.on_destroy=component.$$.fragment=null,component.$$.ctx={})}function make_dirty(component,key){component.$$.dirty||(dirty_components.push(component),schedule_update(),component.$$.dirty=blank_object()),component.$$.dirty[key]=!0}function init(component,options,instance,create_fragment,not_equal,prop_names){var parent_component=current_component;set_current_component(component);var props=options.props||{},$$=component.$$={fragment:null,ctx:null,props:prop_names,update:noop,not_equal:not_equal,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(parent_component?parent_component.$$.context:[]),callbacks:blank_object(),dirty:null},ready=!1;$$.ctx=instance?instance(component,props,function(key,ret,value){return void 0===value&&(value=ret),$$.ctx&&not_equal($$.ctx[key],$$.ctx[key]=value)&&($$.bound[key]&&$$.bound[key](value),ready&&make_dirty(component,key)),ret}):props,$$.update(),ready=!0,run_all($$.before_update),$$.fragment=create_fragment($$.ctx),options.target&&(options.hydrate?$$.fragment.l(children(options.target)):$$.fragment.c(),options.intro&&transition_in(component.$$.fragment),mount_component(component,options.target,options.anchor),flush$1()),set_current_component(parent_component)}"undefined"!=typeof HTMLElement&&(SvelteElement=function(_HTMLElement){function SvelteElement(){var _this;return(_this=_HTMLElement.call(this)||this).attachShadow({mode:"open"}),_this}_inheritsLoose(SvelteElement,_HTMLElement);var _proto2=SvelteElement.prototype;return _proto2.connectedCallback=function connectedCallback(){for(var key in this.$$.slotted)this.appendChild(this.$$.slotted[key])},_proto2.attributeChangedCallback=function attributeChangedCallback(attr,_oldValue,newValue){this[attr]=newValue},_proto2.$destroy=function $destroy(){destroy_component(this,1),this.$destroy=noop},_proto2.$on=function $on(type,callback){var callbacks=this.$$.callbacks[type]||(this.$$.callbacks[type]=[]);return callbacks.push(callback),function(){var index=callbacks.indexOf(callback);-1!==index&&callbacks.splice(index,1)}},_proto2.$set=function $set(){},SvelteElement}(_wrapNativeSuper(HTMLElement)));var SvelteComponent=function(){function SvelteComponent(){}var _proto3=SvelteComponent.prototype;return _proto3.$destroy=function $destroy(){destroy_component(this,1),this.$destroy=noop},_proto3.$on=function $on(type,callback){var callbacks=this.$$.callbacks[type]||(this.$$.callbacks[type]=[]);return callbacks.push(callback),function(){var index=callbacks.indexOf(callback);-1!==index&&callbacks.splice(index,1)}},_proto3.$set=function $set(){},SvelteComponent}();function create_fragment(ctx){var button,t,button_aria_label_value,button_class_value,dispose;return{c:function c(){button=element("button"),t=text(ctx.text),attr(button,"aria-label",button_aria_label_value=ctx.label?ctx.label:null),attr(button,"class",button_class_value=(ctx.classes||"")+" shepherd-button "+(ctx.secondary?"shepherd-button-secondary":"")),button.disabled=ctx.disabled,attr(button,"tabindex","0"),dispose=listen(button,"click",ctx.action)},m:function m(target,anchor){insert(target,button,anchor),append(button,t)},p:function p(changed,ctx){changed.text&&set_data(t,ctx.text),changed.label&&button_aria_label_value!==(button_aria_label_value=ctx.label?ctx.label:null)&&attr(button,"aria-label",button_aria_label_value),(changed.classes||changed.secondary)&&button_class_value!==(button_class_value=(ctx.classes||"")+" shepherd-button "+(ctx.secondary?"shepherd-button-secondary":""))&&attr(button,"class",button_class_value),changed.disabled&&(button.disabled=ctx.disabled)},i:noop,o:noop,d:function d(detaching){detaching&&detach(button),dispose()}}}function instance($$self,$$props,$$invalidate){var config=$$props.config,step=$$props.step,action,classes,secondary,text,label,disabled;function getDisabled(disabled){return isFunction(disabled)?disabled.call(step):disabled}return $$self.$set=function($$props){"config"in $$props&&$$invalidate("config",config=$$props.config),"step"in $$props&&$$invalidate("step",step=$$props.step)},$$self.$$.update=function($$dirty){void 0===$$dirty&&($$dirty={config:1,step:1}),($$dirty.config||$$dirty.step)&&($$invalidate("action",action=config.action?config.action.bind(step.tour):null),$$invalidate("classes",classes=config.classes),$$invalidate("secondary",secondary=config.secondary),$$invalidate("text",text=config.text),$$invalidate("label",label=config.label),$$invalidate("disabled",disabled=!!config.disabled&&getDisabled(config.disabled)))},{config:config,step:step,action:action,classes:classes,secondary:secondary,text:text,label:label,disabled:disabled}}var Shepherd_button=function(_SvelteComponent){function Shepherd_button(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance,create_fragment,safe_not_equal,["config","step"]),_this}return _inheritsLoose(Shepherd_button,_SvelteComponent),Shepherd_button}(SvelteComponent);function get_each_context(ctx,list,i){var child_ctx=Object.create(ctx);return child_ctx.config=list[i],child_ctx}function create_if_block(ctx){for(var each_1_anchor,current,each_value=ctx.buttons,each_blocks=[],i=0;i<each_value.length;i+=1)each_blocks[i]=create_each_block(get_each_context(ctx,each_value,i));var out=function out(i){return transition_out(each_blocks[i],1,1,function(){each_blocks[i]=null})};return{c:function c(){for(var _i=0;_i<each_blocks.length;_i+=1)each_blocks[_i].c();each_1_anchor=empty()},m:function m(target,anchor){for(var _i2=0;_i2<each_blocks.length;_i2+=1)each_blocks[_i2].m(target,anchor);insert(target,each_1_anchor,anchor),current=!0},p:function p(changed,ctx){if(changed.buttons||changed.step){var _i3;for(each_value=ctx.buttons,_i3=0;_i3<each_value.length;_i3+=1){var child_ctx=get_each_context(ctx,each_value,_i3);each_blocks[_i3]?(each_blocks[_i3].p(changed,child_ctx),transition_in(each_blocks[_i3],1)):(each_blocks[_i3]=create_each_block(child_ctx),each_blocks[_i3].c(),transition_in(each_blocks[_i3],1),each_blocks[_i3].m(each_1_anchor.parentNode,each_1_anchor))}for(group_outros(),_i3=each_value.length;_i3<each_blocks.length;_i3+=1)out(_i3);check_outros()}},i:function i(local){if(!current){for(var _i4=0;_i4<each_value.length;_i4+=1)transition_in(each_blocks[_i4]);current=!0}},o:function o(local){each_blocks=each_blocks.filter(Boolean);for(var _i5=0;_i5<each_blocks.length;_i5+=1)transition_out(each_blocks[_i5]);current=!1},d:function d(detaching){destroy_each(each_blocks,detaching),detaching&&detach(each_1_anchor)}}}function create_each_block(ctx){var current,shepherdbutton=new Shepherd_button({props:{config:ctx.config,step:ctx.step}});return{c:function c(){shepherdbutton.$$.fragment.c()},m:function m(target,anchor){mount_component(shepherdbutton,target,anchor),current=!0},p:function p(changed,ctx){var shepherdbutton_changes={};changed.buttons&&(shepherdbutton_changes.config=ctx.config),changed.step&&(shepherdbutton_changes.step=ctx.step),shepherdbutton.$set(shepherdbutton_changes)},i:function i(local){current||(transition_in(shepherdbutton.$$.fragment,local),current=!0)},o:function o(local){transition_out(shepherdbutton.$$.fragment,local),current=!1},d:function d(detaching){destroy_component(shepherdbutton,detaching)}}}function create_fragment$1(ctx){var footer,current,if_block=ctx.buttons&&create_if_block(ctx);return{c:function c(){footer=element("footer"),if_block&&if_block.c(),attr(footer,"class","shepherd-footer")},m:function m(target,anchor){insert(target,footer,anchor),if_block&&if_block.m(footer,null),current=!0},p:function p(changed,ctx){ctx.buttons?if_block?(if_block.p(changed,ctx),transition_in(if_block,1)):((if_block=create_if_block(ctx)).c(),transition_in(if_block,1),if_block.m(footer,null)):if_block&&(group_outros(),transition_out(if_block,1,1,function(){if_block=null}),check_outros())},i:function i(local){current||(transition_in(if_block),current=!0)},o:function o(local){transition_out(if_block),current=!1},d:function d(detaching){detaching&&detach(footer),if_block&&if_block.d()}}}function instance$1($$self,$$props,$$invalidate){var step=$$props.step,buttons;return $$self.$set=function($$props){"step"in $$props&&$$invalidate("step",step=$$props.step)},$$self.$$.update=function($$dirty){void 0===$$dirty&&($$dirty={step:1}),$$dirty.step&&$$invalidate("buttons",buttons=step.options.buttons)},{step:step,buttons:buttons}}var Shepherd_footer=function(_SvelteComponent){function Shepherd_footer(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$1,create_fragment$1,safe_not_equal,["step"]),_this}return _inheritsLoose(Shepherd_footer,_SvelteComponent),Shepherd_footer}(SvelteComponent);function create_fragment$2(ctx){var button,span,button_aria_label_value,dispose;return{c:function c(){button=element("button"),(span=element("span")).textContent="×",attr(span,"aria-hidden","true"),attr(button,"aria-label",button_aria_label_value=ctx.cancelIcon.label?ctx.cancelIcon.label:"Close Tour"),attr(button,"class","shepherd-cancel-icon"),attr(button,"type","button"),dispose=listen(button,"click",ctx.handleCancelClick)},m:function m(target,anchor){insert(target,button,anchor),append(button,span)},p:function p(changed,ctx){changed.cancelIcon&&button_aria_label_value!==(button_aria_label_value=ctx.cancelIcon.label?ctx.cancelIcon.label:"Close Tour")&&attr(button,"aria-label",button_aria_label_value)},i:noop,o:noop,d:function d(detaching){detaching&&detach(button),dispose()}}}function instance$2($$self,$$props,$$invalidate){var cancelIcon=$$props.cancelIcon,step=$$props.step,handleCancelClick=function handleCancelClick(e){e.preventDefault(),step.cancel()};return $$self.$set=function($$props){"cancelIcon"in $$props&&$$invalidate("cancelIcon",cancelIcon=$$props.cancelIcon),"step"in $$props&&$$invalidate("step",step=$$props.step)},{cancelIcon:cancelIcon,step:step,handleCancelClick:handleCancelClick}}var Shepherd_cancel_icon=function(_SvelteComponent){function Shepherd_cancel_icon(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$2,create_fragment$2,safe_not_equal,["cancelIcon","step"]),_this}return _inheritsLoose(Shepherd_cancel_icon,_SvelteComponent),Shepherd_cancel_icon}(SvelteComponent);function create_fragment$3(ctx){var h3;return{c:function c(){attr(h3=element("h3"),"id",ctx.labelId),attr(h3,"class","shepherd-title")},m:function m(target,anchor){insert(target,h3,anchor),ctx.h3_binding(h3)},p:function p(changed,ctx){changed.labelId&&attr(h3,"id",ctx.labelId)},i:noop,o:noop,d:function d(detaching){detaching&&detach(h3),ctx.h3_binding(null)}}}function instance$3($$self,$$props,$$invalidate){var labelId=$$props.labelId,element=$$props.element,title=$$props.title;function h3_binding($$value){binding_callbacks[$$value?"unshift":"push"](function(){$$invalidate("element",element=$$value)})}return afterUpdate(function(){isFunction(title)&&$$invalidate("title",title=title()),$$invalidate("element",element.innerHTML=title,element)}),$$self.$set=function($$props){"labelId"in $$props&&$$invalidate("labelId",labelId=$$props.labelId),"element"in $$props&&$$invalidate("element",element=$$props.element),"title"in $$props&&$$invalidate("title",title=$$props.title)},{labelId:labelId,element:element,title:title,h3_binding:h3_binding}}var Shepherd_title=function(_SvelteComponent){function Shepherd_title(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$3,create_fragment$3,safe_not_equal,["labelId","element","title"]),_this}return _inheritsLoose(Shepherd_title,_SvelteComponent),Shepherd_title}(SvelteComponent);function create_if_block_1(ctx){var current,shepherdtitle=new Shepherd_title({props:{labelId:ctx.labelId,title:ctx.title}});return{c:function c(){shepherdtitle.$$.fragment.c()},m:function m(target,anchor){mount_component(shepherdtitle,target,anchor),current=!0},p:function p(changed,ctx){var shepherdtitle_changes={};changed.labelId&&(shepherdtitle_changes.labelId=ctx.labelId),changed.title&&(shepherdtitle_changes.title=ctx.title),shepherdtitle.$set(shepherdtitle_changes)},i:function i(local){current||(transition_in(shepherdtitle.$$.fragment,local),current=!0)},o:function o(local){transition_out(shepherdtitle.$$.fragment,local),current=!1},d:function d(detaching){destroy_component(shepherdtitle,detaching)}}}function create_if_block$1(ctx){var current,shepherdcancelicon=new Shepherd_cancel_icon({props:{cancelIcon:ctx.cancelIcon,step:ctx.step}});return{c:function c(){shepherdcancelicon.$$.fragment.c()},m:function m(target,anchor){mount_component(shepherdcancelicon,target,anchor),current=!0},p:function p(changed,ctx){var shepherdcancelicon_changes={};changed.cancelIcon&&(shepherdcancelicon_changes.cancelIcon=ctx.cancelIcon),changed.step&&(shepherdcancelicon_changes.step=ctx.step),shepherdcancelicon.$set(shepherdcancelicon_changes)},i:function i(local){current||(transition_in(shepherdcancelicon.$$.fragment,local),current=!0)},o:function o(local){transition_out(shepherdcancelicon.$$.fragment,local),current=!1},d:function d(detaching){destroy_component(shepherdcancelicon,detaching)}}}function create_fragment$4(ctx){var header,t,current,if_block0=ctx.title&&create_if_block_1(ctx),if_block1=ctx.cancelIcon&&ctx.cancelIcon.enabled&&create_if_block$1(ctx);return{c:function c(){header=element("header"),if_block0&&if_block0.c(),t=space(),if_block1&&if_block1.c(),attr(header,"class","shepherd-header")},m:function m(target,anchor){insert(target,header,anchor),if_block0&&if_block0.m(header,null),append(header,t),if_block1&&if_block1.m(header,null),current=!0},p:function p(changed,ctx){ctx.title?if_block0?(if_block0.p(changed,ctx),transition_in(if_block0,1)):((if_block0=create_if_block_1(ctx)).c(),transition_in(if_block0,1),if_block0.m(header,t)):if_block0&&(group_outros(),transition_out(if_block0,1,1,function(){if_block0=null}),check_outros()),ctx.cancelIcon&&ctx.cancelIcon.enabled?if_block1?(if_block1.p(changed,ctx),transition_in(if_block1,1)):((if_block1=create_if_block$1(ctx)).c(),transition_in(if_block1,1),if_block1.m(header,null)):if_block1&&(group_outros(),transition_out(if_block1,1,1,function(){if_block1=null}),check_outros())},i:function i(local){current||(transition_in(if_block0),transition_in(if_block1),current=!0)},o:function o(local){transition_out(if_block0),transition_out(if_block1),current=!1},d:function d(detaching){detaching&&detach(header),if_block0&&if_block0.d(),if_block1&&if_block1.d()}}}function instance$4($$self,$$props,$$invalidate){var labelId=$$props.labelId,step=$$props.step,title,cancelIcon;return $$self.$set=function($$props){"labelId"in $$props&&$$invalidate("labelId",labelId=$$props.labelId),"step"in $$props&&$$invalidate("step",step=$$props.step)},$$self.$$.update=function($$dirty){void 0===$$dirty&&($$dirty={step:1}),$$dirty.step&&($$invalidate("title",title=step.options.title),$$invalidate("cancelIcon",cancelIcon=step.options.cancelIcon))},{labelId:labelId,step:step,title:title,cancelIcon:cancelIcon}}var Shepherd_header=function(_SvelteComponent){function Shepherd_header(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$4,create_fragment$4,safe_not_equal,["labelId","step"]),_this}return _inheritsLoose(Shepherd_header,_SvelteComponent),Shepherd_header}(SvelteComponent);function create_fragment$5(ctx){var div;return{c:function c(){attr(div=element("div"),"class","shepherd-text"),attr(div,"id",ctx.descriptionId)},m:function m(target,anchor){insert(target,div,anchor),ctx.div_binding(div)},p:function p(changed,ctx){changed.descriptionId&&attr(div,"id",ctx.descriptionId)},i:noop,o:noop,d:function d(detaching){detaching&&detach(div),ctx.div_binding(null)}}}function instance$5($$self,$$props,$$invalidate){var descriptionId=$$props.descriptionId,element=$$props.element,step=$$props.step;function div_binding($$value){binding_callbacks[$$value?"unshift":"push"](function(){$$invalidate("element",element=$$value)})}return afterUpdate(function(){var text=step.options.text;isFunction(text)&&(text=text.call(step)),isElement(text)?element.appendChild(text):$$invalidate("element",element.innerHTML=text,element)}),$$self.$set=function($$props){"descriptionId"in $$props&&$$invalidate("descriptionId",descriptionId=$$props.descriptionId),"element"in $$props&&$$invalidate("element",element=$$props.element),"step"in $$props&&$$invalidate("step",step=$$props.step)},{descriptionId:descriptionId,element:element,step:step,div_binding:div_binding}}var Shepherd_text=function(_SvelteComponent){function Shepherd_text(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$5,create_fragment$5,safe_not_equal,["descriptionId","element","step"]),_this}return _inheritsLoose(Shepherd_text,_SvelteComponent),Shepherd_text}(SvelteComponent);function create_if_block_1$1(ctx){var current,shepherdtext=new Shepherd_text({props:{descriptionId:ctx.descriptionId,step:ctx.step}});return{c:function c(){shepherdtext.$$.fragment.c()},m:function m(target,anchor){mount_component(shepherdtext,target,anchor),current=!0},p:function p(changed,ctx){var shepherdtext_changes={};changed.descriptionId&&(shepherdtext_changes.descriptionId=ctx.descriptionId),changed.step&&(shepherdtext_changes.step=ctx.step),shepherdtext.$set(shepherdtext_changes)},i:function i(local){current||(transition_in(shepherdtext.$$.fragment,local),current=!0)},o:function o(local){transition_out(shepherdtext.$$.fragment,local),current=!1},d:function d(detaching){destroy_component(shepherdtext,detaching)}}}function create_if_block$2(ctx){var current,shepherdfooter=new Shepherd_footer({props:{step:ctx.step}});return{c:function c(){shepherdfooter.$$.fragment.c()},m:function m(target,anchor){mount_component(shepherdfooter,target,anchor),current=!0},p:function p(changed,ctx){var shepherdfooter_changes={};changed.step&&(shepherdfooter_changes.step=ctx.step),shepherdfooter.$set(shepherdfooter_changes)},i:function i(local){current||(transition_in(shepherdfooter.$$.fragment,local),current=!0)},o:function o(local){transition_out(shepherdfooter.$$.fragment,local),current=!1},d:function d(detaching){destroy_component(shepherdfooter,detaching)}}}function create_fragment$6(ctx){var div,t0,show_if_1=!isUndefined$1(ctx.step.options.text),t1,show_if=Array.isArray(ctx.step.options.buttons)&&ctx.step.options.buttons.length,current,shepherdheader=new Shepherd_header({props:{labelId:ctx.labelId,step:ctx.step}}),if_block0=show_if_1&&create_if_block_1$1(ctx),if_block1=show_if&&create_if_block$2(ctx);return{c:function c(){div=element("div"),shepherdheader.$$.fragment.c(),t0=space(),if_block0&&if_block0.c(),t1=space(),if_block1&&if_block1.c(),attr(div,"class","shepherd-content")},m:function m(target,anchor){insert(target,div,anchor),mount_component(shepherdheader,div,null),append(div,t0),if_block0&&if_block0.m(div,null),append(div,t1),if_block1&&if_block1.m(div,null),current=!0},p:function p(changed,ctx){var shepherdheader_changes={};changed.labelId&&(shepherdheader_changes.labelId=ctx.labelId),changed.step&&(shepherdheader_changes.step=ctx.step),shepherdheader.$set(shepherdheader_changes),changed.step&&(show_if_1=!isUndefined$1(ctx.step.options.text)),show_if_1?if_block0?(if_block0.p(changed,ctx),transition_in(if_block0,1)):((if_block0=create_if_block_1$1(ctx)).c(),transition_in(if_block0,1),if_block0.m(div,t1)):if_block0&&(group_outros(),transition_out(if_block0,1,1,function(){if_block0=null}),check_outros()),changed.step&&(show_if=Array.isArray(ctx.step.options.buttons)&&ctx.step.options.buttons.length),show_if?if_block1?(if_block1.p(changed,ctx),transition_in(if_block1,1)):((if_block1=create_if_block$2(ctx)).c(),transition_in(if_block1,1),if_block1.m(div,null)):if_block1&&(group_outros(),transition_out(if_block1,1,1,function(){if_block1=null}),check_outros())},i:function i(local){current||(transition_in(shepherdheader.$$.fragment,local),transition_in(if_block0),transition_in(if_block1),current=!0)},o:function o(local){transition_out(shepherdheader.$$.fragment,local),transition_out(if_block0),transition_out(if_block1),current=!1},d:function d(detaching){detaching&&detach(div),destroy_component(shepherdheader),if_block0&&if_block0.d(),if_block1&&if_block1.d()}}}function instance$6($$self,$$props,$$invalidate){var descriptionId=$$props.descriptionId,labelId=$$props.labelId,step=$$props.step;return $$self.$set=function($$props){"descriptionId"in $$props&&$$invalidate("descriptionId",descriptionId=$$props.descriptionId),"labelId"in $$props&&$$invalidate("labelId",labelId=$$props.labelId),"step"in $$props&&$$invalidate("step",step=$$props.step)},{descriptionId:descriptionId,labelId:labelId,step:step}}var Shepherd_content=function(_SvelteComponent){function Shepherd_content(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$6,create_fragment$6,safe_not_equal,["descriptionId","labelId","step"]),_this}return _inheritsLoose(Shepherd_content,_SvelteComponent),Shepherd_content}(SvelteComponent);function create_if_block$3(ctx){var div;return{c:function c(){attr(div=element("div"),"class","shepherd-arrow")},m:function m(target,anchor){insert(target,div,anchor)},d:function d(detaching){detaching&&detach(div)}}}function create_fragment$7(ctx){for(var div,t,current,dispose,if_block=ctx.step.options.arrow&&ctx.step.options.attachTo&&ctx.step.options.attachTo.element&&create_if_block$3(),shepherdcontent=new Shepherd_content({props:{descriptionId:ctx.descriptionId,labelId:ctx.labelId,step:ctx.step}}),div_levels=[{"aria-describedby":isUndefined$1(ctx.step.options.text)?null:ctx.descriptionId},{"aria-labelledby":ctx.step.options.title?ctx.labelId:null},ctx.dataStepId,{role:"dialog"},{tabindex:"0"}],div_data={},i=0;i<div_levels.length;i+=1)div_data=assign(div_data,div_levels[i]);return{c:function c(){div=element("div"),if_block&&if_block.c(),t=space(),shepherdcontent.$$.fragment.c(),set_attributes(div,div_data),toggle_class(div,"shepherd-has-cancel-icon",ctx.hasCancelIcon),toggle_class(div,"shepherd-has-title",ctx.hasTitle),toggle_class(div,"shepherd-element",!0),dispose=listen(div,"keydown",ctx.handleKeyDown)},m:function m(target,anchor){insert(target,div,anchor),if_block&&if_block.m(div,null),append(div,t),mount_component(shepherdcontent,div,null),ctx.div_binding(div),current=!0},p:function p(changed,ctx){ctx.step.options.arrow&&ctx.step.options.attachTo&&ctx.step.options.attachTo.element?if_block||((if_block=create_if_block$3()).c(),if_block.m(div,t)):if_block&&(if_block.d(1),if_block=null);var shepherdcontent_changes={};changed.descriptionId&&(shepherdcontent_changes.descriptionId=ctx.descriptionId),changed.labelId&&(shepherdcontent_changes.labelId=ctx.labelId),changed.step&&(shepherdcontent_changes.step=ctx.step),shepherdcontent.$set(shepherdcontent_changes),set_attributes(div,get_spread_update(div_levels,[(changed.isUndefined||changed.step||changed.descriptionId)&&{"aria-describedby":isUndefined$1(ctx.step.options.text)?null:ctx.descriptionId},(changed.step||changed.labelId)&&{"aria-labelledby":ctx.step.options.title?ctx.labelId:null},changed.dataStepId&&ctx.dataStepId,{role:"dialog"},{tabindex:"0"}])),changed.hasCancelIcon&&toggle_class(div,"shepherd-has-cancel-icon",ctx.hasCancelIcon),changed.hasTitle&&toggle_class(div,"shepherd-has-title",ctx.hasTitle)},i:function i(local){current||(transition_in(shepherdcontent.$$.fragment,local),current=!0)},o:function o(local){transition_out(shepherdcontent.$$.fragment,local),current=!1},d:function d(detaching){detaching&&detach(div),if_block&&if_block.d(),destroy_component(shepherdcontent),ctx.div_binding(null),dispose()}}}var KEY_TAB=9,KEY_ESC=27,LEFT_ARROW=37,RIGHT_ARROW=39;function getClassesArray(classes){return classes.split(" ").filter(function(className){return!!className.length})}function instance$7($$self,$$props,$$invalidate){var classPrefix=$$props.classPrefix,element=$$props.element,descriptionId=$$props.descriptionId,firstFocusableElement=$$props.firstFocusableElement,focusableElements=$$props.focusableElements,labelId=$$props.labelId,lastFocusableElement=$$props.lastFocusableElement,step=$$props.step,dataStepId=$$props.dataStepId,hasCancelIcon,hasTitle,classes,getElement=function getElement(){return element};function updateDynamicClasses(){removeClasses(classes),addClasses(classes=step.options.classes)}function removeClasses(classes){if(isString(classes)){var oldClasses=getClassesArray(classes),_element$classList;if(oldClasses.length)(_element$classList=element.classList).remove.apply(_element$classList,oldClasses)}}function addClasses(classes){if(isString(classes)){var newClasses=getClassesArray(classes),_element$classList2;if(newClasses.length)(_element$classList2=element.classList).add.apply(_element$classList2,newClasses)}}onMount(function(){var _dataStepId;$$invalidate("dataStepId",((_dataStepId={})["data-"+classPrefix+"shepherd-step-id"]=step.id,dataStepId=_dataStepId)),$$invalidate("focusableElements",focusableElements=element.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),$$invalidate("firstFocusableElement",firstFocusableElement=focusableElements[0]),$$invalidate("lastFocusableElement",lastFocusableElement=focusableElements[focusableElements.length-1])}),afterUpdate(function(){classes!==step.options.classes&&updateDynamicClasses()});var handleKeyDown=function handleKeyDown(e){var _step,tour=step.tour;switch(e.keyCode){case KEY_TAB:if(0===focusableElements.length){e.preventDefault();break}e.shiftKey?document.activeElement===firstFocusableElement&&(e.preventDefault(),lastFocusableElement.focus()):document.activeElement===lastFocusableElement&&(e.preventDefault(),firstFocusableElement.focus());break;case KEY_ESC:tour.options.exitOnEsc&&step.cancel();break;case LEFT_ARROW:tour.options.keyboardNavigation&&tour.back();break;case RIGHT_ARROW:tour.options.keyboardNavigation&&tour.next()}};function div_binding($$value){binding_callbacks[$$value?"unshift":"push"](function(){$$invalidate("element",element=$$value)})}return $$self.$set=function($$props){"classPrefix"in $$props&&$$invalidate("classPrefix",classPrefix=$$props.classPrefix),"element"in $$props&&$$invalidate("element",element=$$props.element),"descriptionId"in $$props&&$$invalidate("descriptionId",descriptionId=$$props.descriptionId),"firstFocusableElement"in $$props&&$$invalidate("firstFocusableElement",firstFocusableElement=$$props.firstFocusableElement),"focusableElements"in $$props&&$$invalidate("focusableElements",focusableElements=$$props.focusableElements),"labelId"in $$props&&$$invalidate("labelId",labelId=$$props.labelId),"lastFocusableElement"in $$props&&$$invalidate("lastFocusableElement",lastFocusableElement=$$props.lastFocusableElement),"step"in $$props&&$$invalidate("step",step=$$props.step),"dataStepId"in $$props&&$$invalidate("dataStepId",dataStepId=$$props.dataStepId)},$$self.$$.update=function($$dirty){void 0===$$dirty&&($$dirty={step:1}),$$dirty.step&&($$invalidate("hasCancelIcon",hasCancelIcon=step.options&&step.options.cancelIcon&&step.options.cancelIcon.enabled),$$invalidate("hasTitle",hasTitle=step.options&&step.options.title))},{classPrefix:classPrefix,element:element,descriptionId:descriptionId,firstFocusableElement:firstFocusableElement,focusableElements:focusableElements,labelId:labelId,lastFocusableElement:lastFocusableElement,step:step,dataStepId:dataStepId,hasCancelIcon:hasCancelIcon,hasTitle:hasTitle,getElement:getElement,handleKeyDown:handleKeyDown,div_binding:div_binding}}var Shepherd_element=function(_SvelteComponent){function Shepherd_element(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$7,create_fragment$7,safe_not_equal,["classPrefix","element","descriptionId","firstFocusableElement","focusableElements","labelId","lastFocusableElement","step","dataStepId","getElement"]),_this}return _inheritsLoose(Shepherd_element,_SvelteComponent),_createClass(Shepherd_element,[{key:"getElement",get:function get(){return this.$$.ctx.getElement}}]),Shepherd_element}(SvelteComponent);function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var smoothscroll=createCommonjsModule(function(module,exports){function polyfill(){var w=window,d=document;if(!("scrollBehavior"in d.documentElement.style&&!0!==w.__forceSmoothScrollPolyfill__)){var Element=w.HTMLElement||w.Element,SCROLL_TIME=468,original={scroll:w.scroll||w.scrollTo,scrollBy:w.scrollBy,elementScroll:Element.prototype.scroll||scrollElement,scrollIntoView:Element.prototype.scrollIntoView},now=w.performance&&w.performance.now?w.performance.now.bind(w.performance):Date.now,ROUNDING_TOLERANCE=isMicrosoftBrowser(w.navigator.userAgent)?1:0;w.scroll=w.scrollTo=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?smoothScroll.call(w,d.body,void 0!==arguments[0].left?~~arguments[0].left:w.scrollX||w.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:w.scrollY||w.pageYOffset):original.scroll.call(w,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:w.scrollX||w.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:w.scrollY||w.pageYOffset))},w.scrollBy=function(){void 0!==arguments[0]&&(shouldBailOut(arguments[0])?original.scrollBy.call(w,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):smoothScroll.call(w,d.body,~~arguments[0].left+(w.scrollX||w.pageXOffset),~~arguments[0].top+(w.scrollY||w.pageYOffset)))},Element.prototype.scroll=Element.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==shouldBailOut(arguments[0])){var left=arguments[0].left,top=arguments[0].top;smoothScroll.call(this,this,void 0===left?this.scrollLeft:~~left,void 0===top?this.scrollTop:~~top)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");original.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},Element.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):original.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},Element.prototype.scrollIntoView=function(){if(!0!==shouldBailOut(arguments[0])){var scrollableParent=findScrollableParent(this),parentRects=scrollableParent.getBoundingClientRect(),clientRects=this.getBoundingClientRect();scrollableParent!==d.body?(smoothScroll.call(this,scrollableParent,scrollableParent.scrollLeft+clientRects.left-parentRects.left,scrollableParent.scrollTop+clientRects.top-parentRects.top),"fixed"!==w.getComputedStyle(scrollableParent).position&&w.scrollBy({left:parentRects.left,top:parentRects.top,behavior:"smooth"})):w.scrollBy({left:clientRects.left,top:clientRects.top,behavior:"smooth"})}else original.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function isMicrosoftBrowser(userAgent){var userAgentPatterns;return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(userAgent)}function scrollElement(x,y){this.scrollLeft=x,this.scrollTop=y}function ease(k){return.5*(1-Math.cos(Math.PI*k))}function shouldBailOut(firstArg){if(null===firstArg||"object"!=typeof firstArg||void 0===firstArg.behavior||"auto"===firstArg.behavior||"instant"===firstArg.behavior)return!0;if("object"==typeof firstArg&&"smooth"===firstArg.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+firstArg.behavior+" is not a valid value for enumeration ScrollBehavior.")}function hasScrollableSpace(el,axis){return"Y"===axis?el.clientHeight+ROUNDING_TOLERANCE<el.scrollHeight:"X"===axis?el.clientWidth+ROUNDING_TOLERANCE<el.scrollWidth:void 0}function canOverflow(el,axis){var overflowValue=w.getComputedStyle(el,null)["overflow"+axis];return"auto"===overflowValue||"scroll"===overflowValue}function isScrollable(el){var isScrollableY=hasScrollableSpace(el,"Y")&&canOverflow(el,"Y"),isScrollableX=hasScrollableSpace(el,"X")&&canOverflow(el,"X");return isScrollableY||isScrollableX}function findScrollableParent(el){for(;el!==d.body&&!1===isScrollable(el);)el=el.parentNode||el.host;return el}function step(context){var time,value,currentX,currentY,elapsed=(now()-context.startTime)/SCROLL_TIME;value=ease(elapsed=1<elapsed?1:elapsed),currentX=context.startX+(context.x-context.startX)*value,currentY=context.startY+(context.y-context.startY)*value,context.method.call(context.scrollable,currentX,currentY),currentX===context.x&&currentY===context.y||w.requestAnimationFrame(step.bind(w,context))}function smoothScroll(el,x,y){var scrollable,startX,startY,method,startTime=now();method=el===d.body?(startX=(scrollable=w).scrollX||w.pageXOffset,startY=w.scrollY||w.pageYOffset,original.scroll):(startX=(scrollable=el).scrollLeft,startY=el.scrollTop,scrollElement),step({scrollable:scrollable,method:method,startTime:startTime,startX:startX,startY:startY,x:x,y:y})}}module.exports={polyfill:polyfill}}),smoothscroll_1=smoothscroll.polyfill;smoothscroll.polyfill();var Step=function(_Evented){function Step(tour,options){var _this;return void 0===options&&(options={}),(_this=_Evented.call(this,tour,options)||this).tour=tour,_this.classPrefix=_this.tour.options?normalizePrefix(_this.tour.options.classPrefix):"",_this.styles=tour.styles,autoBind(_assertThisInitialized(_this)),_this._setOptions(options),_assertThisInitialized(_this)||_assertThisInitialized(_this)}_inheritsLoose(Step,_Evented);var _proto=Step.prototype;return _proto.cancel=function cancel(){this.tour.cancel(),this.trigger("cancel")},_proto.complete=function complete(){this.tour.complete(),this.trigger("complete")},_proto.destroy=function destroy(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),isElement(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null),this.target&&this._updateStepTargetOnHide(),this.trigger("destroy")},_proto.getTour=function getTour(){return this.tour},_proto.hide=function hide(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this.target&&this._updateStepTargetOnHide(),this.trigger("hide")},_proto.isOpen=function isOpen(){return Boolean(this.el&&!this.el.hidden)},_proto.show=function show(){var _this2=this;if(isFunction(this.options.beforeShowPromise)){var beforeShowPromise=this.options.beforeShowPromise();if(!isUndefined$1(beforeShowPromise))return beforeShowPromise.then(function(){return _this2._show()})}this._show()},_proto.updateStepOptions=function updateStepOptions(options){Object.assign(this.options,options),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})},_proto._createTooltipContent=function _createTooltipContent(){var descriptionId=this.id+"-description",labelId=this.id+"-label";return this.shepherdElementComponent=new Shepherd_element({target:document.body,props:{classPrefix:this.classPrefix,descriptionId:descriptionId,labelId:labelId,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()},_proto._scrollTo=function _scrollTo(scrollToOptions){var _parseAttachTo,element=parseAttachTo(this).element;isFunction(this.options.scrollToHandler)?this.options.scrollToHandler(element):isElement(element)&&"function"==typeof element.scrollIntoView&&element.scrollIntoView(scrollToOptions)},_proto._getClassOptions=function _getClassOptions(stepOptions){var defaultStepOptions=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,stepClasses=stepOptions.classes?stepOptions.classes:"",defaultStepOptionsClasses=defaultStepOptions&&defaultStepOptions.classes?defaultStepOptions.classes:"",allClasses=[].concat(stepClasses.split(" "),defaultStepOptionsClasses.split(" ")),uniqClasses=new Set(allClasses);return Array.from(uniqClasses).join(" ").trim()},_proto._setOptions=function _setOptions(options){var _this3=this;void 0===options&&(options={});var tourOptions=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;this.options=Object.assign({arrow:!0},tourOptions,options);var when=this.options.when;this.options.classes=this._getClassOptions(options),this.destroy(),this.id=this.options.id||"step-"+uuid(),when&&Object.keys(when).forEach(function(event){_this3.on(event,when[event],_this3)})},_proto._setupElements=function _setupElements(){isUndefined$1(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&bindAdvance(this),setupTooltip(this)},_proto._show=function _show(){var _this4=this,target;this.trigger("before-show"),this._setupElements(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.tooltip.position(),(this.target||document.body).classList.add(this.classPrefix+"shepherd-enabled",this.classPrefix+"shepherd-target"),this.options.scrollTo&&setTimeout(function(){_this4._scrollTo(_this4.options.scrollTo)}),this.trigger("show"),this.el.focus()},_proto._styleTargetElementForStep=function _styleTargetElementForStep(step){var targetElement=step.target;targetElement&&(step.options.highlightClass&&targetElement.classList.add(step.options.highlightClass),!1===step.options.canClickTarget&&targetElement.classList.add("shepherd-target-click-disabled"))},_proto._updateStepTargetOnHide=function _updateStepTargetOnHide(){this.options.highlightClass&&this.target.classList.remove(this.options.highlightClass),this.target.classList.remove(this.classPrefix+"shepherd-enabled",this.classPrefix+"shepherd-target")},Step}(Evented);function cleanupSteps(tour){var steps;tour&&tour.steps.forEach(function(step){step.options&&!1===step.options.canClickTarget&&step.options.attachTo&&step.target instanceof HTMLElement&&step.target.classList.remove("shepherd-target-click-disabled")})}function create_fragment$8(ctx){var svg,path,path_d_value,svg_class_value,dispose;return{c:function c(){svg=svg_element("svg"),attr(path=svg_element("path"),"d",path_d_value="M "+ctx.openingProperties.x+" "+ctx.openingProperties.y+" H "+(ctx.openingProperties.width+ctx.openingProperties.x)+" V "+(ctx.openingProperties.height+ctx.openingProperties.y)+" H "+ctx.openingProperties.x+" L "+ctx.openingProperties.x+" 0 Z M 0 0 H "+ctx.window.innerWidth+" V "+ctx.window.innerHeight+" H 0 L 0 0 Z"),attr(svg,"class",svg_class_value=(ctx.modalIsVisible?"shepherd-modal-is-visible":"")+" shepherd-modal-overlay-container"),dispose=listen(svg,"touchmove",ctx._preventModalOverlayTouch)},m:function m(target,anchor){insert(target,svg,anchor),append(svg,path),ctx.svg_binding(svg)},p:function p(changed,ctx){changed.openingProperties&&path_d_value!==(path_d_value="M "+ctx.openingProperties.x+" "+ctx.openingProperties.y+" H "+(ctx.openingProperties.width+ctx.openingProperties.x)+" V "+(ctx.openingProperties.height+ctx.openingProperties.y)+" H "+ctx.openingProperties.x+" L "+ctx.openingProperties.x+" 0 Z M 0 0 H "+ctx.window.innerWidth+" V "+ctx.window.innerHeight+" H 0 L 0 0 Z")&&attr(path,"d",path_d_value),changed.modalIsVisible&&svg_class_value!==(svg_class_value=(ctx.modalIsVisible?"shepherd-modal-is-visible":"")+" shepherd-modal-overlay-container")&&attr(svg,"class",svg_class_value)},i:noop,o:noop,d:function d(detaching){detaching&&detach(svg),ctx.svg_binding(null),dispose()}}}function _getScrollParent(element){if(!element)return null;var isHtmlElement,overflowY=element instanceof HTMLElement&&window.getComputedStyle(element).overflowY,isScrollable;return"hidden"!==overflowY&&"visible"!==overflowY&&element.scrollHeight>=element.clientHeight?element:_getScrollParent(element.parentElement)}function _getVisibleHeight(element,scrollParent){var elementRect=element.getBoundingClientRect(),top=elementRect.y||elementRect.top,bottom=elementRect.bottom||top+elementRect.height,height;if(scrollParent){var scrollRect=scrollParent.getBoundingClientRect(),scrollTop=scrollRect.y||scrollRect.top,scrollBottom=scrollRect.bottom||scrollTop+scrollRect.height;top=Math.max(top,scrollTop),bottom=Math.min(bottom,scrollBottom)}return{y:top,height:Math.max(bottom-top,0)}}function instance$8($$self,$$props,$$invalidate){var element=$$props.element,openingProperties=$$props.openingProperties,guid=uuid(),modalIsVisible=!1,rafId=void 0;closeModalOpening();var getElement=function getElement(){return element};function closeModalOpening(){$$invalidate("openingProperties",openingProperties={height:0,x:0,y:0,width:0})}function hide(){$$invalidate("modalIsVisible",modalIsVisible=!1),_cleanupStepEventListeners()}function positionModalOpening(targetElement,scrollParent,modalOverlayOpeningPadding){if(void 0===modalOverlayOpeningPadding&&(modalOverlayOpeningPadding=0),targetElement.getBoundingClientRect){var _getVisibleHeight2=_getVisibleHeight(targetElement,scrollParent),y=_getVisibleHeight2.y,height=_getVisibleHeight2.height,_targetElement$getBou=targetElement.getBoundingClientRect(),x=_targetElement$getBou.x,width=_targetElement$getBou.width,left=_targetElement$getBou.left;$$invalidate("openingProperties",openingProperties={x:(x||left)-modalOverlayOpeningPadding,y:y-modalOverlayOpeningPadding,width:width+2*modalOverlayOpeningPadding,height:height+2*modalOverlayOpeningPadding})}}function setupForStep(step){_cleanupStepEventListeners(),step.tour.options.useModalOverlay?(_styleForStep(step),show()):hide()}function show(){$$invalidate("modalIsVisible",modalIsVisible=!0)}var _preventModalBodyTouch=function _preventModalBodyTouch(e){e.preventDefault()},_preventModalOverlayTouch=function _preventModalOverlayTouch(e){e.stopPropagation()};function _addStepEventListeners(){window.addEventListener("touchmove",_preventModalBodyTouch,{passive:!1})}function _cleanupStepEventListeners(){rafId&&(cancelAnimationFrame(rafId),rafId=void 0),window.removeEventListener("touchmove",_preventModalBodyTouch,{passive:!1})}function _styleForStep(step){var modalOverlayOpeningPadding=step.options.modalOverlayOpeningPadding;if(step.target){var scrollParent=_getScrollParent(step.target),rafLoop;(function rafLoop(){rafId=void 0,positionModalOpening(step.target,scrollParent,modalOverlayOpeningPadding),rafId=requestAnimationFrame(rafLoop)})(),_addStepEventListeners()}else closeModalOpening()}function svg_binding($$value){binding_callbacks[$$value?"unshift":"push"](function(){$$invalidate("element",element=$$value)})}return $$self.$set=function($$props){"element"in $$props&&$$invalidate("element",element=$$props.element),"openingProperties"in $$props&&$$invalidate("openingProperties",openingProperties=$$props.openingProperties)},{element:element,openingProperties:openingProperties,modalIsVisible:modalIsVisible,getElement:getElement,closeModalOpening:closeModalOpening,hide:hide,positionModalOpening:positionModalOpening,setupForStep:setupForStep,show:show,_preventModalOverlayTouch:_preventModalOverlayTouch,window:window,svg_binding:svg_binding}}var Shepherd_modal=function(_SvelteComponent){function Shepherd_modal(options){var _this;return init(_assertThisInitialized(_this=_SvelteComponent.call(this)||this),options,instance$8,create_fragment$8,safe_not_equal,["element","openingProperties","getElement","closeModalOpening","hide","positionModalOpening","setupForStep","show"]),_this}return _inheritsLoose(Shepherd_modal,_SvelteComponent),_createClass(Shepherd_modal,[{key:"getElement",get:function get(){return this.$$.ctx.getElement}},{key:"closeModalOpening",get:function get(){return this.$$.ctx.closeModalOpening}},{key:"hide",get:function get(){return this.$$.ctx.hide}},{key:"positionModalOpening",get:function get(){return this.$$.ctx.positionModalOpening}},{key:"setupForStep",get:function get(){return this.$$.ctx.setupForStep}},{key:"show",get:function get(){return this.$$.ctx.show}}]),Shepherd_modal}(SvelteComponent),Shepherd=new Evented,Tour=function(_Evented){function Tour(options){var _this;void 0===options&&(options={}),autoBind(_assertThisInitialized(_this=_Evented.call(this,options)||this));var defaultTourOptions={exitOnEsc:!0,keyboardNavigation:!0},events;return _this.options=Object.assign({},defaultTourOptions,options),_this.classPrefix=normalizePrefix(_this.options.classPrefix),_this.steps=[],_this.addSteps(_this.options.steps),["active","cancel","complete","inactive","show","start"].map(function(event){var e;e=event,_this.on(e,function(opts){(opts=opts||{}).tour=_assertThisInitialized(_this),Shepherd.trigger(e,opts)})}),_this.modal=new Shepherd_modal({target:options.modalContainer||document.body,props:{classPrefix:_this.classPrefix,styles:_this.styles}}),_this._setTourID(),_assertThisInitialized(_this)||_assertThisInitialized(_this)}_inheritsLoose(Tour,_Evented);var _proto=Tour.prototype;return _proto.addStep=function addStep(options,index){var step=options;return step instanceof Step?step.tour=this:step=new Step(this,step),isUndefined$1(index)?this.steps.push(step):this.steps.splice(index,0,step),step},_proto.addSteps=function addSteps(steps){var _this2=this;return Array.isArray(steps)&&steps.forEach(function(step){_this2.addStep(step)}),this},_proto.back=function back(){var index=this.steps.indexOf(this.currentStep);this.show(index-1,!1)},_proto.cancel=function cancel(){if(this.options.confirmCancel){var cancelMessage=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?",stopTour;window.confirm(cancelMessage)&&this._done("cancel")}else this._done("cancel")},_proto.complete=function complete(){this._done("complete")},_proto.getById=function getById(id){return this.steps.find(function(step){return step.id===id})},_proto.getCurrentStep=function getCurrentStep(){return this.currentStep},_proto.hide=function hide(){var currentStep=this.getCurrentStep();if(currentStep)return currentStep.hide()},_proto.isActive=function isActive(){return Shepherd.activeTour===this},_proto.next=function next(){var index=this.steps.indexOf(this.currentStep);index===this.steps.length-1?this.complete():this.show(index+1,!0)},_proto.removeStep=function removeStep(name){var _this3=this,current=this.getCurrentStep();this.steps.some(function(step,i){if(step.id===name)return step.isOpen()&&step.hide(),step.destroy(),_this3.steps.splice(i,1),!0}),current&&current.id===name&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())},_proto.show=function show(key,forward){void 0===key&&(key=0),void 0===forward&&(forward=!0);var step=isString(key)?this.getById(key):this.steps[key],shouldSkipStep;step&&(this._updateStateBeforeShow(),isFunction(step.options.showOn)&&!step.options.showOn()?this._skipStep(step,forward):(this.trigger("show",{step:step,previous:this.currentStep}),(this.currentStep=step).show()))},_proto.start=function start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupActiveTour(),this.next()},_proto._done=function _done(event){var index=this.steps.indexOf(this.currentStep);Array.isArray(this.steps)&&this.steps.forEach(function(step){return step.destroy()}),cleanupSteps(this),this.trigger(event,{index:index}),Shepherd.activeTour=null,this.trigger("inactive",{tour:this}),this.modal.hide(),isElement(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()},_proto._setupActiveTour=function _setupActiveTour(){this.trigger("active",{tour:this}),Shepherd.activeTour=this},_proto._skipStep=function _skipStep(step,forward){var index=this.steps.indexOf(step),nextIndex=forward?index+1:index-1;this.show(nextIndex,forward)},_proto._updateStateBeforeShow=function _updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()},_proto._setTourID=function _setTourID(){var tourName=this.options.tourName||"tour";this.id=tourName+"--"+uuid()},Tour}(Evented);return Object.assign(Shepherd,{Tour:Tour,Step:Step}),Shepherd},"object"==typeof exports&&void 0!==module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Shepherd=factory()},{}],5:[function(require,module,exports){(function(global){"use strict";var required=require("requires-port"),qs=require("querystringify"),slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,whitespace,left=new RegExp("^"+"[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]"+"+");function trimLeft(str){return(str||"").toString().replace(left,"")}var rules=[["#","hash"],["?","query"],function sanitize(address){return address.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(loc){var globalVar,location=(globalVar="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{}).location||{},finaldestination={},type=typeof(loc=loc||location),key;if("blob:"===loc.protocol)finaldestination=new Url(unescape(loc.pathname),{});else if("string"==type)for(key in finaldestination=new Url(loc,{}),ignore)delete finaldestination[key];else if("object"==type){for(key in loc)key in ignore||(finaldestination[key]=loc[key]);void 0===finaldestination.slashes&&(finaldestination.slashes=slashes.test(loc.href))}return finaldestination}function extractProtocol(address){address=trimLeft(address);var match=protocolre.exec(address);return{protocol:match[1]?match[1].toLowerCase():"",slashes:!!match[2],rest:match[3]}}function resolve(relative,base){if(""===relative)return base;for(var path=(base||"/").split("/").slice(0,-1).concat(relative.split("/")),i=path.length,last=path[i-1],unshift=!1,up=0;i--;)"."===path[i]?path.splice(i,1):".."===path[i]?(path.splice(i,1),up++):up&&(0===i&&(unshift=!0),path.splice(i,1),up--);return unshift&&path.unshift(""),"."!==last&&".."!==last||path.push(""),path.join("/")}function Url(address,location,parser){if(address=trimLeft(address),!(this instanceof Url))return new Url(address,location,parser);var relative,extracted,parse,instruction,index,key,instructions=rules.slice(),type=typeof location,url=this,i=0;for("object"!=type&&"string"!=type&&(parser=location,location=null),parser&&"function"!=typeof parser&&(parser=qs.parse),location=lolcation(location),relative=!(extracted=extractProtocol(address||"")).protocol&&!extracted.slashes,url.slashes=extracted.slashes||relative&&location.slashes,url.protocol=extracted.protocol||location.protocol||"",address=extracted.rest,extracted.slashes||(instructions[3]=[/(.*)/,"pathname"]);i<instructions.length;i++)"function"!=typeof(instruction=instructions[i])?(parse=instruction[0],key=instruction[1],parse!=parse?url[key]=address:"string"==typeof parse?~(index=address.indexOf(parse))&&(address="number"==typeof instruction[2]?(url[key]=address.slice(0,index),address.slice(index+instruction[2])):(url[key]=address.slice(index),address.slice(0,index))):(index=parse.exec(address))&&(url[key]=index[1],address=address.slice(0,index.index)),url[key]=url[key]||relative&&instruction[3]&&location[key]||"",instruction[4]&&(url[key]=url[key].toLowerCase())):address=instruction(address);parser&&(url.query=parser(url.query)),relative&&location.slashes&&"/"!==url.pathname.charAt(0)&&(""!==url.pathname||""!==location.pathname)&&(url.pathname=resolve(url.pathname,location.pathname)),required(url.port,url.protocol)||(url.host=url.hostname,url.port=""),url.username=url.password="",url.auth&&(instruction=url.auth.split(":"),url.username=instruction[0]||"",url.password=instruction[1]||""),url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString()}function set(part,value,fn){var url=this;switch(part){case"query":"string"==typeof value&&value.length&&(value=(fn||qs.parse)(value)),url[part]=value;break;case"port":url[part]=value,required(value,url.protocol)?value&&(url.host=url.hostname+":"+value):(url.host=url.hostname,url[part]="");break;case"hostname":url[part]=value,url.port&&(value+=":"+url.port),url.host=value;break;case"host":url[part]=value,/:\d+$/.test(value)?(value=value.split(":"),url.port=value.pop(),url.hostname=value.join(":")):(url.hostname=value,url.port="");break;case"protocol":url.protocol=value.toLowerCase(),url.slashes=!fn;break;case"pathname":case"hash":if(value){var char="pathname"===part?"/":"#";url[part]=value.charAt(0)!==char?char+value:value}else url[part]=value;break;default:url[part]=value}for(var i=0;i<rules.length;i++){var ins=rules[i];ins[4]&&(url[ins[1]]=url[ins[1]].toLowerCase())}return url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString(),url}function toString(stringify){stringify&&"function"==typeof stringify||(stringify=qs.stringify);var query,url=this,protocol=url.protocol;protocol&&":"!==protocol.charAt(protocol.length-1)&&(protocol+=":");var result=protocol+(url.slashes?"//":"");return url.username&&(result+=url.username,url.password&&(result+=":"+url.password),result+="@"),result+=url.host+url.pathname,(query="object"==typeof url.query?stringify(url.query):url.query)&&(result+="?"!==query.charAt(0)?"?"+query:query),url.hash&&(result+=url.hash),result}Url.prototype={set:set,toString:toString},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=qs,module.exports=Url}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:2,"requires-port":3}],6:[function(require,module,exports){"use strict";var _WPCCrawler=require("./common/WPCCrawler"),_Tools=require("./tools/Tools"),_PageType=require("./common/enum/PageType"),_SiteTester=require("./site-tester/SiteTester"),_PostSettings=require("./post-settings/PostSettings"),_Guides=require("./guides/Guides"),_FeatureRequest=require("./feature-request/FeatureRequest"),_DevToolsListenerInitializer=require("./dev-tools/DevToolsListenerInitializer"),_OptionsBox=require("./options-box/OptionsBox"),_Dashboard=require("./dashboard/Dashboard"),_PostList=require("./post-list/PostList"),_PageTypeUtils=require("./common/PageTypeUtils");jQuery(function($){_WPCCrawler.WPCCrawler.getInstance();var pageType=_PageTypeUtils.PageTypeUtils.getPageType();_Guides.Guides.getInstance(),pageType===_PageType.PageType.TOOLS&&new _Tools.Tools,pageType===_PageType.PageType.SITE_TESTER&&new _SiteTester.SiteTester,pageType===_PageType.PageType.DASHBOARD&&new _Dashboard.Dashboard,pageType===_PageType.PageType.SITE_LISTING&&new _PostList.PostList,pageType===_PageType.PageType.FEATURE_REQUEST&&_FeatureRequest.FeatureRequest.getInstance(),pageType!==_PageType.PageType.SITE_TESTER&&pageType!==_PageType.PageType.DASHBOARD&&pageType!==_PageType.PageType.SITE_LISTING&&_PostSettings.PostSettings.getInstance(),pageType===_PageType.PageType.SITE_SETTINGS&&(_DevToolsListenerInitializer.DevToolsListenerInitializer.getInstance(),_OptionsBox.OptionsBox.getInstance())})},{"./common/PageTypeUtils":15,"./common/WPCCrawler":22,"./common/enum/PageType":27,"./dashboard/Dashboard":48,"./dev-tools/DevToolsListenerInitializer":52,"./feature-request/FeatureRequest":67,"./guides/Guides":71,"./options-box/OptionsBox":151,"./post-list/PostList":168,"./post-settings/PostSettings":170,"./site-tester/SiteTester":175,"./tools/Tools":177}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CopyToClipboardHandler=void 0;var _Utils=require("./Utils");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CopyToClipboardHandler=function(){function CopyToClipboardHandler(){_classCallCheck(this,CopyToClipboardHandler)}return _createClass(CopyToClipboardHandler,[{key:"initForSelector",value:function initForSelector(selector){if($(selector).length){var clipboard=new window.Clipboard(selector);clipboard.on("success",function(e){_Utils.Utils.flashTooltip($(e.trigger),window.wpcc.copied),e.clearSelection()}),clipboard.on("error",function(e){var os,shortcut=-1!=navigator.platform.indexOf("Mac")?"⌘-C":"Ctrl + C";_Utils.Utils.flashTooltip($(e.trigger),window.wpcc.press_to_copy.format(shortcut))})}}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new CopyToClipboardHandler),this.instance}}]),CopyToClipboardHandler}();(exports.CopyToClipboardHandler=CopyToClipboardHandler).instance=null},{"./Utils":21}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DependantHandler=void 0;var _PostSettingsVariables=require("../post-settings/PostSettingsVariables");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var DependantHandler=function(){function DependantHandler(){var _this=this;_classCallCheck(this,DependantHandler);var psv=_PostSettingsVariables.PostSettingsVariables.getInstance();psv.$containerMetaBox.on("change","input[type=checkbox][data-dependants]",function(e){return _this.handleCheckboxDependants($(e.target))}),psv.$containerMetaBox.on("change","select",function(e){return _this.handleSelectDependants($(e.target))}),this.handleElementDependantsInContainer(psv.$containerMetaBox)}return _createClass(DependantHandler,[{key:"handleElementDependantsInContainer",value:function handleElementDependantsInContainer($container){var _this2=this;$container.find("input[type=checkbox][data-dependants]").each(function(i,el){var $el=$(el);_this2.isParentTableRowVisible($el)&&_this2.handleCheckboxDependants($(el))}),$container.find("select option[data-dependants]").parents("select").each(function(i,el){var $el=$(el);_this2.isParentTableRowVisible($el)&&_this2.handleSelectDependants($el)})}},{key:"handleCheckboxDependants",value:function handleCheckboxDependants($checkbox){var isChecked=$checkbox.is(":checked");this.handleDependants($checkbox,isChecked)}},{key:"handleSelectDependants",value:function handleSelectDependants($select){var _this3=this,prevVal=$select.data("prev")||null,currentVal=$select.val(),$currentOption=$select.find('option[value="'+currentVal+'"]').first(),$prevOption=null!==prevVal&&prevVal.length?$select.find('option[value="'+prevVal+'"]').first():null;null!==$prevOption?this.handleDependants($prevOption,!1):$select.find("option").each(function(i,el){return _this3.handleDependants($(el),!1)}),this.handleDependants($currentOption,!0),$select.data("prev",currentVal)}},{key:"handleDependants",value:function handleDependants($el,normal){var dependants=$el.data("dependants")||null,$dependant,isNegative,selector,i;if(null!==dependants&&dependants)for(i=0;i<dependants.length;i++)isNegative=this.startsWith(dependants[i],"!"),selector=dependants[i],isNegative&&(selector=selector.substring(1)),$dependant=$(selector),normal?isNegative?$dependant.addClass("hidden"):$dependant.removeClass("hidden"):isNegative?$dependant.removeClass("hidden"):$dependant.addClass("hidden")}},{key:"startsWith",value:function startsWith(haystack,needle){return 0===haystack.lastIndexOf(needle,0)}},{key:"isParentTableRowVisible",value:function isParentTableRowVisible($element){return!1===$element.closest("tr").hasClass("hidden")}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new DependantHandler),this.instance}}]),DependantHandler}();(exports.DependantHandler=DependantHandler).instance=null},{"../post-settings/PostSettingsVariables":171}],9:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DocsLinkProvider=void 0;var DocsLinkProvider=function(){function DocsLinkProvider(){_classCallCheck(this,DocsLinkProvider),this.initialized=!1,this.suitable=!1,this.clsDocsLinkSet="docs-link-set",this.queryParams=null}return _createClass(DocsLinkProvider,[{key:"init",value:function init(){var _this=this;if(!this.initialized&&this.getDocsSiteUrl()){this.initialized=!0;var labelIndexUrl=this.getLabelIndexUrl();null!==labelIndexUrl&&(this.transSeeInDocs=window.wpcc.see_docs_for_this_setting,$.getJSON(labelIndexUrl,function(json){_this.labelIndex=json,_this.suitable=!0}).fail(function(){console.info("Documentation label index file could not be retrieved.")}))}}},{key:"addDocsLinkForSettingKey",value:function addDocsLinkForSettingKey(settingKey){if(this.suitable){var $label=$('label[for="'+settingKey+'"]:not(.'+this.clsDocsLinkSet+")");if(1===$label.length){var $desc=$label.parent().find(".info-text");if(1===$desc.length){var relativeUrl=this.labelIndex[settingKey.substring(1)]||"";if(relativeUrl.length){var absoluteUrl=this.createDocsSiteUrl(relativeUrl);$desc.html($desc.html()+'<span class="see-in-docs"><a href="'+absoluteUrl+'" target="_blank">'+this.transSeeInDocs+"</a></span>")}$label.addClass(this.clsDocsLinkSet)}}}}},{key:"addDocsLinkForAllSettingKeys",value:function addDocsLinkForAllSettingKeys(){var _this2=this;this.suitable&&$('td > label[for^="_"]:not(.'+this.clsDocsLinkSet+")").each(function(i,el){_this2.addDocsLinkForSettingKey($(el).attr("for"))})}},{key:"createDocsSiteUrl",value:function createDocsSiteUrl(relativeUrl){var urlParams=this.getUrlParams(),lastPart=-1!==relativeUrl.indexOf("#")?relativeUrl.replace("#",urlParams+"#"):relativeUrl+urlParams;return this.getDocsSiteUrl()+"/"+lastPart}},{key:"getLabelIndexUrl",value:function getLabelIndexUrl(){return void 0===this.labelIndexUrl&&(this.labelIndexUrl=this.getVar("docs_label_index_url")),this.labelIndexUrl}},{key:"getDocsSiteUrl",value:function getDocsSiteUrl(){return void 0===this.docsSiteUrl&&(this.docsSiteUrl=this.getVar("docs_site_url")),this.docsSiteUrl}},{key:"getVar",value:function getVar(varName){var vars=this.getVars();return null===vars?null:vars.hasOwnProperty(varName)?vars[varName]:null}},{key:"getVars",value:function getVars(){return this.isVarsExist()?window.wpcc.vars:null}},{key:"isVarsExist",value:function isVarsExist(){return void 0===this.varsExist&&(this.varsExist=void 0!==window.wpcc&&void 0!==window.wpcc.vars),this.varsExist}},{key:"getUrlParams",value:function getUrlParams(){if(null!==this.queryParams)return this.queryParams;var params={},mainSiteUrlKey="_main_page_url",$inputMainSiteUrl=$('input[name="_main_page_url"]');$inputMainSiteUrl.length&&$inputMainSiteUrl.val()&&(params.site=$inputMainSiteUrl.val());var query=$.param(params);return this.queryParams=query.length?"?"+query:"",this.queryParams}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new DocsLinkProvider),this.instance}}]),DocsLinkProvider}();(exports.DocsLinkProvider=DocsLinkProvider).instance=null},{}],10:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventType=void 0;var EventType=function EventType(){_classCallCheck(this,EventType)};(exports.EventType=EventType).navigationsInitialized="wpccNavigationsInitialized",EventType.optionsBoxTabActivated="wpccOptionsBoxTabActivated",EventType.tabActivated="wpccTabActivated",EventType.devToolsOpened="wpccDevToolsOpened",EventType.devToolsClosed="wpccDevToolsClosed",EventType.optionsBoxOpened="wpccOptionsBoxOpened",EventType.optionsBoxClosed="wpccOptionsBoxClosed",EventType.devToolsSelectorFound="wpccDevToolsSelectorFound",EventType.testResultsHidden="wpccTestResultsHidden",EventType.testResultsBeforeHidden="wpccTestResultsBeforeHidden",EventType.testResultsLoaded="wpccTestResultsLoaded",EventType.dashboardRefreshCountdownStarted="wpccDashboardRefreshCountdownStarted",EventType.siteSettingsQuickSaved="wpccSiteSettingsQuickSaved",EventType.siteTesterTestFinished="wpccSiteTesterTestFinished",EventType.generalSettingsLoaded="wpccGeneralSettingsLoaded",EventType.toolTestResultsLoaded="wpccToolTestResultsLoaded"},{}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputGroupHandler=void 0;var _PostSettingsVariables=require("../post-settings/PostSettingsVariables"),_Tooltip=require("./tooltip/Tooltip");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var InputGroupHandler=function(){function InputGroupHandler(){var _this=this;_classCallCheck(this,InputGroupHandler);var psv=_PostSettingsVariables.PostSettingsVariables.getInstance();psv.$containerMetaBox.on("click",".wcc-add-new",function(e){return _this.onClickAddNew(e)}),psv.$containerMetaBox.on("click",".wcc-remove",function(e){return _this.onClickRemove(e)})}return _createClass(InputGroupHandler,[{key:"addNewInputGroup",value:function addNewInputGroup($inputGroupContainer){var $inputGroup=$inputGroupContainer.find(".input-group").first().clone(),maxDataKey=0;$inputGroupContainer.find(".input-group").each(function(){var $self=$(this);null!=$self.data("key")&&$self.data("key")>maxDataKey&&(maxDataKey=$self.data("key"))});var currentDataKey=$inputGroup.data("key"),newDataKey=maxDataKey+1;$inputGroup.attr("data-key",newDataKey),$inputGroup.data("key",newDataKey);var html=$inputGroup.html();$inputGroup.html(html.replace(new RegExp("\\["+currentDataKey+"\\]","g"),"["+newDataKey+"]")),$inputGroup.find("input").each(function(){$(this).val("")}),$inputGroup.find("textarea").each(function(){$(this).html("")}),$inputGroup.find("input[type=checkbox]").each(function(){$(this).prop("checked",!1)});var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=InputGroupHandler.modifiers[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var modifier;(0,_step.value)($inputGroup)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return $inputGroupContainer.append($inputGroup),_Tooltip.Tooltip.initAllIn($inputGroup),$inputGroup.find(".wcc-options-box").each(function(){var $self=$(this);$self.removeClass("has-config"),_Tooltip.Tooltip.for($self).destroy().apply()}),this.resetInputGroupKeys($inputGroupContainer),$inputGroup}},{key:"onClickRemove",value:function onClickRemove(e){e.preventDefault();var $self=$(e.target),$inputGroupContainer=$self.closest(".inputs"),count=$inputGroupContainer.find(".input-group").length,$closestInputGroup=$self.closest(".input-group");1==count?($closestInputGroup.find("input").each(function(){$(this).val("").trigger("change")}),$closestInputGroup.find("textarea").each(function(){$(this).html("").val("").trigger("change")}),$closestInputGroup.find("input[type=checkbox]").each(function(){$(this).prop("checked",!1).trigger("change")}),$closestInputGroup.find(".wcc-options-box").each(function(){var $self=$(this);$self.removeClass("has-config"),_Tooltip.Tooltip.for($self).destroy().apply()})):($closestInputGroup.find(".input-container").find("input, select, textarea").val("").trigger("change"),$closestInputGroup.remove()),this.resetInputGroupKeys($inputGroupContainer)}},{key:"onClickAddNew",value:function onClickAddNew(e){e.preventDefault();var $self=$(e.target),$inputGroupContainer=$self.closest("td").find(".inputs"),max=$self.data("max");0!=max&&$inputGroupContainer.length>=max||this.addNewInputGroup($inputGroupContainer)}},{key:"resetInputGroupKeys",value:function resetInputGroupKeys($inputGroupContainer){var $self,$selfInput,id,name,regex=new RegExp("\\[[0-9]+\\]","g");$inputGroupContainer.find("> .input-group").each(function(index,el){($self=$(el)).data("key",index),$self.attr("data-key",index),$self.find(":input[name]").each(function(){$selfInput=$(this),id=$selfInput.attr("id"),null!=(name=$selfInput.attr("name"))&&"undefined"!==name&&name.length&&$selfInput.attr("name",name.replace(regex,"["+index+"]")),null!=id&&"undefined"!==id&&id.length&&$selfInput.attr("id",id.replace(regex,"["+index+"]"))})})}},{key:"registerModifier",value:function registerModifier(callback){InputGroupHandler.modifiers.push(callback)}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new InputGroupHandler),this.instance}}]),InputGroupHandler}();(exports.InputGroupHandler=InputGroupHandler).instance=null,InputGroupHandler.modifiers=[]},{"../post-settings/PostSettingsVariables":171,"./tooltip/Tooltip":32}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyboardEventHelper=void 0;var _KeyboardKey=require("./enum/KeyboardKey");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var KeyboardEventHelper=function(){function KeyboardEventHelper(event){_classCallCheck(this,KeyboardEventHelper),this.event=event||null}return _createClass(KeyboardEventHelper,[{key:"getKey",value:function getKey(){if(null!==this.event){var keyMap=KeyboardEventHelper.getKeyMap();return keyMap.has(this.event.key)?keyMap.get(this.event.key):null}}}],[{key:"getKeyMap",value:function getKeyMap(){return null===this.keyMap&&(this.keyMap=(new Map).set("Enter",_KeyboardKey.KeyboardKey.ENTER).set("Escape",_KeyboardKey.KeyboardKey.ESCAPE).set("ArrowLeft",_KeyboardKey.KeyboardKey.LEFT).set("ArrowRight",_KeyboardKey.KeyboardKey.RIGHT)),this.keyMap}}]),KeyboardEventHelper}();(exports.KeyboardEventHelper=KeyboardEventHelper).keyMap=null},{"./enum/KeyboardKey":24}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Notifier=void 0;var _NotificationType=require("./enum/NotificationType"),_NotificationPosition=require("./enum/NotificationPosition");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Notifier=function(){function Notifier(){_classCallCheck(this,Notifier)}return _createClass(Notifier,[{key:"notify",value:function notify($targetEl,notificationMessage){if(this.isNotifyAvailable()){null!=notificationMessage&&notificationMessage.length||(notificationMessage=window.wpcc.required_for_test);var $label=$targetEl.closest("tr").find("label").first(),$notificationEl=$label.length?$label:$targetEl;this.scrollToElement($notificationEl),$notificationEl.notify(notificationMessage,{position:"top"})}}},{key:"notifyRegular",value:function notifyRegular($targetElement,message,argument_2,argument_3){var type=2<arguments.length&&void 0!==argument_2?argument_2:_NotificationType.NotificationType.INFO,position=3<arguments.length&&void 0!==argument_3?argument_3:_NotificationPosition.NotificationPosition.TOP;this.isNotifyAvailable()&&$targetElement.notify(message,{position:position||"top",className:type||"info"})}},{key:"scrollToElement",value:function scrollToElement($el){$(document).find("html, body").stop().animate({scrollTop:$el.first().offset().top-$(window).height()/4},500,"swing")}},{key:"isNotifyAvailable",value:function isNotifyAvailable(argument_0){var showError=!(0<arguments.length&&void 0!==argument_0)||argument_0,isAvailable=!("function"!=typeof $.fn.notify);return!isAvailable&&showError&&console.error("NotifyJS is not defined."),isAvailable}}],[{key:"getInstance",value:function getInstance(){return null===this.INSTANCE&&(this.INSTANCE=new Notifier),this.INSTANCE}}]),Notifier}();(exports.Notifier=Notifier).INSTANCE=null},{"./enum/NotificationPosition":25,"./enum/NotificationType":26}],14:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectSerializer=void 0;var ObjectSerializer=function(){function ObjectSerializer(){_classCallCheck(this,ObjectSerializer),this.registerFunction()}return _createClass(ObjectSerializer,[{key:"registerFunction",value:function registerFunction(){$.fn.serializeObjectNoNull=function(){var result=$.fn.serializeObject.apply(this,arguments);for(var key in result)result.hasOwnProperty(key)&&result[key]instanceof Array&&(result[key]=result[key].filter(function(el){return null!==el}));return result}}}],[{key:"getInstance",value:function getInstance(){return null===this.INSTANCE&&(this.INSTANCE=new ObjectSerializer),this.INSTANCE}}]),ObjectSerializer}();(exports.ObjectSerializer=ObjectSerializer).INSTANCE=null},{}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageTypeUtils=void 0;var _PageType=require("./enum/PageType");function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var PageTypeUtils=function(){function PageTypeUtils(){_classCallCheck(this,PageTypeUtils)}return _createClass(PageTypeUtils,null,[{key:"getPageType",value:function getPageType(){if($("#wpc-crawler-settings").length)return _PageType.PageType.SITE_SETTINGS;var url=window.location.href,postType="wcc_sites",prefix="wp-content-crawler-";if(null===this.slugPageTypeMap&&(this.slugPageTypeMap=new Map([["dashboard",_PageType.PageType.DASHBOARD],["general-settings",_PageType.PageType.GENERAL_SETTINGS],["site-tester",_PageType.PageType.SITE_TESTER],["tools",_PageType.PageType.TOOLS],["feature-request",_PageType.PageType.FEATURE_REQUEST]])),null!==url.indexOf(postType)){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.slugPageTypeMap.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),slug=_step$value[0],type=_step$value[1];if(-1!==url.indexOf("page=".concat(prefix).concat(slug)))return type}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}if(-1!==url.indexOf("/edit.php?post_type=".concat(postType)))return _PageType.PageType.SITE_LISTING;if(-1!==url.indexOf("/post-new.php?post_type=".concat(postType)))return _PageType.PageType.SITE_SETTINGS}return null}},{key:"getPageTypeName",value:function getPageTypeName(type){return null===(type||null)?"":void 0!==window.wpcc.page_names[type]?window.wpcc.page_names[type]:type.toString()}},{key:"getPageTypeUrl",value:function getPageTypeUrl(type){return null===this.pageTypeUrlMap&&(this.pageTypeUrlMap=new Map([[_PageType.PageType.ADD_NEW_SITE,"/wp-admin/post-new.php?post_type=wcc_sites"],[_PageType.PageType.SITE_LISTING,"/wp-admin/edit.php?post_type=wcc_sites"],[_PageType.PageType.DASHBOARD,"/wp-admin/edit.php?post_type=wcc_sites&page=wp-content-crawler-dashboard"],[_PageType.PageType.SITE_TESTER,"/wp-admin/edit.php?post_type=wcc_sites&page=wp-content-crawler-site-tester"],[_PageType.PageType.TOOLS,"/wp-admin/edit.php?post_type=wcc_sites&page=wp-content-crawler-tools"],[_PageType.PageType.GENERAL_SETTINGS,"/wp-admin/edit.php?post_type=wcc_sites&page=wp-content-crawler-general-settings"]])),this.pageTypeUrlMap.has(type)?this.pageTypeUrlMap.get(type):null}},{key:"getPageTypeMenuLinkSelector",value:function getPageTypeMenuLinkSelector(type){var url=this.getPageTypeUrl(type),regex;if(null===url)return null;var result=(regex=type===_PageType.PageType.ADD_NEW_SITE?/[^\/]+$/:-1!==url.indexOf("page=")?/page=[^\s&]+/:/\?.*$/).exec(url);return result[0]?'#menu-posts-wcc_sites [href*="'.concat(result[0],'"]'):null}}]),PageTypeUtils}();(exports.PageTypeUtils=PageTypeUtils).pageTypeUrlMap=null,PageTypeUtils.slugPageTypeMap=null},{"./enum/PageType":27}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SectionNavigationHandler=void 0;var _EventType=require("./EventType"),_TabAndNavigationHandler=require("./TabAndNavigationHandler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SectionNavigationHandler=function(){function SectionNavigationHandler(){var _this=this;_classCallCheck(this,SectionNavigationHandler),this._selectorNavContainer=".tab-section-nav",this.selectorTabContainer=".tab",this.selectorNavigationRow="tr[data-id^=section-]",$(document).on("click",this._selectorNavContainer+" [data-id]",function(e){return _this.onClickNavItem(e)})}return _createClass(SectionNavigationHandler,[{key:"onClickNavItem",value:function onClickNavItem(e){var $self=$(e.target),id=$self.data("id"),$targetEl=null,isTabContainer=0===id.indexOf("tab");if(isTabContainer)$targetEl=$("#"+id);else{var selector='tr[data-id="'+id+'"]';$targetEl=$self.closest(this.selectorTabContainer).find(selector)||null}if(null!==$targetEl&&$targetEl.length){var $scrollable=$(document).find("html, body"),fixedElTotalHeight=_TabAndNavigationHandler.TabAndNavigationHandler.getInstance().getFixedElementsTotalHeight();$scrollable.stop().animate({scrollTop:$targetEl.offset().top-fixedElTotalHeight-.02*$(window).height()},500,"swing",function(){if(!isTabContainer){var newFixedElTotalHeight=_TabAndNavigationHandler.TabAndNavigationHandler.getInstance().getFixedElementsTotalHeight();newFixedElTotalHeight!==fixedElTotalHeight&&$scrollable.stop().animate({scrollTop:$targetEl.offset().top-newFixedElTotalHeight-.02*$(window).height()},250,"swing")}})}}},{key:"initNavigations",value:function initNavigations(){var _this2=this,$self;$(this._selectorNavContainer).each(function(i,el){($self=$(el)).html(""),$self.append(_this2.createNavigationElement(_this2.getNavigationItems($self.closest(_this2.selectorTabContainer)))),$self.parent().addClass(SectionNavigationHandler.classInitialized)}),$(document).trigger(_EventType.EventType.navigationsInitialized)}},{key:"getNavigationItems",value:function getNavigationItems($container){var $self,result=[];return result[$container.attr("id")]=window.wpcc.top,$container.find(this.selectorNavigationRow).each(function(i,el){$self=$(el),result[$self.attr("data-id")]=$self.text()}),result}},{key:"createNavigationElement",value:function createNavigationElement(navItems){var $ul=$("<ul/>");for(var id in navItems)navItems.hasOwnProperty(id)&&$ul.append($("<li/>").append($("<a/>").attr("data-id",id).attr("role","button").html(navItems[id])));return $ul}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new SectionNavigationHandler),this.instance}}]),SectionNavigationHandler}();(exports.SectionNavigationHandler=SectionNavigationHandler).instance=null,SectionNavigationHandler.classInitialized="initialized"},{"./EventType":10,"./TabAndNavigationHandler":18}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SortableHandler=void 0;var _InputGroupHandler=require("./InputGroupHandler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SortableHandler=function(){function SortableHandler(){_classCallCheck(this,SortableHandler),this.isSortableAvailable()&&this.prepareSortables()}return _createClass(SortableHandler,[{key:"initSortablesInContainer",value:function initSortablesInContainer(containerSelector){this.initSortableForMultipleInputElements(containerSelector)}},{key:"prepareSortables",value:function prepareSortables(){$(".meta-box-sortables").sortable("option","cancel",".not-sortable .hndle, :input, button").sortable("refresh"),this.initSortableForMultipleInputElements()}},{key:"initSortableForMultipleInputElements",value:function initSortableForMultipleInputElements(argument_0){var parentSelector=0<arguments.length&&void 0!==argument_0?argument_0:null;if(this.isSortableAvailable()){var selector=".inputs";null!==parentSelector&&parentSelector.length&&(selector=parentSelector+" "+selector),$(selector).sortable(this.getSortableConfigForMultipleInputs())}}},{key:"getSortableConfigForMultipleInputs",value:function getSortableConfigForMultipleInputs(){return{placeholder:"sortable-placeholder",handle:".wcc-sort",items:" > .input-group",axis:"y",cursor:"move",start:function start(e,ui){ui.placeholder.height(ui.helper.outerHeight())},update:function update(e,ui){_InputGroupHandler.InputGroupHandler.getInstance().resetInputGroupKeys(ui.item.closest(".inputs"))}}}},{key:"isSortableAvailable",value:function isSortableAvailable(){return void 0!==window.jQuery.ui&&"function"==typeof $.fn.sortable}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new SortableHandler),this.instance}}]),SortableHandler}();(exports.SortableHandler=SortableHandler).instance=null},{"./InputGroupHandler":11}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabAndNavigationHandler=void 0;var _SectionNavigationHandler=require("./SectionNavigationHandler"),_Utils=require("./Utils"),_EventType=require("./EventType"),_PostSettingsVariables=require("../post-settings/PostSettingsVariables"),_WPCCrawler=require("./WPCCrawler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TabAndNavigationHandler=function(){function TabAndNavigationHandler(){var _this=this;_classCallCheck(this,TabAndNavigationHandler),this.fixedElements=[],this.disabled=!1,this.$activeTabContainer=void 0,this.$activeTabFixables=void 0,this.docWidth=null,this.adminBarHeight=null,this.psv=_PostSettingsVariables.PostSettingsVariables.getInstance(),this.getAdminBarHeightIfFixed(),this.initSettingsPageOptions(),_Utils.Utils.maybeInitTinyMceEditors(this.getActiveTabContainer()),this.activatePreviouslyActiveTab(),$(window).on("hashchange",function(e){return _this.handleURLHash()}),this.psv.$containerTabs.on("click","a",function(e){return _this.onClickTab(e)}),$(document).on("scroll",function(e){return _this.handleElementFixing()}),$(window).on("resize",function(){return _this.resetState()}),$(document).on("postbox-toggled postboxes-columnchange",function(){return _this.resetState()}),$(document).on(_EventType.EventType.navigationsInitialized,function(){return _this.invalidateActiveTabFixablesCache()})}return _createClass(TabAndNavigationHandler,[{key:"initSettingsPageOptions",value:function initSettingsPageOptions(){var _this2=this;this.isFixTabs=_Utils.Utils.getCheckboxValue($(this.psv.selectorCheckboxFixTabs)),this.isFixContentNavigation=_Utils.Utils.getCheckboxValue($(this.psv.selectorCheckboxFixContentNavigation)),$(document).on("change",this.psv.selectorCheckboxFixTabs,function(e){_this2.isFixTabs=_Utils.Utils.getCheckboxValue($(e.target)),_this2.resetFixableElements()}),$(document).on("change",this.psv.selectorCheckboxFixContentNavigation,function(e){_this2.isFixContentNavigation=_Utils.Utils.getCheckboxValue($(e.target)),_this2.resetFixableElements()})}},{key:"resetState",value:function resetState(){this.resetFixableElements(),this.resetPrevScrollPositionCacheOfTabs(),this.invalidateDocWidthCache(),this.invalidateAdminBarHeightCache(),this.invalidateActiveTabContainer(),this.invalidateActiveTabFixablesCache()}},{key:"resetFixableElements",value:function resetFixableElements(){var _this3=this,$el;$(this.psv.selectorFixable).each(function(i,el){$el=$(el),_this3.resetOffsetOfFixable($el),_this3.setElementUnfixed($el)}),this.psv.$containerMetaBox.css("padding-top","0"),this.handleElementFixing()}},{key:"handleElementFixing",value:function handleElementFixing(){var _this4=this;if(!this.disabled&&(this.isFixTabs||this.isFixContentNavigation)&&!(this.getDocWidth()<=600)){var top,baseFixCondition=this.getScrollTop()+this.getAdminBarHeightIfFixed(),tabContainerFixCondition=0;if(this.isFixTabs){var tabContainerTop,marginTop=8;this.getTopOffsetOfTargetFixable(this.psv.$containerTabs)<=(tabContainerFixCondition=baseFixCondition+8)?this.setElementFixed(this.psv.$containerTabs):this.setElementUnfixed(this.psv.$containerTabs)}if(this.isFixContentNavigation){var $currentTabFixables=this.getActiveTabFixables(),$fixableEl,elTop;if(null===$currentTabFixables||!$currentTabFixables.length)return;var tabContainerHeight=this.isFixTabs?this.psv.$containerTabs.height():0,contentNavFixCondition=(this.isFixTabs?tabContainerFixCondition+tabContainerHeight:baseFixCondition)-11;$currentTabFixables.each(function(i,el){($fixableEl=$(el)).is(":visible")&&((elTop=_this4.getTopOffsetOfTargetFixable($fixableEl))<=contentNavFixCondition?_this4.setElementFixed($fixableEl,!0):_this4.setElementUnfixed($fixableEl,!0))})}}}},{key:"getTopOffsetOfTargetFixable",value:function getTopOffsetOfTargetFixable($element){var elOffsetTop=$element.data("offsetTop")||null;return null===elOffsetTop&&($element.data("offsetTop",$element.offset().top),elOffsetTop=$element.data("offsetTop")),elOffsetTop}},{key:"resetOffsetOfFixable",value:function resetOffsetOfFixable($element){$element.removeData("offsetTop")}},{key:"setElementFixed",value:function setElementFixed($element,argument_1){var isInTabContent=1<arguments.length&&void 0!==argument_1&&argument_1,index;if(!$element.hasClass(this.psv.classFixed)&&-1===this.fixedElements.indexOf($element)){var fixedElTop=null;if(0<this.fixedElements.length){var $lastFixedEl=this.fixedElements[this.fixedElements.length-1],lastFixedElTop;fixedElTop=(parseFloat($lastFixedEl.css("top"))||0)+$lastFixedEl.outerHeight()}else fixedElTop=this.getAdminBarHeightIfFixed();this.fixedElements.push($element);var $containerMetaBox=this.psv.$containerMetaBox,metaBoxWidth=$containerMetaBox.width(),paddingTopValue=(parseFloat($containerMetaBox.css("padding-top"))||0)+$element.outerHeight();isInTabContent&&(paddingTopValue+=12),$containerMetaBox.css("padding-top",paddingTopValue+"px"),$element.data("height",$element.outerHeight()).css("width",metaBoxWidth+"px").addClass(this.psv.classFixed).css("top",fixedElTop)}}},{key:"getAdminBarHeightIfFixed",value:function getAdminBarHeightIfFixed(){return null===this.adminBarHeight&&(this.adminBarHeight="fixed"===this.psv.$adminBar.css("position").toLocaleLowerCase()?this.psv.$adminBar.outerHeight():0),this.adminBarHeight}},{key:"invalidateAdminBarHeightCache",value:function invalidateAdminBarHeightCache(){this.adminBarHeight=null}},{key:"getDocWidth",value:function getDocWidth(){return null===this.docWidth&&(this.docWidth=$(document).width()),this.docWidth}},{key:"invalidateDocWidthCache",value:function invalidateDocWidthCache(){this.docWidth=null}},{key:"setElementUnfixed",value:function setElementUnfixed($element,argument_1){var isInTabContent=1<arguments.length&&void 0!==argument_1&&argument_1;if($element.hasClass(this.psv.classFixed)){for(var index=-1,i=0;i<this.fixedElements.length;i++)if(this.fixedElements[i].get(0)==$element.get(0)){index=i;break}if(-1!==index){this.fixedElements.splice(index,1);var $containerMetaBox=this.psv.$containerMetaBox,paddingTopValue=Math.max(0,(parseFloat($containerMetaBox.css("padding-top"))||0)-$element.data("height"));isInTabContent&&(paddingTopValue-=12),$containerMetaBox.css("padding-top",Math.max(0,paddingTopValue)+"px"),$element.removeClass(this.psv.classFixed).css("width","").css("top","").removeData("height")}}}},{key:"getFixedElementsTotalHeight",value:function getFixedElementsTotalHeight(){return this.fixedElements.reduce(function(acc,$curr){return acc+$curr.outerHeight()},0)}},{key:"activatePreviouslyActiveTab",value:function activatePreviouslyActiveTab(){if(null===this.getUrlHash()){var $input=$(this.psv.selectorInputURLHash);if($input.length&&$input.first().val()){var values=$input.first().val().split("|");if(values.length<2||""===values[0])this.handleURLHash();else{var scrollPos=values[values.length-1];values.splice(values.length-1,1),history.replaceState(void 0,void 0,values.join("|")),this.handleURLHash(),document.documentElement.scrollTop=scrollPos}}}else this.handleURLHash()}},{key:"setTabError",value:function setTabError($element,hasError){var tabId=$element.closest(".tab").attr("id"),$tab=this.psv.$containerTabs.find("[data-tab='#"+tabId+"']");hasError?$tab.addClass(this.psv.clsHasError):$tab.removeClass(this.psv.clsHasError)}},{key:"removeErrorsFromAllTabs",value:function removeErrorsFromAllTabs(){var _this5=this;this.psv.$containerTabs.find(".nav-tab").each(function(i,el){$(el).removeClass(_this5.psv.clsHasError)})}},{key:"onClickTab",value:function onClickTab(e){e.preventDefault(),e.stopImmediatePropagation(),this.activateTab($(e.target).data("tab"))}},{key:"handleURLHash",value:function handleURLHash(){var hash=this.getUrlHash();if(null!==hash){var tabHash=hash.split("|")[0];this.activateTab(tabHash.replace("#_","#"))}}},{key:"getUrlHash",value:function getUrlHash(){var hash=window.location.hash||null;return null!==hash&&0===hash.indexOf("#_")?hash:null}},{key:"isTabActive",value:function isTabActive(tabKey){var $handle;return 0<$('[data-tab="#'.concat(tabKey,'"].nav-tab-active')).length}},{key:"activateTabWithKey",value:function activateTabWithKey(tabKey){this.activateTab("#"+tabKey)}},{key:"activateTab",value:function activateTab(tabSelector){this.resetFixableElements();var $tab=this.psv.$containerTabs.find('[data-tab="'+tabSelector+'"]');if($tab.length&&!$tab.hasClass("hidden")&&!$tab.hasClass("nav-tab-active")){var originalTabContainerTop=Math.floor(this.getTopOffsetOfTargetFixable(this.psv.$containerTabs)||0);this.getActiveTab().data("scrolltop",this.getScrollTop()>originalTabContainerTop?this.getScrollTop():null),this.psv.$containerMetaBox.find("> .tab").addClass("hidden"),this.psv.$containerTabs.find("a").removeClass("nav-tab-active");var elementId=$tab.data("tab");$(elementId).removeClass("hidden"),$tab.addClass("nav-tab-active"),this.onActiveTabChanged(elementId.replace(/^#/,""));var hash=window.location.hash.split("|");hash[0]=elementId.replace("#","#_"),history.replaceState(void 0,void 0,hash.join("|")),_Utils.Utils.maybeInitTinyMceEditors(this.getActiveTabContainer()),this.resetFixableElements();var tabScrollTopState=$tab.data("scrolltop")||null,currentScrollTop=this.getScrollTop()+this.getAdminBarHeightIfFixed(),adminBarHeight=this.getAdminBarHeightIfFixed();null===tabScrollTopState&&(tabScrollTopState=originalTabContainerTop<currentScrollTop?originalTabContainerTop-adminBarHeight:null),null!==tabScrollTopState&&originalTabContainerTop<=currentScrollTop&&$(document).scrollTop(tabScrollTopState)}}},{key:"onActiveTabChanged",value:function onActiveTabChanged(tabKey){this.invalidateActiveTabContainer(),this.invalidateActiveTabFixablesCache(),$(document).trigger(_EventType.EventType.tabActivated,tabKey)}},{key:"resetPrevScrollPositionCacheOfTabs",value:function resetPrevScrollPositionCacheOfTabs(){this.getAllTabs().removeData("scrolltop")}},{key:"getActiveTabFixables",value:function getActiveTabFixables(){return void 0!==this.$activeTabFixables||(this.$activeTabFixables=this.getActiveTabContainer().find(this.psv.selectorFixable+"."+_SectionNavigationHandler.SectionNavigationHandler.classInitialized)||null),this.$activeTabFixables}},{key:"invalidateActiveTabFixablesCache",value:function invalidateActiveTabFixablesCache(){this.$activeTabFixables=void 0}},{key:"getActiveTabContainer",value:function getActiveTabContainer(){if(void 0!==this.$activeTabContainer)return this.$activeTabContainer;var $tab=this.getActiveTab();if(null===$tab)return this.$activeTabContainer=null,this.$activeTabContainer;var containerSelector=$tab.data("tab"),$container=$(containerSelector).first()||null;return this.$activeTabContainer=null!==$container&&$container.length?$container:null,this.$activeTabContainer}},{key:"invalidateActiveTabContainer",value:function invalidateActiveTabContainer(){this.$activeTabContainer=void 0}},{key:"getActiveTab",value:function getActiveTab(){var $tab=this.psv.$containerTabs.find(".nav-tab-active").first()||null;return null!==$tab&&$tab.length?$tab:null}},{key:"getAllTabs",value:function getAllTabs(){return this.psv.$containerTabs.find(".nav-tab")}},{key:"getScrollTop",value:function getScrollTop(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}},{key:"disableFixing",value:function disableFixing(disable){return this.disabled=disable,this.disabled&&this.resetState(),this}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(TabAndNavigationHandler.name,function(){return new TabAndNavigationHandler})}}]),TabAndNavigationHandler}();exports.TabAndNavigationHandler=TabAndNavigationHandler},{"../post-settings/PostSettingsVariables":171,"./EventType":10,"./SectionNavigationHandler":16,"./Utils":21,"./WPCCrawler":22}],19:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabUtils=void 0;var TabUtils=function(){function TabUtils(){_classCallCheck(this,TabUtils)}return _createClass(TabUtils,null,[{key:"getTabKeyForSetting",value:function getTabKeyForSetting(key){if(!this.tabKeyMap.has(key)){var $tabContainer=$('tr[aria-label="'.concat(key,'"]')).closest(".tab"),tabKey=$tabContainer.length&&$tabContainer.attr("id")||null;null===tabKey&&console.warn("Tab key for setting ".concat(key," cannot be found")),this.tabKeyMap.set(key,tabKey)}return this.tabKeyMap.get(key)}}]),TabUtils}();(exports.TabUtils=TabUtils).tabKeyMap=new Map},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestHandler=void 0;var _NotificationType=require("./enum/NotificationType"),_Notifier=require("./Notifier"),_TestDataPreparer=require("../post-settings/TestDataPreparer"),_InputGroupHandler=require("./InputGroupHandler"),_PostSettingsVariables=require("../post-settings/PostSettingsVariables"),_EventType=require("./EventType");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TestHandler=function(){function TestHandler(){var _this=this;_classCallCheck(this,TestHandler),this.psv=_PostSettingsVariables.PostSettingsVariables.getInstance(),this.notifier=_Notifier.Notifier.getInstance(),this.testDataPreparer=_TestDataPreparer.TestDataPreparer.getInstance(),this.psv.$containerMetaBox.on("click",this.psv.selectorTestButton,function(e){return _this.onClickTest(e)}),$(document).on("click",".hide-test-results",function(e){return _this.onClickHideTestResults(e)}),$(document).on("click",this.psv.selectorButtonSeeUnmodifiedTestResults,function(e){return _this.onClickSeeUnmodifiedResults(e)}),$(document).on("click",this.psv.selectorInvalidateCacheButton,function(e){return _this.onClickInvalidateTestUrlCache(e)}),$(document).on("click",this.psv.selectorInvalidateAllCachesButton,function(e){return _this.onClickInvalidateAllTestUrlCaches(e)})}return _createClass(TestHandler,[{key:"onClickSeeUnmodifiedResults",value:function onClickSeeUnmodifiedResults(e){var $self,$unmodifiedResults=$(e.target).parent().find("ul").first();$unmodifiedResults.hasClass("hidden")?$unmodifiedResults.removeClass("hidden"):$unmodifiedResults.addClass("hidden")}},{key:"onClickHideTestResults",value:function onClickHideTestResults(e){e.preventDefault();var $self,$resultContainer=$(e.target).closest(".test-results");$(document).trigger(jQuery.Event(_EventType.EventType.testResultsBeforeHidden,{container:$resultContainer})),$resultContainer.addClass("hidden"),$(document).trigger(jQuery.Event(_EventType.EventType.testResultsHidden,{container:$resultContainer})),$resultContainer.find(".content").html("")}},{key:"onClickTest",value:function onClickTest(e){var _this2=this;e.preventDefault();var $self=$(e.target),data=this.testDataPreparer.prepareTestData($self)||null;if(null==data)return _Notifier.Notifier.getInstance().notifyRegular($self,window.wpcc.test_data_not_retrieved),void console.error("Test data could not be retrieved.");var $resultContainer=$self.closest("td").find(".test-results"),$contentContainer=$resultContainer.find(".content");$resultContainer.removeClass("hidden").addClass("loading"),$contentContainer.html(""),$self.addClass("loading"),$.post(window.ajaxurl,{wcc_nonce:this.psv.$wccNonce.val(),action:window.pageActionKey,data:data}).done(function(response){if(null!=response&&response&&null!=response.view){var results=$("<div>"+response.view+"</div>").find("ul").data("results");if(null!=results&&"undefined"!==results&&$self.data("results",results),$contentContainer.html(response.view),$self.hasClass("wcc-category-map"))for(var $inputGroupContainer=$(_this2.psv.selectorCategoryMap).find(".inputs"),i=0;i<response.data.length;i++){var url=response.data[i],$newInputGroup;if(!url.match("^javascript"))_InputGroupHandler.InputGroupHandler.getInstance().addNewInputGroup($inputGroupContainer).find("input").val(url)}$(document).trigger(jQuery.Event(_EventType.EventType.testResultsLoaded))}else $contentContainer.html(window.wpcc.an_error_occurred)}).fail(function(response){$contentContainer.html(window.wpcc.an_error_occurred+" <br />"+response.responseText),console.log(response)}).always(function(){$resultContainer.removeClass("loading"),$self.removeClass("loading")})}},{key:"onClickInvalidateTestUrlCache",value:function onClickInvalidateTestUrlCache(e){var _this3=this;e.preventDefault();var $self=$(e.target),testUrl=$self.data("url")||null;if(null!==testUrl&&testUrl.length){var $testResultsContainer=$self.closest(".test-results");$testResultsContainer.hasClass("loading")||($testResultsContainer.addClass("loading"),$.post(window.ajaxurl,{wcc_nonce:this.psv.$wccNonce.val(),action:window.pageActionKey,data:{cmd:"invalidate_url_response_cache",url:testUrl}}).done(function(response){var success="1"==response,msg=success?window.wpcc.cache_invalidated:window.wpcc.cache_could_not_be_invalidated;_this3.notifier.notifyRegular($self,msg,success?_NotificationType.NotificationType.SUCCESS:_NotificationType.NotificationType.ERROR)}).fail(function(response){console.log(response),_this3.notifier.notify($self,window.wpcc.cache_could_not_be_invalidated)}).always(function(){$testResultsContainer.removeClass("loading")}))}else this.notifier.notify($self,window.wpcc.url_cannot_be_retrieved)}},{key:"onClickInvalidateAllTestUrlCaches",value:function onClickInvalidateAllTestUrlCaches(e){var _this4=this;e.preventDefault();var $self=$(e.target),$testResultsContainer=$self.closest(".test-results");$testResultsContainer.hasClass("loading")||($testResultsContainer.addClass("loading"),$.post(window.ajaxurl,{wcc_nonce:this.psv.$wccNonce.val(),action:window.pageActionKey,data:{cmd:"invalidate_all_url_response_caches"}}).done(function(response){var success="1"==response,msg=success?window.wpcc.all_cache_invalidated:window.wpcc.all_cache_could_not_be_invalidated;_this4.notifier.notifyRegular($self,msg,success?_NotificationType.NotificationType.SUCCESS:_NotificationType.NotificationType.ERROR)}).fail(function(response){console.log(response),_this4.notifier.notify($self,window.wpcc.all_cache_could_not_be_invalidated)}).always(function(){$testResultsContainer.removeClass("loading")}))}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new TestHandler),this.instance}}]),TestHandler}();(exports.TestHandler=TestHandler).instance=null},{"../post-settings/PostSettingsVariables":171,"../post-settings/TestDataPreparer":172,"./EventType":10,"./InputGroupHandler":11,"./Notifier":13,"./enum/NotificationType":26}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utils=void 0;var _Tooltip=require("./tooltip/Tooltip");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Utils=function(){function Utils(){_classCallCheck(this,Utils)}return _createClass(Utils,null,[{key:"getMatchAllRegEx",value:function getMatchAllRegEx(str){return this.matchAllRegExes.has(str)||this.matchAllRegExes.set(str,new RegExp(this.escapeRegExp(str),"g")),this.matchAllRegExes.get(str)}},{key:"escapeRegExp",value:function escapeRegExp(str){return(str=str.toString())&&this.reHasRegExpChar.test(str)?str.replace(this.reRegExpChar,"\\$&"):str}},{key:"startsWith",value:function startsWith(haystack,needle){return 0===haystack.lastIndexOf(needle,0)}},{key:"escapeHtml",value:function escapeHtml(unsafe){return void 0===unsafe||"undefined"===unsafe||null===unsafe?"":unsafe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"flashTooltip",value:function flashTooltip($element,flashTitle){var originalTitle=$element.attr("data-original-title");$element.attr("data-original-title",flashTitle),_Tooltip.Tooltip.for($element).fixTitle().show().apply(),$element.attr("data-original-title",originalTitle),_Tooltip.Tooltip.for($element).fixTitle().apply()}},{key:"getCheckboxValue",value:function getCheckboxValue($checkboxElement){return!(null===($checkboxElement=$checkboxElement||null)||!$checkboxElement.length)&&!!$checkboxElement[0].checked}},{key:"maybeInitTinyMceEditors",value:function maybeInitTinyMceEditors($currentContainer){null===($currentContainer=$currentContainer||null)||$currentContainer.hasClass("editors-initialized")||($currentContainer.find(".wp-editor-container").each(function(i,el){var $self=$(el),$textarea=$self.find("textarea").first()||null;if(null!==$textarea&&$textarea.length&&!$textarea.hasClass("initialized")){var height=$textarea.height();$self.find(".mce-container > iframe").css("height",height+"px"),$textarea.addClass("initialized")}}),$currentContainer.addClass("editors-initialized"))}},{key:"isElementInViewport",value:function isElementInViewport($el){if(null===($el||null)||!$el.length)return!1;var elementTop=$el.offset().top,elementBottom=elementTop+$el.outerHeight(),viewportTop=$(window).scrollTop(),viewportBottom=viewportTop+$(window).height();return viewportTop<elementBottom&&elementTop<viewportBottom}},{key:"trans",value:function trans(key){return window.wpcc[key]||""}},{key:"toggleClass",value:function toggleClass($el,cls){$el.hasClass(cls)?$el.removeClass(cls):$el.addClass(cls)}},{key:"getErrorsAsHtml",value:function getErrorsAsHtml(errors){var errorInnerHtml=errors.map(function(value){return"<li>".concat(value,"</li>")}).join("\n"),errorTitle=1<errors.length?window.wpcc.fix_these_errors:window.wpcc.fix_this_error;return'\n            <div class="validation-errors animated fadeIn">\n                <span class="error-text">'.concat(errorTitle,'</span>\n                <div class="error-list">\n                    <ul>').concat(errorInnerHtml,"</ul>\n                </div>\n            </div>")}},{key:"removeErrorsInElement",value:function removeErrorsInElement($element){$element.find(".validation-errors").remove()}},{key:"scrollElementIntoView",value:function scrollElementIntoView($scrollEl,$parentEl,$targetEl,argument_3){var complete=3<arguments.length&&void 0!==argument_3?argument_3:null,height=$scrollEl.height(),mainTop=$parentEl.offset().top,elTop=$targetEl.offset().top,scrollPos=Math.max(1,elTop-mainTop-.2*height);$scrollEl.animate({scrollTop:scrollPos},"slow",function(){null!==complete&&complete()})}},{key:"isInt",value:function isInt(value){if(isNaN(value))return!1;var x=parseFloat(value);return(0|x)===x}}]),Utils}();(exports.Utils=Utils).reRegExpChar=/[\\^$.*+?()[\]{}|]/g,Utils.reHasRegExpChar=RegExp(Utils.reRegExpChar.source),Utils.matchAllRegExes=new Map},{"./tooltip/Tooltip":32}],22:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WPCCrawler=void 0;var WPCCrawler=function(){function WPCCrawler(){_classCallCheck(this,WPCCrawler),this.factory=new Map,"function"!=typeof window.$&&(window.$=jQuery)}return _createClass(WPCCrawler,[{key:"get",value:function get(key,create){return this.factoryHas(key)||this.addToFactory(key,create()),this.getFromFactory(key)}},{key:"factoryHas",value:function factoryHas(key){return this.factory.has(key)}},{key:"addToFactory",value:function addToFactory(key,value){return this.factory.set(key,value),this}},{key:"getFromFactory",value:function getFromFactory(key){return this.factory.has(key)?this.factory.get(key):null}}],[{key:"getInstance",value:function getInstance(){return null===(window.WPCCrawler||null)&&(window.WPCCrawler=new WPCCrawler),window.WPCCrawler}}]),WPCCrawler}();exports.WPCCrawler=WPCCrawler},{}],23:[function(require,module,exports){"use strict";var InnerItemSelector;Object.defineProperty(exports,"__esModule",{value:!0}),exports.InnerItemSelector=void 0,function(InnerItemSelector){InnerItemSelector.BUTTON_DEV_TOOLS="button.wcc-dev-tools",InnerItemSelector.BUTTON_TEST="button.wcc-test",InnerItemSelector.BUTTON_ADD_CATEGORY_URLS="button.wcc-test.wcc-category-map",InnerItemSelector.BUTTON_OPTIONS_BOX_IMPORT="button.options-box-import",InnerItemSelector.BUTTON_OPTIONS_BOX="button.wcc-options-box",InnerItemSelector.TEST_RESULTS_CONTAINER=".test-results",InnerItemSelector.DEV_TOOLS_IFRAME="iframe.source",InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR=".css-selector-use",InnerItemSelector.DEV_TOOLS_SELECTION_BEHAVIOR='[name="selection_behavior"]',InnerItemSelector.TEST_TRANSLATION_OPTIONS_TEXTAREA="textarea"}((exports.InnerItemSelector=InnerItemSelector)||(exports.InnerItemSelector=InnerItemSelector={}))},{}],24:[function(require,module,exports){"use strict";var KeyboardKey;Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyboardKey=void 0,function(KeyboardKey){KeyboardKey[KeyboardKey.ENTER=0]="ENTER",KeyboardKey[KeyboardKey.ESCAPE=1]="ESCAPE",KeyboardKey[KeyboardKey.LEFT=2]="LEFT",KeyboardKey[KeyboardKey.RIGHT=3]="RIGHT"}((exports.KeyboardKey=KeyboardKey)||(exports.KeyboardKey=KeyboardKey={}))},{}],25:[function(require,module,exports){"use strict";var NotificationPosition;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotificationPosition=void 0,function(NotificationPosition){NotificationPosition.TOP="top",NotificationPosition.RIGHT="right",NotificationPosition.BOTTOM="bottom",NotificationPosition.LEFT="left"}((exports.NotificationPosition=NotificationPosition)||(exports.NotificationPosition=NotificationPosition={}))},{}],26:[function(require,module,exports){"use strict";var NotificationType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotificationType=void 0,function(NotificationType){NotificationType.WARN="warn",NotificationType.INFO="info",NotificationType.ERROR="error",NotificationType.SUCCESS="success"}((exports.NotificationType=NotificationType)||(exports.NotificationType=NotificationType={}))},{}],27:[function(require,module,exports){"use strict";var PageType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageType=void 0,function(PageType){PageType.SITE_LISTING="site_listing",PageType.SITE_SETTINGS="site_settings",PageType.ADD_NEW_SITE="add_new_site",PageType.DASHBOARD="dashboard",PageType.SITE_TESTER="site_tester",PageType.TOOLS="tools",PageType.GENERAL_SETTINGS="general_settings",PageType.FEATURE_REQUEST="feature_request"}((exports.PageType=PageType)||(exports.PageType=PageType={}))},{}],28:[function(require,module,exports){"use strict";var SettingInnerKey;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingInnerKey=void 0,function(SettingInnerKey){SettingInnerKey.SELECTOR="selector",SettingInnerKey.ATTRIBUTE="attr",SettingInnerKey.ATTRIBUTE_1="attr1",SettingInnerKey.ATTRIBUTE_2="attr2",SettingInnerKey.FIND="find",SettingInnerKey.REPLACE="replace",SettingInnerKey.REGEX="regex",SettingInnerKey.URL="url",SettingInnerKey.CATEGORY_ID="cat_id",SettingInnerKey.TITLE="title",SettingInnerKey.CONTENT="content",SettingInnerKey.SHORT_CODE="short_code",SettingInnerKey.SINGLE="single",SettingInnerKey.MULTIPLE="multiple",SettingInnerKey.APPEND="append",SettingInnerKey.KEY="key",SettingInnerKey.VALUE="value",SettingInnerKey.META_KEY="meta_key",SettingInnerKey.TAXONOMY="taxonomy",SettingInnerKey.DESCRIPTION="description",SettingInnerKey.DOMAIN="domain",SettingInnerKey.AS_TAXONOMY="as_taxonomy",SettingInnerKey.ATTR_NAME="attr_name",SettingInnerKey.OPTIONS_BOX_FIND_REPLACE="find_replace",SettingInnerKey.OPTIONS_BOX_TREAT_AS_JSON="treat_as_json",SettingInnerKey.OPTIONS_BOX_DECIMAL_SEPARATOR_AFTER="decimal_separator_after",SettingInnerKey.OPTIONS_BOX_USE_THOUSANDS_SEPARATOR="use_thousands_separator",SettingInnerKey.OPTIONS_BOX_REMOVE_IF_NOT_NUMERIC="remove_if_not_numeric",SettingInnerKey.OPTIONS_BOX_PRECISION="precision",SettingInnerKey.OPTIONS_BOX_FORMULAS="formulas",SettingInnerKey.OPTIONS_BOX_FORMULAS_FORMULA="formula",SettingInnerKey.OPTIONS_BOX_REMOVE_IF_EMPTY="remove_if_empty",SettingInnerKey.OPTIONS_BOX_TEMPLATES="templates",SettingInnerKey.OPTIONS_BOX_TEMPLATES_TEMPLATE="template",SettingInnerKey.OPTIONS_BOX_NOTE="note",SettingInnerKey.OPTIONS_BOX_IMPORT_SETTINGS="import_settings",SettingInnerKey.OPTIONS_BOX_FILE_FIND_REPLACE="file_find_replace",SettingInnerKey.OPTIONS_BOX_FILE_MOVE="move",SettingInnerKey.OPTIONS_BOX_FILE_COPY="copy",SettingInnerKey.OPTIONS_BOX_FILE_MOVE_COPY_PATH="path",SettingInnerKey.OPTIONS_BOX_FILE_NAME_TEMPLATES="templates_file_name",SettingInnerKey.OPTIONS_BOX_FILE_MEDIA_TITLE_TEMPLATES="templates_media_title",SettingInnerKey.OPTIONS_BOX_FILE_MEDIA_DESC_TEMPLATES="templates_media_description",SettingInnerKey.OPTIONS_BOX_FILE_MEDIA_CAPTION_TEMPLATES="templates_media_caption",SettingInnerKey.OPTIONS_BOX_FILE_MEDIA_ALT_TEXT_TEMPLATES="templates_media_alt_text",SettingInnerKey.POST_URL="postUrl",SettingInnerKey.IMAGE_URL="imageUrl"}((exports.SettingInnerKey=SettingInnerKey)||(exports.SettingInnerKey=SettingInnerKey={}))},{}],29:[function(require,module,exports){"use strict";var SettingKey;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingKey=void 0,function(SettingKey){SettingKey.ACTIVE="_active",SettingKey.ACTIVE_RECRAWLING="_active_recrawling",SettingKey.ACTIVE_POST_DELETING="_active_post_deleting",SettingKey.ACTIVE_TRANSLATION="_active_translation",SettingKey.TRANSLATABLE_FIELDS="_translatable_fields",SettingKey.ACTIVE_SPINNING="_active_spinning",SettingKey.SPINNABLE_FIELDS="_spinnable_fields",SettingKey.MAIN_PAGE_URL="_main_page_url",SettingKey.DUPLICATE_CHECK_TYPES="_duplicate_check_types",SettingKey.DO_NOT_USE_GENERAL_SETTINGS="_do_not_use_general_settings",SettingKey.COOKIES="_cookies",SettingKey.CACHE_TEST_URL_RESPONSES="_cache_test_url_responses",SettingKey.FIX_TABS="_fix_tabs",SettingKey.FIX_CONTENT_NAVIGATION="_fix_content_navigation",SettingKey.CATEGORY_ADD_CATEGORY_URLS_WITH_SELECTOR="_category_add_category_urls_with_selector",SettingKey.CATEGORY_LIST_PAGE_URL="_category_list_page_url",SettingKey.CATEGORY_LIST_URL_SELECTORS="_category_list_url_selectors",SettingKey.CATEGORY_POST_LINK_SELECTORS="_category_post_link_selectors",SettingKey.CATEGORY_COLLECT_IN_REVERSE_ORDER="_category_collect_in_reverse_order",SettingKey.CATEGORY_UNNECESSARY_ELEMENT_SELECTORS="_category_unnecessary_element_selectors",SettingKey.CATEGORY_POST_SAVE_THUMBNAILS="_category_post_save_thumbnails",SettingKey.CATEGORY_POST_THUMBNAIL_SELECTORS="_category_post_thumbnail_selectors",SettingKey.TEST_FIND_REPLACE_THUMBNAIL_URL_CAT="_test_find_replace_thumbnail_url_cat",SettingKey.CATEGORY_FIND_REPLACE_THUMBNAIL_URL="_category_find_replace_thumbnail_url",SettingKey.CATEGORY_POST_IS_LINK_BEFORE_THUMBNAIL="_category_post_is_link_before_thumbnail",SettingKey.CATEGORY_NEXT_PAGE_SELECTORS="_category_next_page_selectors",SettingKey.CATEGORY_MAP="_category_map",SettingKey.TEST_FIND_REPLACE_FIRST_LOAD_CAT="_test_find_replace_first_load_cat",SettingKey.CATEGORY_FIND_REPLACE_RAW_HTML="_category_find_replace_raw_html",SettingKey.CATEGORY_FIND_REPLACE_FIRST_LOAD="_category_find_replace_first_load",SettingKey.CATEGORY_FIND_REPLACE_ELEMENT_ATTRIBUTES="_category_find_replace_element_attributes",SettingKey.CATEGORY_EXCHANGE_ELEMENT_ATTRIBUTES="_category_exchange_element_attributes",SettingKey.CATEGORY_REMOVE_ELEMENT_ATTRIBUTES="_category_remove_element_attributes",SettingKey.CATEGORY_FIND_REPLACE_ELEMENT_HTML="_category_find_replace_element_html",SettingKey.TEST_URL_CATEGORY="_test_url_category",SettingKey.CATEGORY_NOTIFY_EMPTY_VALUE_SELECTORS="_category_notify_empty_value_selectors",SettingKey.TEST_URL_POST="_test_url_post",SettingKey.POST_TITLE_SELECTORS="_post_title_selectors",SettingKey.POST_EXCERPT_SELECTORS="_post_excerpt_selectors",SettingKey.POST_CONTENT_SELECTORS="_post_content_selectors",SettingKey.POST_CATEGORY_NAME_SELECTORS="_post_category_name_selectors",SettingKey.POST_CATEGORY_ADD_ALL_FOUND_CATEGORY_NAMES="_post_category_add_all_found_category_names",SettingKey.POST_CATEGORY_NAME_SEPARATORS="_post_category_name_separators",SettingKey.POST_CATEGORY_ADD_HIERARCHICAL="_post_category_add_hierarchical",SettingKey.POST_CATEGORY_DO_NOT_ADD_CATEGORY_IN_MAP="_post_category_do_not_add_category_in_map",SettingKey.POST_DATE_SELECTORS="_post_date_selectors",SettingKey.TEST_FIND_REPLACE_DATE="_test_find_replace_date",SettingKey.POST_FIND_REPLACE_DATE="_post_find_replace_date",SettingKey.POST_DATE_ADD_MINUTES="_post_date_add_minutes",SettingKey.POST_CUSTOM_CONTENT_SHORTCODE_SELECTORS="_post_custom_content_shortcode_selectors",SettingKey.POST_FIND_REPLACE_CUSTOM_SHORT_CODE="_post_find_replace_custom_short_code",SettingKey.POST_TAG_SELECTORS="_post_tag_selectors",SettingKey.POST_SLUG_SELECTORS="_post_slug_selectors",SettingKey.POST_PAGINATE="_post_paginate",SettingKey.POST_NEXT_PAGE_URL_SELECTORS="_post_next_page_url_selectors",SettingKey.POST_NEXT_PAGE_ALL_PAGES_URL_SELECTORS="_post_next_page_all_pages_url_selectors",SettingKey.POST_SAVE_AS_SINGLE_PAGE="_post_save_as_single_page",SettingKey.POST_IS_LIST_TYPE="_post_is_list_type",SettingKey.POST_LIST_ITEM_STARTS_AFTER_SELECTORS="_post_list_item_starts_after_selectors",SettingKey.POST_LIST_TITLE_SELECTORS="_post_list_title_selectors",SettingKey.POST_LIST_CONTENT_SELECTORS="_post_list_content_selectors",SettingKey.POST_LIST_ITEM_NUMBER_SELECTORS="_post_list_item_number_selectors",SettingKey.POST_LIST_ITEM_AUTO_NUMBER="_post_list_item_auto_number",SettingKey.POST_LIST_INSERT_REVERSED="_post_list_insert_reversed",SettingKey.POST_META_KEYWORDS="_post_meta_keywords",SettingKey.POST_META_KEYWORDS_AS_TAGS="_post_meta_keywords_as_tags",SettingKey.POST_META_DESCRIPTION="_post_meta_description",SettingKey.POST_SAVE_ALL_IMAGES_IN_CONTENT="_post_save_all_images_in_content",SettingKey.POST_SAVE_IMAGES_AS_MEDIA="_post_save_images_as_media",SettingKey.POST_SAVE_IMAGES_AS_GALLERY="_post_save_images_as_gallery",SettingKey.POST_GALLERY_IMAGE_SELECTORS="_post_gallery_image_selectors",SettingKey.POST_SAVE_IMAGES_AS_WOOCOMMERCE_GALLERY="_post_save_images_as_woocommerce_gallery",SettingKey.POST_IMAGE_SELECTORS="_post_image_selectors",SettingKey.TEST_FIND_REPLACE_IMAGE_URLS="_test_find_replace_image_urls",SettingKey.POST_FIND_REPLACE_IMAGE_URLS="_post_find_replace_image_urls",SettingKey.POST_SAVE_THUMBNAILS_IF_NOT_EXIST="_post_save_thumbnails_if_not_exist",SettingKey.POST_THUMBNAIL_SELECTORS="_post_thumbnail_selectors",SettingKey.TEST_FIND_REPLACE_THUMBNAIL_URL="_test_find_replace_thumbnail_url",SettingKey.POST_FIND_REPLACE_THUMBNAIL_URL="_post_find_replace_thumbnail_url",SettingKey.POST_CUSTOM_META_SELECTORS="_post_custom_meta_selectors",SettingKey.POST_CUSTOM_META="_post_custom_meta",SettingKey.POST_FIND_REPLACE_CUSTOM_META="_post_find_replace_custom_meta",SettingKey.POST_CUSTOM_TAXONOMY_SELECTORS="_post_custom_taxonomy_selectors",SettingKey.POST_CUSTOM_TAXONOMY="_post_custom_taxonomy",SettingKey.POST_NOTIFY_EMPTY_VALUE_SELECTORS="_post_notify_empty_value_selectors",SettingKey.TEST_FIND_REPLACE_FIRST_LOAD="_test_find_replace_first_load",SettingKey.POST_FIND_REPLACE_RAW_HTML="_post_find_replace_raw_html",SettingKey.POST_FIND_REPLACE_FIRST_LOAD="_post_find_replace_first_load",SettingKey.POST_FIND_REPLACE_ELEMENT_ATTRIBUTES="_post_find_replace_element_attributes",SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES="_post_exchange_element_attributes",SettingKey.POST_REMOVE_ELEMENT_ATTRIBUTES="_post_remove_element_attributes",SettingKey.POST_FIND_REPLACE_ELEMENT_HTML="_post_find_replace_element_html",SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS="_post_unnecessary_element_selectors",SettingKey.POST_TEMPLATE_MAIN="_post_template_main",SettingKey.POST_TEMPLATE_TITLE="_post_template_title",SettingKey.POST_TEMPLATE_EXCERPT="_post_template_excerpt",SettingKey.POST_TEMPLATE_LIST_ITEM="_post_template_list_item",SettingKey.POST_TEMPLATE_GALLERY_ITEM="_post_template_gallery_item",SettingKey.POST_REMOVE_LINKS_FROM_SHORT_CODES="_post_remove_links_from_short_codes",SettingKey.POST_CONVERT_IFRAMES_TO_SHORT_CODE="_post_convert_iframes_to_short_code",SettingKey.POST_CONVERT_SCRIPTS_TO_SHORT_CODE="_post_convert_scripts_to_short_code",SettingKey.POST_REMOVE_EMPTY_HTML_TAGS="_post_remove_empty_html_tags",SettingKey.POST_REMOVE_SCRIPTS="_post_remove_scripts",SettingKey.TEST_FIND_REPLACE="_test_find_replace",SettingKey.POST_FIND_REPLACE_TEMPLATE="_post_find_replace_template",SettingKey.POST_FIND_REPLACE_TITLE="_post_find_replace_title",SettingKey.POST_FIND_REPLACE_EXCERPT="_post_find_replace_excerpt",SettingKey.POST_FIND_REPLACE_TAGS="_post_find_replace_tags",SettingKey.POST_FIND_REPLACE_META_KEYWORDS="_post_find_replace_meta_keywords",SettingKey.POST_FIND_REPLACE_META_DESCRIPTION="_post_find_replace_meta_description",SettingKey.POST_FIND_REPLACE_CUSTOM_SHORTCODES="_post_find_replace_custom_shortcodes",SettingKey.TEMPLATE_UNNECESSARY_ELEMENT_SELECTORS="_template_unnecessary_element_selectors",SettingKey.NOTES="_notes",SettingKey.NOTES_SIMPLE="_notes_simple",SettingKey.POST_IMPORT_SETTINGS="_post_import_settings",SettingKey.POST_EXPORT_SETTINGS="_post_export_settings",SettingKey.DEV_TOOLS_STATE="_dev_tools_state",SettingKey.DEV_TOOLS_URL="_dt_toolbar_url",SettingKey.DEV_TOOLS_CSS_SELECTOR="_dt_toolbar_css_selector",SettingKey.DEV_TOOLS_TARGET_HTML_TAG="_dt_target_html_tag",SettingKey.DEV_TOOLS_SELECTION_BEHAVIOR="selection_behavior",SettingKey.DEV_TOOLS_TEST_BUTTON_BEHAVIOR="test_button_behavior",SettingKey.DEV_TOOLS_APPLY_MANIPULATION_OPTIONS="apply_manipulation_options",SettingKey.DEV_TOOLS_USE_IMMEDIATELY="use_immediately",SettingKey.DEV_TOOLS_REMOVE_SCRIPTS="remove_scripts",SettingKey.DEV_TOOLS_REMOVE_STYLES="remove_styles",SettingKey.OPTIONS_BOX="_options_box",SettingKey.OPTIONS_BOX_FILE_FIND_REPLACE="_options_box[file_find_replace]",SettingKey.OPTIONS_BOX_MOVE="_options_box[move]",SettingKey.OPTIONS_BOX_COPY="_options_box[copy]",SettingKey.OPTIONS_BOX_TEMPLATES_FILE_NAME="_options_box[templates_file_name]",SettingKey.OPTIONS_BOX_TEMPLATES_MEDIA_TITLE="_options_box[templates_media_title]",SettingKey.OPTIONS_BOX_TEMPLATES_MEDIA_DESC="_options_box[templates_media_description]",SettingKey.OPTIONS_BOX_TEMPLATES_MEDIA_CAPTION="_options_box[templates_media_caption]",SettingKey.OPTIONS_BOX_TEMPLATES_MEDIA_ALT_TEXT="_options_box[templates_media_alt_text]",SettingKey.OPTIONS_BOX_DECIMAL_SEPARATOR_AFTER="_options_box[decimal_separator_after]",SettingKey.OPTIONS_BOX_USE_THOUSANDS_SEPARATOR="_options_box[use_thousands_separator]",SettingKey.OPTIONS_BOX_REMOVE_IF_NOT_NUMERIC="_options_box[remove_if_not_numeric]",SettingKey.OPTIONS_BOX_PRECISION="_options_box[precision]",SettingKey.OPTIONS_BOX_FORMULAS="_options_box[formulas]",SettingKey.OPTIONS_BOX_FIND_REPLACE="_options_box[find_replace]",SettingKey.OPTIONS_BOX_TREAT_AS_JSON="_options_box[treat_as_json]",SettingKey.OPTIONS_BOX_IMPORT_SETTINGS="_options_box_import_settings",SettingKey.OPTIONS_BOX_EXPORT_SETTINGS="_options_box_export_settings",SettingKey.OPTIONS_BOX_NOTE="_options_box[note]",SettingKey.OPTIONS_BOX_REMOVE_IF_EMPTY="_options_box[remove_if_empty]",SettingKey.OPTIONS_BOX_TEMPLATES="_options_box[templates]",SettingKey.CRON_LAST_CHECKED_AT="_cron_last_checked_at",SettingKey.CRON_LAST_CHECKED_CATEGORY_URL="_cron_last_checked_category_url",SettingKey.CRON_LAST_CHECKED_CATEGORY_NEXT_PAGE_URL="_cron_last_checked_category_next_page_url",SettingKey.CRON_NO_NEW_URL_INSERTED_COUNT="_cron_no_new_url_inserted_count",SettingKey.CRON_CRAWLED_PAGE_COUNT="_cron_crawled_page_count",SettingKey.CRON_LAST_CRAWLED_AT="_cron_last_crawled_at",SettingKey.CRON_LAST_CRAWLED_URL_ID="_cron_last_crawled_url_id",SettingKey.CRON_POST_NEXT_PAGE_URL="_cron_post_next_page_url",SettingKey.CRON_POST_NEXT_PAGE_URLS="_cron_post_next_page_urls",SettingKey.CRON_POST_DRAFT_ID="_cron_post_draft_id",SettingKey.CRON_RECRAWL_LAST_CRAWLED_AT="_cron_recrawl_last_crawled_at",SettingKey.CRON_RECRAWL_LAST_CRAWLED_URL_ID="_cron_recrawl_last_crawled_url_id",SettingKey.CRON_RECRAWL_POST_NEXT_PAGE_URL="_cron_recrawl_post_next_page_url",SettingKey.CRON_RECRAWL_POST_NEXT_PAGE_URLS="_cron_recrawl_post_next_page_urls",SettingKey.CRON_RECRAWL_POST_DRAFT_ID="_cron_recrawl_post_draft_id",SettingKey.CRON_LAST_DELETED_AT="_cron_last_deleted_at",SettingKey.WPCC_IS_SCHEDULING_ACTIVE="_wpcc_is_scheduling_active",SettingKey.WPCC_NO_NEW_URL_PAGE_TRIAL_LIMIT="_wpcc_no_new_url_page_trial_limit",SettingKey.WPCC_MAX_PAGE_COUNT_PER_CATEGORY="_wpcc_max_page_count_per_category",SettingKey.WPCC_INTERVAL_URL_COLLECTION="_wpcc_interval_url_collection",SettingKey.WPCC_INTERVAL_POST_CRAWL="_wpcc_interval_post_crawl",SettingKey.WPCC_IS_RECRAWLING_ACTIVE="_wpcc_is_recrawling_active",SettingKey.WPCC_INTERVAL_POST_RECRAWL="_wpcc_interval_post_recrawl",SettingKey.WPCC_RUN_COUNT_URL_COLLECTION="_wpcc_run_count_url_collection",SettingKey.WPCC_RUN_COUNT_POST_CRAWL="_wpcc_run_count_post_crawl",SettingKey.WPCC_RUN_COUNT_POST_RECRAWL="_wpcc_run_count_post_recrawl",SettingKey.WPCC_MAX_RECRAWL_COUNT="_wpcc_max_recrawl_count",SettingKey.WPCC_MIN_TIME_BETWEEN_TWO_RECRAWLS_IN_MIN="_wpcc_min_time_between_two_recrawls_in_min",SettingKey.WPCC_RECRAWL_POSTS_NEWER_THAN_IN_MIN="_wpcc_recrawl_posts_newer_than_in_min",SettingKey.WPCC_IS_DELETING_POSTS_ACTIVE="_wpcc_is_deleting_posts_active",SettingKey.WPCC_INTERVAL_POST_DELETE="_wpcc_interval_post_delete",SettingKey.WPCC_MAX_POST_COUNT_PER_POST_DELETE_EVENT="_wpcc_max_post_count_per_post_delete_event",SettingKey.WPCC_DELETE_POSTS_OLDER_THAN_IN_MIN="_wpcc_delete_posts_older_than_in_min",SettingKey.WPCC_IS_DELETE_POST_ATTACHMENTS="_wpcc_is_delete_post_attachments",SettingKey.WPCC_ALLOW_COMMENTS="_wpcc_allow_comments",SettingKey.WPCC_POST_STATUS="_wpcc_post_status",SettingKey.WPCC_POST_TYPE="_wpcc_post_type",SettingKey.WPCC_POST_CATEGORY_TAXONOMIES="_wpcc_post_category_taxonomies",SettingKey.WPCC_POST_AUTHOR="_wpcc_post_author",SettingKey.WPCC_POST_TAG_LIMIT="_wpcc_post_tag_limit",SettingKey.WPCC_CHANGE_PASSWORD="_wpcc_change_password",SettingKey.WPCC_POST_PASSWORD="_wpcc_post_password",SettingKey.WPCC_POST_SET_SRCSET="_wpcc_post_set_srcset",SettingKey.WPCC_ALLOWED_IFRAME_SHORT_CODE_DOMAINS="_wpcc_allowed_iframe_short_code_domains",SettingKey.WPCC_ALLOWED_SCRIPT_SHORT_CODE_DOMAINS="_wpcc_allowed_script_short_code_domains",SettingKey.WPCC_IS_TRANSLATION_ACTIVE="_wpcc_is_translation_active",SettingKey.WPCC_SELECTED_TRANSLATION_SERVICE="_wpcc_selected_translation_service",SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_FROM="_wpcc_translation_google_translate_from",SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_TO="_wpcc_translation_google_translate_to",SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_PROJECT_ID="_wpcc_translation_google_translate_project_id",SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_API_KEY="_wpcc_translation_google_translate_api_key",SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_TEST="_wpcc_translation_google_translate_test",SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_FROM="_wpcc_translation_microsoft_translator_text_from",SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_TO="_wpcc_translation_microsoft_translator_text_to",SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_CLIENT_SECRET="_wpcc_translation_microsoft_translator_text_client_secret",SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_TEST="_wpcc_translation_microsoft_translator_text_test",SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_FROM="_wpcc_translation_yandex_translate_from",SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_TO="_wpcc_translation_yandex_translate_to",SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_API_KEY="_wpcc_translation_yandex_translate_api_key",SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_TEST="_wpcc_translation_yandex_translate_test",SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_FROM="_wpcc_translation_amazon_translate_from",SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_TO="_wpcc_translation_amazon_translate_to",SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_ACCESS_KEY="_wpcc_translation_amazon_translate_access_key",SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_SECRET="_wpcc_translation_amazon_translate_secret",SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_REGION="_wpcc_translation_amazon_translate_region",SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_TEST="_wpcc_translation_amazon_translate_test",SettingKey.WPCC_IS_SPINNING_ACTIVE="_wpcc_is_spinning_active",SettingKey.WPCC_SELECTED_SPINNING_SERVICE="_wpcc_selected_spinning_service",SettingKey.WPCC_SPINNING_SEND_IN_ONE_REQUEST="_wpcc_spinning_send_in_one_request",SettingKey.WPCC_SPINNING_PROTECTED_TERMS="_wpcc_spinning_protected_terms",SettingKey.WPCC_SPINNING_SPIN_REWRITER_EMAIL="_wpcc_spinning_spin_rewriter_email",SettingKey.WPCC_SPINNING_SPIN_REWRITER_API_KEY="_wpcc_spinning_spin_rewriter_api_key",SettingKey.WPCC_SPINNING_SPIN_REWRITER_CONFIDENCE_LEVEL="_wpcc_spinning_spin_rewriter_confidence_level",SettingKey.WPCC_SPINNING_SPIN_REWRITER_AUTO_PROTECTED_TERMS="_wpcc_spinning_spin_rewriter_auto_protected_terms",SettingKey.WPCC_SPINNING_SPIN_REWRITER_NESTED_SPINTAX="_wpcc_spinning_spin_rewriter_nested_spintax",SettingKey.WPCC_SPINNING_SPIN_REWRITER_AUTO_SENTENCES="_wpcc_spinning_spin_rewriter_auto_sentences",SettingKey.WPCC_SPINNING_SPIN_REWRITER_AUTO_PARAGRAPHS="_wpcc_spinning_spin_rewriter_auto_paragraphs",SettingKey.WPCC_SPINNING_SPIN_REWRITER_AUTO_NEW_PARAGRAPHS="_wpcc_spinning_spin_rewriter_auto_new_paragraphs",SettingKey.WPCC_SPINNING_SPIN_REWRITER_AUTO_SENTENCE_TREES="_wpcc_spinning_spin_rewriter_auto_sentence_trees",SettingKey.WPCC_SPINNING_SPIN_REWRITER_USE_ONLY_SYNONYMS="_wpcc_spinning_spin_rewriter_use_only_synonyms",SettingKey.WPCC_SPINNING_SPIN_REWRITER_REORDER_PARAGRAPHS="_wpcc_spinning_spin_rewriter_reorder_paragraphs",SettingKey.WPCC_SPINNING_SPIN_REWRITER_TEXT_WITH_SPINTAX="_wpcc_spinning_spin_rewriter_text_with_spintax",SettingKey.WPCC_SPINNING_SPIN_REWRITER_TEST="_wpcc_spinning_spin_rewriter_test",SettingKey.WPCC_SPINNING_TURKCE_SPIN_API_TOKEN="_wpcc_spinning_turkce_spin_api_token",SettingKey.WPCC_SPINNING_TURKCE_SPIN_TEST="_wpcc_spinning_turkce_spin_test",SettingKey.WPCC_META_KEYWORDS_META_KEY="_wpcc_meta_keywords_meta_key",SettingKey.WPCC_META_DESCRIPTION_META_KEY="_wpcc_meta_description_meta_key",SettingKey.WPCC_TEST_FIND_REPLACE="_wpcc_test_find_replace",SettingKey.WPCC_FIND_REPLACE="_wpcc_find_replace",SettingKey.WPCC_IS_NOTIFICATION_ACTIVE="_wpcc_is_notification_active",SettingKey.WPCC_NOTIFICATION_EMAIL_INTERVAL_FOR_SITE="_wpcc_notification_email_interval_for_site",SettingKey.WPCC_NOTIFICATION_EMAILS="_wpcc_notification_emails",SettingKey.WPCC_MAKE_SURE_ENCODING_UTF8="_wpcc_make_sure_encoding_utf8",SettingKey.WPCC_CONVERT_CHARSET_TO_UTF8="_wpcc_convert_charset_to_utf8",SettingKey.WPCC_HTTP_USER_AGENT="_wpcc_http_user_agent",SettingKey.WPCC_HTTP_ACCEPT="_wpcc_http_accept",SettingKey.WPCC_HTTP_ALLOW_COOKIES="_wpcc_http_allow_cookies",SettingKey.WPCC_USE_PROXY="_wpcc_use_proxy",SettingKey.WPCC_CONNECTION_TIMEOUT="_wpcc_connection_timeout",SettingKey.WPCC_TEST_URL_PROXY="_wpcc_test_url_proxy",SettingKey.WPCC_PROXIES="_wpcc_proxies",SettingKey.WPCC_PROXY_TRY_LIMIT="_wpcc_proxy_try_limit",SettingKey.WPCC_PROXY_RANDOMIZE="_wpcc_proxy_randomize",SettingKey.WPCC_DISABLE_TOOLTIP="_wpcc_disable_tooltip",SettingKey.WPCC_REFRESH_DOCS_LABEL_INDEX="_wpcc_refresh_docs_label_index",SettingKey.WPCC_TOOLS_SITE_ID="_wpcc_tools_site_id",SettingKey.WPCC_TOOLS_CATEGORY_ID="_wpcc_tools_category_id",SettingKey.WPCC_TOOLS_POST_URLS="_post_urls",SettingKey.WPCC_TOOLS_POST_AND_FEATURED_IMAGE_URLS="_post_and_featured_image_urls",SettingKey.WPCC_TOOLS_CATEGORY_URLS="_category_urls",SettingKey.WPCC_TOOLS_MAX_POSTS_TO_BE_CRAWLED="_max_posts_to_be_crawled",SettingKey.WPCC_TOOLS_MAX_PARALLEL_CRAWLING_COUNT="_max_parallel_crawling_count",SettingKey.WPCC_TOOLS_MANUAL_CRAWLING_TOOL_CLEAR_AFTER_SUBMIT="_manual_crawling_tool_clear_after_submit",SettingKey.WPCC_TOOLS_RECRAWL_POST_ID="_wpcc_tools_recrawl_post_id",SettingKey.WPCC_TOOLS_CLEAR_URLS_SITE_ID="_wpcc_tools_clear_urls_site_id",SettingKey.WPCC_TOOLS_URL_TYPE="_wpcc_tools_url_type",SettingKey.WPCC_TOOLS_SAFETY_CHECK="_wpcc_tools_safety_check",SettingKey.WPCC_DASHBOARD_COUNT_LAST_CRAWLED_POSTS="_wpcc_dashboard_count_last_crawled_posts",SettingKey.WPCC_DASHBOARD_COUNT_LAST_URLS="_wpcc_dashboard_count_last_urls",SettingKey.WPCC_DASHBOARD_COUNT_LAST_RECRAWLED_POSTS="_wpcc_dashboard_count_last_recrawled_posts",SettingKey.WPCC_DASHBOARD_COUNT_LAST_DELETED_URLS="_wpcc_dashboard_count_last_deleted_urls"}((exports.SettingKey=SettingKey)||(exports.SettingKey=SettingKey={}))},{}],30:[function(require,module,exports){"use strict";var TabKey;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabKey=void 0,function(TabKey){TabKey.SITE_SETTINGS_TAB_MAIN="tab-main",TabKey.SITE_SETTINGS_TAB_CATEGORY="tab-category",TabKey.SITE_SETTINGS_TAB_POST="tab-post",TabKey.SITE_SETTINGS_TAB_TEMPLATES="tab-templates",TabKey.SITE_SETTINGS_TAB_NOTES="tab-notes",TabKey.SITE_SETTINGS_TAB_GENERAL_SETTINGS="tab-general-settings",TabKey.SITE_SETTINGS_TAB_IMPORT_EXPORT_SETTINGS="tab-import-export-settings",TabKey.OPTIONS_BOX_TAB_FIND_REPLACE="tab-options-box-find-replace",TabKey.OPTIONS_BOX_TAB_GENERAL="tab-options-box-general",TabKey.OPTIONS_BOX_TAB_CALCULATIONS="tab-options-box-calculations",TabKey.OPTIONS_BOX_TAB_TEMPLATES="tab-options-box-templates",TabKey.OPTIONS_BOX_TAB_NOTES="tab-options-box-notes",TabKey.OPTIONS_BOX_TAB_IMPORT_EXPORT="tab-options-box-import-export",TabKey.OPTIONS_BOX_TAB_FILE_FIND_REPLACE="tab-options-box-file-find-replace",TabKey.OPTIONS_BOX_TAB_FILE_TEMPLATES="tab-options-box-file-templates",TabKey.OPTIONS_BOX_TAB_FILE_OPERATIONS="tab-options-box-file-operations",TabKey.GENERAL_SETTINGS_TAB_SCHEDULING="tab-gs-scheduling",TabKey.GENERAL_SETTINGS_TAB_POST="tab-gs-post",TabKey.GENERAL_SETTINGS_TAB_TRANSLATION="tab-gs-translation",TabKey.GENERAL_SETTINGS_TAB_SPINNING="tab-gs-spinning",TabKey.GENERAL_SETTINGS_TAB_SEO="tab-gs-seo",TabKey.GENERAL_SETTINGS_TAB_NOTIFICATIONS="tab-gs-notifications",TabKey.GENERAL_SETTINGS_TAB_ADVANCED="tab-gs-advanced",TabKey.TOOLS_TAB_MANUAL_CRAWLING="tab-manual-crawling",TabKey.TOOLS_TAB_MANUAL_RECRAWLING="tab-manual-recrawling",TabKey.TOOLS_TAB_URLS="tab-urls"}((exports.TabKey=TabKey)||(exports.TabKey=TabKey={}))},{}],31:[function(require,module,exports){"use strict";var _TooltipBuilder2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NullTooltipBuilder=void 0;var NullTooltipBuilder=function(_TooltipBuilder){function NullTooltipBuilder(){return _classCallCheck(this,NullTooltipBuilder),_possibleConstructorReturn(this,_getPrototypeOf(NullTooltipBuilder).apply(this,arguments))}return _inherits(NullTooltipBuilder,_TooltipBuilder),_createClass(NullTooltipBuilder,[{key:"init",value:function init(){return this}},{key:"destroy",value:function destroy(){var _this=this;return this.addCall(function(){_this.getElements()&&_this.getElements().removeAttr("title")}),this}},{key:"fixTitle",value:function fixTitle(){return this}},{key:"show",value:function show(){return this}},{key:"hide",value:function hide(){return this}}],[{key:"for",value:function _for($elements){return null===NullTooltipBuilder.instance&&(NullTooltipBuilder.instance=new NullTooltipBuilder),NullTooltipBuilder.instance.setElements($elements),NullTooltipBuilder.instance.resetCallQueue(),NullTooltipBuilder.instance}}]),NullTooltipBuilder}(require("./TooltipBuilder").TooltipBuilder);(exports.NullTooltipBuilder=NullTooltipBuilder).instance=null},{"./TooltipBuilder":33}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tooltip=void 0;var _TooltipBuilder=require("./TooltipBuilder"),_NullTooltipBuilder=require("./NullTooltipBuilder");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Tooltip=function(){function Tooltip(){_classCallCheck(this,Tooltip)}return _createClass(Tooltip,null,[{key:"for",value:function _for($elements){var tooltipDisabled;return void 0===window.wpccTooltipDisabled||!!window.wpccTooltipDisabled||"function"!=typeof $.fn.tooltip||"function"!=typeof $.fn.emulateTransitionEnd?_NullTooltipBuilder.NullTooltipBuilder.for($elements):_TooltipBuilder.TooltipBuilder.for($elements)}},{key:"initAll",value:function initAll(){Tooltip.for($(Tooltip.TOOLTIP_EL_SELECTOR)).init().apply()}},{key:"initAllIn",value:function initAllIn($elements){Tooltip.for($elements.find(Tooltip.TOOLTIP_EL_SELECTOR)).init().apply()}},{key:"initForSelector",value:function initForSelector(selector){Tooltip.for($(selector+Tooltip.TOOLTIP_EL_SELECTOR)).init().apply()}}]),Tooltip}();(exports.Tooltip=Tooltip).TOOLTIP_DATA_ATTR_NAME="wpcc-toggle",Tooltip.TOOLTIP_ATTRIBUTE_NAME="data-"+Tooltip.TOOLTIP_DATA_ATTR_NAME,Tooltip.TOOLTIP_ATTRIBUTE_VALUE="wpcc-tooltip",Tooltip.TOOLTIP_EL_SELECTOR="["+Tooltip.TOOLTIP_ATTRIBUTE_NAME+'="'+Tooltip.TOOLTIP_ATTRIBUTE_VALUE+'"]'},{"./NullTooltipBuilder":31,"./TooltipBuilder":33}],33:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TooltipBuilder=void 0;var TooltipBuilder=function(){function TooltipBuilder(){_classCallCheck(this,TooltipBuilder),this.$elements=null,this.callQueue=[]}return _createClass(TooltipBuilder,[{key:"init",value:function init(){var _this=this;return this.addCall(function(){return _this.getElements().tooltip()}),this}},{key:"destroy",value:function destroy(){var _this2=this;return this.addCall(function(){return _this2.getElements().tooltip("destroy")}),this}},{key:"fixTitle",value:function fixTitle(){var _this3=this;return this.addCall(function(){return _this3.getElements().tooltip("fixTitle")}),this}},{key:"show",value:function show(){var _this4=this;return this.addCall(function(){return _this4.getElements().tooltip("show")}),this}},{key:"hide",value:function hide(){var _this5=this;return this.addCall(function(){return _this5.getElements().tooltip("hide").blur()}),this}},{key:"apply",value:function apply(){try{var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.getCallQueue()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var callback;(0,_step.value)()}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}catch(e){console.error(e)}this.resetCallQueue(),this.setElements(null)}},{key:"resetCallQueue",value:function resetCallQueue(){this.callQueue=[]}},{key:"getCallQueue",value:function getCallQueue(){return this.callQueue}},{key:"addCall",value:function addCall(callback){this.callQueue.push(callback)}},{key:"getElements",value:function getElements(){return this.$elements}},{key:"setElements",value:function setElements($elements){return this.$elements=$elements,this}}],[{key:"for",value:function _for($elements){return null===TooltipBuilder.instance&&(TooltipBuilder.instance=new TooltipBuilder),TooltipBuilder.instance.setElements($elements),TooltipBuilder.instance.resetCallQueue(),TooltipBuilder.instance}}]),TooltipBuilder}();(exports.TooltipBuilder=TooltipBuilder).instance=null},{}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidationRuleService=void 0;var _TextLengthRule=require("./rules/TextLengthRule"),_StartsWithRule=require("./rules/StartsWithRule"),_MatchRule=require("./rules/MatchRule"),_RuleIdentifier=require("./enum/RuleIdentifier"),_CheckedRule=require("./rules/CheckedRule"),_UniqueCategoryUrlsRule=require("./rules/UniqueCategoryUrlsRule"),_UrlRule=require("./rules/UrlRule"),_InvalidValueRule=require("./rules/InvalidValueRule"),_ValidValueRule=require("./rules/ValidValueRule"),_IntegerRule=require("./rules/IntegerRule");function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ValidationRuleService=function(){function ValidationRuleService(){_classCallCheck(this,ValidationRuleService),this.ruleMap=new Map,this.ruleMap.set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,_TextLengthRule.TextLengthRule).set(_RuleIdentifier.RuleIdentifier.STARTS_WITH,_StartsWithRule.StartsWithRule).set(_RuleIdentifier.RuleIdentifier.MATCH,_MatchRule.MatchRule).set(_RuleIdentifier.RuleIdentifier.CHECKED,_CheckedRule.CheckedRule).set(_RuleIdentifier.RuleIdentifier.UNIQUE_CATEGORY_URLS,_UniqueCategoryUrlsRule.UniqueCategoryUrlsRule).set(_RuleIdentifier.RuleIdentifier.URL,_UrlRule.UrlRule).set(_RuleIdentifier.RuleIdentifier.VALID_VAL,_ValidValueRule.ValidValueRule).set(_RuleIdentifier.RuleIdentifier.INVALID_VAL,_InvalidValueRule.InvalidValueRule).set(_RuleIdentifier.RuleIdentifier.INT,_IntegerRule.IntegerRule)}return _createClass(ValidationRuleService,[{key:"validate",value:function validate(value,rules){var results;return rules.map(function(rule){return rule.setValue(value).validate()}).reduce(function(prev,curr){return prev.push.apply(prev,_toConsumableArray(curr)),prev})}},{key:"getRuleInstancesWithFormItemRule",value:function getRuleInstancesWithFormItemRule(rule){return this.getRuleInstances(rule.getRule(),rule.getErrorMessages())}},{key:"getRuleInstances",value:function getRuleInstances(rules,argument_1){var _this=this,errorMessages=1<arguments.length&&void 0!==argument_1?argument_1:null,parsed,ruleIdentifier,options,RuleType,instance,instances;return null===errorMessages&&(errorMessages=new Map),rules.split("|").map(function(definition){return(parsed=definition.split(/:(.+)/)).length?(ruleIdentifier=parsed[0],_this.ruleMap.has(ruleIdentifier)?(options=1<parsed.length?parsed[1]:"",RuleType=_this.ruleMap.get(ruleIdentifier),instance=new RuleType(options),errorMessages.has(ruleIdentifier)&&instance.setErrorMessage(errorMessages.get(ruleIdentifier)),instance):(console.debug("Rule ".concat(ruleIdentifier," does not exist")),null)):null}).filter(function(value){return null!==value})}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new ValidationRuleService),this.instance}}]),ValidationRuleService}();(exports.ValidationRuleService=ValidationRuleService).instance=null},{"./enum/RuleIdentifier":35,"./rules/CheckedRule":39,"./rules/IntegerRule":40,"./rules/InvalidValueRule":41,"./rules/MatchRule":42,"./rules/StartsWithRule":43,"./rules/TextLengthRule":44,"./rules/UniqueCategoryUrlsRule":45,"./rules/UrlRule":46,"./rules/ValidValueRule":47}],35:[function(require,module,exports){"use strict";var RuleIdentifier;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuleIdentifier=void 0,function(RuleIdentifier){RuleIdentifier.TEXT_LENGTH="len",RuleIdentifier.STARTS_WITH="starts_with",RuleIdentifier.MATCH="match",RuleIdentifier.CHECKED="checked",RuleIdentifier.UNIQUE_CATEGORY_URLS="unique_cat_urls",RuleIdentifier.URL="url",RuleIdentifier.VALID_VAL="valid_val",RuleIdentifier.INVALID_VAL="invalid_val",RuleIdentifier.INT="int"}((exports.RuleIdentifier=RuleIdentifier)||(exports.RuleIdentifier=RuleIdentifier={}))},{}],36:[function(require,module,exports){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormItemRule=void 0;var FormItemRule=function(){function FormItemRule(rule){var innerKey=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,inputGroupIndex=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,FormItemRule),this.rule=null,this.settingKey=null,this.groupIndex=null,this.innerKey=null,this.containerSelector=null,this.cssSelector=null,this.errorMessages=new Map,this.rule=rule,this.innerKey=innerKey,this.groupIndex=inputGroupIndex}return _createClass(FormItemRule,[{key:"getRule",value:function getRule(){return this.rule}},{key:"addErrorMessage",value:function addErrorMessage(ruleIdentifier,errorMessage){return this.errorMessages.set(ruleIdentifier,errorMessage),this}},{key:"getErrorMessages",value:function getErrorMessages(){return this.errorMessages}},{key:"getSettingKey",value:function getSettingKey(){return this.settingKey}},{key:"setSettingKey",value:function setSettingKey(settingKey){return this.settingKey=settingKey,this}},{key:"getGroupIndex",value:function getGroupIndex(){return this.groupIndex}},{key:"setGroupIndex",value:function setGroupIndex(index){return this.groupIndex=index,this}},{key:"getInnerKey",value:function getInnerKey(){return this.innerKey}},{key:"setInnerKey",value:function setInnerKey(innerKey){return this.innerKey=innerKey,this}},{key:"setContainerSelector",value:function setContainerSelector(selector){return this.containerSelector=selector,this}},{key:"getContainerSelector",value:function getContainerSelector(selector){return this.containerSelector}},{key:"setCssSelector",value:function setCssSelector(selector){return this.cssSelector=selector,this}},{key:"getCssSelector",value:function getCssSelector(){var containerSelector=null!==this.containerSelector?this.containerSelector+" ":"",groupSelector=null!==this.groupIndex?' .input-group[data-key="'.concat(this.groupIndex,'"] '):"",selectorEnd;if(null!==this.cssSelector)selectorEnd=this.cssSelector;else{var innerKeySelector=null!==this.innerKey&&this.innerKey.length?'[name$="['.concat(this.innerKey,']"]'):"",caret=innerKeySelector.length?"^":"",bracket=innerKeySelector.length?"[":"",settingKeySelector;(selectorEnd=(null!==this.settingKey&&this.settingKey.length?"[name".concat(caret,'="').concat(this.settingKey).concat(bracket,'"]'):"")+innerKeySelector).length||(selectorEnd=":input")}return containerSelector+groupSelector+selectorEnd}}],[{key:"fromRuleMap",value:function fromRuleMap(map,argument_1,argument_2){var innerKey=1<arguments.length&&void 0!==argument_1?argument_1:null,inputGroupIndex=2<arguments.length&&void 0!==argument_2?argument_2:null;if(0===map.size)throw"The rule map is empty. You must provide the rules.";var rules=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=map.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),identifier=_step$value[0],options=_step$value[1];rules.push(options?"".concat(identifier,":").concat(options):identifier)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return new FormItemRule(rules.join("|"),innerKey,inputGroupIndex)}}]),FormItemRule}();exports.FormItemRule=FormItemRule},{}],37:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormItemValidator=void 0;var _ValidationRuleService=require("../ValidationRuleService");function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var FormItemValidator=function(){function FormItemValidator(){var rules=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,FormItemValidator),this.rules=[],this.rulePreparer=null,this.rulesPrepared=!1,this.rules=rules}return _createClass(FormItemValidator,[{key:"addRule",value:function addRule(){var _this$rules;return(_this$rules=this.rules).push.apply(_this$rules,arguments),this.rulesPrepared=!1,this}},{key:"getRules",value:function getRules(){return this.rules}},{key:"setRulePreparer",value:function setRulePreparer(preparer){return this.rulePreparer=preparer,this}},{key:"validate",value:function validate(){var _this=this;this.maybePrepare();var results=[];return this.getRules().forEach(function(rule){results.push.apply(results,_toConsumableArray(_this.validateSingleRule(rule)))}),_toConsumableArray(new Set(results))}},{key:"maybePrepare",value:function maybePrepare(){var _this2=this;return!this.rulesPrepared&&this.rulePreparer&&this.getRules().forEach(function(rule){return _this2.rulePreparer(rule)}),this.rulesPrepared=!0,this}},{key:"validateSingleRule",value:function validateSingleRule(rule){var ruleService=_ValidationRuleService.ValidationRuleService.getInstance(),values=this.getInputValues(rule.getCssSelector()),results=[],validationResults;return values.forEach(function(value){validationResults=ruleService.validate(value,ruleService.getRuleInstancesWithFormItemRule(rule)),results.push.apply(results,_toConsumableArray(validationResults))}),results}},{key:"getInputValues",value:function getInputValues(selector){var _this3=this,results=[],elements=$(selector);return elements.length||console.warn("No element is found with selector: ".concat(selector)),elements.each(function(i,el){var value=_this3.getInputValue($(el));null!==value&&results.push(value)}),results}},{key:"getInputValue",value:function getInputValue($el){if($el.is(":input")||($el=$el.find(":input").first()),!$el.length)return null;var tagName;if("input"===$el[0].tagName.toLowerCase()){var inputType=$el.attr("type");if(FormItemValidator.inputValueFunctions.has(inputType))return FormItemValidator.inputValueFunctions.get(inputType)($el)}return $el.val()}}]),FormItemValidator}();(exports.FormItemValidator=FormItemValidator).inputValueFunctions=new Map([["checkbox",function($el){return $el.is(":checked")?"true":"false"}]])},{"../ValidationRuleService":34}],38:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractValidationRule=void 0;var AbstractValidationRule=function(){function AbstractValidationRule(options){_classCallCheck(this,AbstractValidationRule),this.errorMessage=null,this.options=options,this.prepareOptions()}return _createClass(AbstractValidationRule,[{key:"validate",value:function validate(){var errors=this.handleValidation(),msg=this.getErrorMessage();return errors.length&&null!==msg&&msg.length&&errors.unshift(msg),errors}},{key:"setValue",value:function setValue(value){return this.value=value,this}},{key:"getValue",value:function getValue(){return this.value}},{key:"setErrorMessage",value:function setErrorMessage(errorMessage){return this.errorMessage=errorMessage,this}},{key:"getErrorMessage",value:function getErrorMessage(){return this.errorMessage}},{key:"getOptions",value:function getOptions(){return this.options}},{key:"validationTranslation",value:function validationTranslation(key){return window.wpcc.validation[key]||""}}]),AbstractValidationRule}();exports.AbstractValidationRule=AbstractValidationRule},{}],39:[function(require,module,exports){"use strict";var _AbstractValidationRule;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CheckedRule=void 0;var CheckedRule=function(_AbstractValidationRu){function CheckedRule(){return _classCallCheck(this,CheckedRule),_possibleConstructorReturn(this,_getPrototypeOf(CheckedRule).apply(this,arguments))}return _inherits(CheckedRule,_AbstractValidationRu),_createClass(CheckedRule,[{key:"prepareOptions",value:function prepareOptions(){this.state=this.getOptions()||"true"}},{key:"handleValidation",value:function handleValidation(){var val,valid;return this.getValue()===this.state?[]:"true"===this.state?[this.validationTranslation("must_check_checkbox")]:[this.validationTranslation("must_uncheck_checkbox")]}}]),CheckedRule}(require("./AbstractValidationRule").AbstractValidationRule);exports.CheckedRule=CheckedRule},{"./AbstractValidationRule":38}],40:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntegerRule=void 0;var _AbstractValidationRule=require("./AbstractValidationRule"),_Utils=require("../../Utils");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var IntegerRule=function(_AbstractValidationRu){function IntegerRule(){return _classCallCheck(this,IntegerRule),_possibleConstructorReturn(this,_getPrototypeOf(IntegerRule).apply(this,arguments))}return _inherits(IntegerRule,_AbstractValidationRu),_createClass(IntegerRule,[{key:"prepareOptions",value:function prepareOptions(){}},{key:"handleValidation",value:function handleValidation(){return _Utils.Utils.isInt(this.getValue())?[]:[this.validationTranslation("value_should_be_int")]}}]),IntegerRule}(_AbstractValidationRule.AbstractValidationRule);exports.IntegerRule=IntegerRule},{"../../Utils":21,"./AbstractValidationRule":38}],41:[function(require,module,exports){"use strict";var _AbstractValidationRule;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidValueRule=void 0;var InvalidValueRule=function(_AbstractValidationRu){function InvalidValueRule(){return _classCallCheck(this,InvalidValueRule),_possibleConstructorReturn(this,_getPrototypeOf(InvalidValueRule).apply(this,arguments))}return _inherits(InvalidValueRule,_AbstractValidationRu),_createClass(InvalidValueRule,[{key:"prepareOptions",value:function prepareOptions(){this.invalidValues=this.getOptions().split(",").map(function(val){return val.trim()})}},{key:"handleValidation",value:function handleValidation(){var val=this.getValue(),isValid;return!this.invalidValues.length||!this.invalidValues.includes(val)?[]:[this.validationTranslation("value_not_valid")]}}]),InvalidValueRule}(require("./AbstractValidationRule").AbstractValidationRule);exports.InvalidValueRule=InvalidValueRule},{"./AbstractValidationRule":38}],42:[function(require,module,exports){"use strict";var _AbstractValidationRule;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MatchRule=void 0;var MatchRule=function(_AbstractValidationRu){function MatchRule(){return _classCallCheck(this,MatchRule),_possibleConstructorReturn(this,_getPrototypeOf(MatchRule).apply(this,arguments))}return _inherits(MatchRule,_AbstractValidationRu),_createClass(MatchRule,[{key:"prepareOptions",value:function prepareOptions(){this.regexStr=this.getOptions()}},{key:"handleValidation",value:function handleValidation(){var val,valid;return null!==this.getValue().match(this.regexStr)?[]:[this.validationTranslation("format_not_correct_x_regex").replace("%s",this.regexStr)]}}]),MatchRule}(require("./AbstractValidationRule").AbstractValidationRule);exports.MatchRule=MatchRule},{"./AbstractValidationRule":38}],43:[function(require,module,exports){"use strict";var _AbstractValidationRule;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StartsWithRule=void 0;var StartsWithRule=function(_AbstractValidationRu){function StartsWithRule(){return _classCallCheck(this,StartsWithRule),_possibleConstructorReturn(this,_getPrototypeOf(StartsWithRule).apply(this,arguments))}return _inherits(StartsWithRule,_AbstractValidationRu),_createClass(StartsWithRule,[{key:"prepareOptions",value:function prepareOptions(){this.startsWith=this.getOptions()}},{key:"handleValidation",value:function handleValidation(){var val,valid;return 0===this.getValue().indexOf(this.startsWith)?[]:[this.validationTranslation("value_must_start_with").replace("%s",this.startsWith)]}}]),StartsWithRule}(require("./AbstractValidationRule").AbstractValidationRule);exports.StartsWithRule=StartsWithRule},{"./AbstractValidationRule":38}],44:[function(require,module,exports){"use strict";var _AbstractValidationRule;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextLengthRule=void 0;var TextLengthRule=function(_AbstractValidationRu){function TextLengthRule(){return _classCallCheck(this,TextLengthRule),_possibleConstructorReturn(this,_getPrototypeOf(TextLengthRule).apply(this,arguments))}return _inherits(TextLengthRule,_AbstractValidationRu),_createClass(TextLengthRule,[{key:"prepareOptions",value:function prepareOptions(){var options=this.getOptions().split(",");1===options.length?(this.min=0,this.max=parseInt(options[0])):2===options.length&&(this.min=parseInt(options[0]),this.max=options[1].length?parseInt(options[1]):-1)}},{key:"handleValidation",value:function handleValidation(){var val=this.getValue(),valid=val.length>=this.min,checkMaxLength=-1!==this.max;return checkMaxLength&&(valid=valid&&val.length<=this.max),valid?[]:checkMaxLength?[this.validationTranslation("value_len_between_min_x_max_y").replace("{0}",this.min.toString()).replace("{1}",this.max.toString())]:[this.validationTranslation("value_len_gt_or_eq_x").replace("%s",this.min.toString())]}}]),TextLengthRule}(require("./AbstractValidationRule").AbstractValidationRule);exports.TextLengthRule=TextLengthRule},{"./AbstractValidationRule":38}],45:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniqueCategoryUrlsRule=void 0;var _AbstractValidationRule=require("./AbstractValidationRule"),_SettingKey=require("../../enum/SettingKey");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var UniqueCategoryUrlsRule=function(_AbstractValidationRu){function UniqueCategoryUrlsRule(){var _this;return _classCallCheck(this,UniqueCategoryUrlsRule),(_this=_possibleConstructorReturn(this,_getPrototypeOf(UniqueCategoryUrlsRule).apply(this,arguments))).hasErrors=!1,_this}return _inherits(UniqueCategoryUrlsRule,_AbstractValidationRu),_createClass(UniqueCategoryUrlsRule,[{key:"prepareOptions",value:function prepareOptions(){}},{key:"handleValidation",value:function handleValidation(){var _this2=this;this.clearErrorIndicators();var urls=this.getDefinedCategoryUrls();return urls.forEach(function(url,i){urls.indexOf(url)!==i&&_this2.setHasErrorWithIndex(i)}),this.hasErrors?[this.validationTranslation("remove_duplicate_urls")]:[]}},{key:"getDefinedCategoryUrls",value:function getDefinedCategoryUrls(){var selector='[name^="'.concat(_SettingKey.SettingKey.CATEGORY_MAP,'"][name$="[url]"]'),results=[];return $(selector).each(function(i,el){results.push($(el).val().toString())}),results}},{key:"setHasErrorWithIndex",value:function setHasErrorWithIndex(index){this.hasErrors||(this.hasErrors=!0),$("".concat(this.getInputsContainerSelector()," .input-group:nth-child(").concat(index+1,")")).addClass("has-error")}},{key:"clearErrorIndicators",value:function clearErrorIndicators(){this.hasErrors=!1,$("".concat(this.getInputsContainerSelector()," .has-error")).removeClass("has-error")}},{key:"getInputsContainerSelector",value:function getInputsContainerSelector(){return UniqueCategoryUrlsRule.INPUTS_CONTAINER_SELECTOR}}]),UniqueCategoryUrlsRule}(_AbstractValidationRule.AbstractValidationRule);(exports.UniqueCategoryUrlsRule=UniqueCategoryUrlsRule).INPUTS_CONTAINER_SELECTOR='tr[aria-label="'.concat(_SettingKey.SettingKey.CATEGORY_MAP,'"] .inputs')},{"../../enum/SettingKey":29,"./AbstractValidationRule":38}],46:[function(require,module,exports){"use strict";var _AbstractValidationRule;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlRule=void 0;var UrlRule=function(_AbstractValidationRu){function UrlRule(){return _classCallCheck(this,UrlRule),_possibleConstructorReturn(this,_getPrototypeOf(UrlRule).apply(this,arguments))}return _inherits(UrlRule,_AbstractValidationRu),_createClass(UrlRule,[{key:"prepareOptions",value:function prepareOptions(){}},{key:"handleValidation",value:function handleValidation(){var regex=/https?:\/\/\S+\.\S+/g,val,valid;return null!==this.getValue().match(regex)?[]:[this.validationTranslation("enter_valid_url_x_regex").replace("%s",regex.toString())]}}]),UrlRule}(require("./AbstractValidationRule").AbstractValidationRule);exports.UrlRule=UrlRule},{"./AbstractValidationRule":38}],47:[function(require,module,exports){"use strict";var _AbstractValidationRule;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidValueRule=void 0;var ValidValueRule=function(_AbstractValidationRu){function ValidValueRule(){return _classCallCheck(this,ValidValueRule),_possibleConstructorReturn(this,_getPrototypeOf(ValidValueRule).apply(this,arguments))}return _inherits(ValidValueRule,_AbstractValidationRu),_createClass(ValidValueRule,[{key:"prepareOptions",value:function prepareOptions(){this.validValues=this.getOptions().split(",").map(function(val){return val.trim()})}},{key:"handleValidation",value:function handleValidation(){var val=this.getValue(),isValid;return!this.validValues.length||this.validValues.includes(val)?[]:[this.validationTranslation("value_not_valid_values_x").replace("%s",this.validValues.join(", "))]}}]),ValidValueRule}(require("./AbstractValidationRule").AbstractValidationRule);exports.ValidValueRule=ValidValueRule},{"./AbstractValidationRule":38}],48:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dashboard=void 0;var _EventType=require("../common/EventType");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Dashboard=function(){function Dashboard(){var _this=this;_classCallCheck(this,Dashboard),this.$wccNonce=$("#wcc_nonce"),this.refreshInputSelector='input[name="refresh"]',this.$nextRefreshIn=$(".next-refresh-in"),this.$remaining=$(".remaining"),this.$title=$("head > title").first(),this.remaining=0,this.timeoutId=null,this.selectorDashboardContainer="#dashboard-container",this.minSeconds=window.min_refresh_interval,this.titleRemainingRegex=/^(\([0-9]+\)\s)?/,$(document).on("change",this.refreshInputSelector,function(e){return _this.onRefreshIntervalChanged(e)}),$(document).on("change","h2 .header select",function(e){return _this.onTableCountChanged(e)})}return _createClass(Dashboard,[{key:"refreshTimeout",value:function refreshTimeout(){var _this2=this;this.remaining<0?clearTimeout(this.timeoutId):(this.$nextRefreshIn.removeClass("hidden"),this.updateRemainingText(),0==this.remaining?this.refresh():(this.remaining--,this.timeoutId=setTimeout(function(){return _this2.refreshTimeout()},1e3)))}},{key:"onRefreshIntervalChanged",value:function onRefreshIntervalChanged(e){var _this3=this,$self=$(e.target),val=$self.val();this.removeLoading($self),null!=this.timeoutId&&clearTimeout(this.timeoutId),null!=val&&val>this.minSeconds?(this.remaining=val,this.updateRemainingText(),this.timeoutId=setTimeout(function(){return _this3.refreshTimeout()},0),$(document).trigger(jQuery.Event(_EventType.EventType.dashboardRefreshCountdownStarted))):(this.remaining=-1,this.updateRemainingText(),this.$nextRefreshIn.addClass("hidden"))}},{key:"refresh",value:function refresh(){var _this4=this;this.$nextRefreshIn.addClass("hidden");var $refreshInput=$(this.refreshInputSelector);this.setLoading($refreshInput),$.post(window.ajaxurl,{wcc_nonce:this.$wccNonce.val(),action:window.pageActionKey,data:{cmd:"refresh_dashboard"}}).done(function(response){var $newView=$(response.view);$(_this4.selectorDashboardContainer).replaceWith($newView.find(_this4.selectorDashboardContainer)),$(".content .details").each(function(i,el){flashBackground($(el))})}).fail(function(response){console.log("fail"),console.log(response)}).always(function(){_this4.removeLoading($refreshInput),$(_this4.refreshInputSelector).trigger("change")})}},{key:"updateRemainingText",value:function updateRemainingText(){this.remaining<0?this.$title.text(this.$title.text().replace(this.titleRemainingRegex,"")):(this.$remaining.html("".concat(this.remaining)),this.$title.text(this.$title.text().replace(this.titleRemainingRegex,"(".concat(this.remaining,") "))))}},{key:"flashBackground",value:function flashBackground($element){$element.stop().css("background-color","#b8ea84").animate({backgroundColor:"#FFFFFF"},1e3)}},{key:"setLoading",value:function setLoading($element){$element.addClass("loading")}},{key:"removeLoading",value:function removeLoading($element){$element.removeClass("loading")}},{key:"onTableCountChanged",value:function onTableCountChanged(e){var _this5=this,$self=$(e.target),val=$self.val(),name=$self.attr("name");null!=val&&val&&null!=name&&name&&(this.setLoading($self),$.post(window.ajaxurl,{wcc_nonce:this.$wccNonce.val(),action:window.pageActionKey,data:{cmd:"refresh_section",value:val,optionKey:name}}).done(function(response){var $newView=$(response.view),inputSelector='select[name="'+name+'"]';$self.closest(".details").replaceWith($newView.find(inputSelector).first().closest(".details")),flashBackground($(inputSelector).closest(".details").first())}).fail(function(response){console.log("Fail"),console.log(response)}).always(function(){_this5.removeLoading($self)}))}}]),Dashboard}();exports.Dashboard=Dashboard},{"../common/EventType":10}],49:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddressBar=void 0;var _WPCCrawler=require("../common/WPCCrawler"),_DevToolsVariables=require("./DevToolsVariables"),_IFrameHandler=require("./IFrameHandler"),_SidebarHandler=require("./SidebarHandler"),_DEVTools=require("./DEVTools");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var AddressBar=function(){function AddressBar(){_classCallCheck(this,AddressBar),this.history=[],this.currentHistoryIndex=null}return _createClass(AddressBar,[{key:"onClickBack",value:function onClickBack(e){this.handleBackAndForward(!0)}},{key:"onClickForward",value:function onClickForward(e){this.handleBackAndForward(!1)}},{key:"handleBackAndForward",value:function handleBackAndForward(isBack){var i=isBack?-1:1;if(this.history.length){var url=null;if(null!==this.currentHistoryIndex){if(void 0===this.history[this.currentHistoryIndex+i])return void this.disableButton($(isBack?this.getDtv().backButtonSelector:this.getDtv().forwardButtonSelector));url=this.history[this.currentHistoryIndex+i],this.currentHistoryIndex+=i}else 1<this.history.length&&isBack&&(url=this.history[this.history.length+2*i],this.currentHistoryIndex=this.history.length+2*i);url&&(this.enableButton($(isBack?this.getDtv().forwardButtonSelector:this.getDtv().backButtonSelector)),this.getIframeHandler().loadUrl(url),null==this.history[this.currentHistoryIndex+i]&&this.disableButton($(isBack?this.getDtv().backButtonSelector:this.getDtv().forwardButtonSelector)))}}},{key:"onClickRefresh",value:function onClickRefresh(e){this.refresh()}},{key:"refresh",value:function refresh(){if(this.history.length){var url=this.getIframeHandler().getCurrentUrl();$(this.getDtv().urlInputSelector).val(url),this.getDevTools().invalidateUrlCache(url),this.getIframeHandler().loadUrl(url)}}},{key:"onClickGo",value:function onClickGo(e){var $input,url=$(this.getDtv().urlInputSelector).val();null!=url&&null!==url.toString()&&url.length&&(null!==this.currentHistoryIndex&&0<this.currentHistoryIndex&&(this.history=this.history.splice(0,this.currentHistoryIndex-1)),this.go(url.toString()))}},{key:"go",value:function go(url){if(null!=url&&url.length){if(console.log("Go: "+url),0==url.indexOf("/")){var $base=this.getIframeHandler().getIframeContents().find("base");if(!$base.length||null==$base.attr("href")||!$base.attr("href").length)return;url=$base.attr("href")+url}0===url.indexOf("http")&&(this.history.length&&this.history[this.history.length-1]==url||this.history.push(url),this.getIframeHandler().loadUrl(url),this.historyUpdated())}}},{key:"travelInTime",value:function travelInTime(targetHistoryIndex){null==targetHistoryIndex||targetHistoryIndex<0||null==this.history[targetHistoryIndex]||(targetHistoryIndex=Math.round(targetHistoryIndex),this.getIframeHandler().loadUrl(this.history[targetHistoryIndex]),void 0!==this.history[targetHistoryIndex-1]?this.enableButton($(this.getDtv().backButtonSelector)):this.disableButton($(this.getDtv().backButtonSelector)),void 0!==this.history[targetHistoryIndex+1]?this.enableButton($(this.getDtv().forwardButtonSelector)):this.disableButton($(this.getDtv().forwardButtonSelector)),this.currentHistoryIndex=targetHistoryIndex,this.historyUpdated())}},{key:"onClickClearHistory",value:function onClickClearHistory(e){this.clearHistory()}},{key:"clearHistory",value:function clearHistory(){this.history=[],this.currentHistoryIndex=null,this.disableButton($(this.getDtv().backButtonSelector)),this.disableButton($(this.getDtv().forwardButtonSelector)),this.disableButton($(this.getDtv().refreshButtonSelector)),this.historyUpdated()}},{key:"historyUpdated",value:function historyUpdated(){var html="",activeIndex=null==this.currentHistoryIndex?this.history.length-1:this.currentHistoryIndex;for(var i in this.history)this.history.hasOwnProperty(i)&&(html+="<li"+(Number(i)==activeIndex?' class="active" ':"")+'><span class="url">'+this.history[i]+"</span></li>");this.getSidebarHandler().updateSectionContent("<ul>"+html+"</ul>",this.getDtv().sidebarSectionHistoryClass),this.getDevTools().saveState()}},{key:"setAddressBarUrl",value:function setAddressBarUrl(url){$(this.getDtv().urlInputSelector).val(url)}},{key:"disableButton",value:function disableButton($button){$button.addClass("disabled")}},{key:"enableButton",value:function enableButton($button){$button.removeClass("disabled")}},{key:"getDevTools",value:function getDevTools(){return _DEVTools.DEVTools.getInstance()}},{key:"getSidebarHandler",value:function getSidebarHandler(){return _SidebarHandler.SidebarHandler.getInstance()}},{key:"getIframeHandler",value:function getIframeHandler(){return _IFrameHandler.IFrameHandler.getInstance()}},{key:"getDtv",value:function getDtv(){return _DevToolsVariables.DevToolsVariables.getInstance()}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(AddressBar.name,function(){return new AddressBar})}}]),AddressBar}();exports.AddressBar=AddressBar},{"../common/WPCCrawler":22,"./DEVTools":51,"./DevToolsVariables":53,"./IFrameHandler":54,"./SidebarHandler":56}],50:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSSSelectorToolbar=void 0;var _TestDataPreparer=require("../post-settings/TestDataPreparer"),_WPCCrawler=require("../common/WPCCrawler"),_DEVTools=require("./DEVTools"),_SidebarHandler=require("./SidebarHandler"),_IFrameHandler=require("./IFrameHandler"),_DevToolsVariables=require("./DevToolsVariables");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CSSSelectorToolbar=function(){function CSSSelectorToolbar(){_classCallCheck(this,CSSSelectorToolbar)}return _createClass(CSSSelectorToolbar,null,[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(CSSSelectorToolbar.name,function(){return new CSSSelectorToolbar})}}]),_createClass(CSSSelectorToolbar,[{key:"updateInput",value:function updateInput(newValue){var $cssSelectorInput=this.getCssSelectorInput();$cssSelectorInput.val(newValue),this.getDevTools().flashBackground($cssSelectorInput)}},{key:"onClickTest",value:function onClickTest(e){var _this=this,$button=$(e.target),$input,val=this.getCssSelectorInput().val();if(null!=val&&val.length){var $inputTestButtonBehavior,testButtonBehavior=$(this.getDtv().optUseTestButtonBehaviorSelector).first().val(),testViaJS="php"!=testButtonBehavior,testViaPHP;if("js"!=testButtonBehavior){var data=$button.data("wcc"),$contents=this.getIframeHandler().getIframeContents();this.getIframeHandler().clearHighlights(),data.content=$contents.find("html").html(),data.selector=val,data.url=this.getIframeHandler().getCurrentUrl(),data.formItemName=this.getDtv().cssInputId,data.serializedValues=$("<input/>").attr("name",this.getDtv().cssInputId+"[0][selector]").val(val).serialize(),data=this.getTestDataPreparer().addSettingsToAjaxData(data);var $resultContainer=$(this.getDtv().toolbarTestResultsContainerSelector).first(),$contentContainer=$(this.getDtv().toolbarTestResultsContentContainerSelector).first();$resultContainer.removeClass("hidden").addClass("loading"),$contentContainer.html(""),$.post(window.ajaxurl,{wcc_nonce:this.getDtv().$wccNonce.val(),action:window.pageActionKey,data:data}).done(function(response){$contentContainer.html(response.view)}).fail(function(response){$contentContainer.html(window.wpcc.an_error_occurred+" <br />"+response.responseText),console.log(response)}).always(function(){$resultContainer.removeClass("loading"),_this.getIframeHandler().setIframeHeight()})}testViaJS&&(this.getIframeHandler().clearHighlights(),this.getIframeHandler().highlight(val,!0))}}},{key:"onClearHighlights",value:function onClearHighlights(e){this.getIframeHandler().clearHighlights()}},{key:"onRemoveElements",value:function onRemoveElements(e){var selector=this.getCssSelectorInput().val();null!=selector&&selector.length&&this.getIframeHandler().getIframeContents().find(selector).remove()}},{key:"onShowAlternatives",value:function onShowAlternatives(e,showSidebar){var selector=this.getCssSelectorInput().val()||null;if(null!==selector&&null!==selector.toString()&&selector.length){var $sectionAlternativeSelector,currentSelector;if($(this.getDtv().sidebarSelector+" ."+this.getDtv().sidebarSectionAlternativeSelectorsClass).data("currentselector")!=selector){var alternatives=this.getDevTools().getAlternativeSelectors(selector);this.setAlternativeSelectors(selector,alternatives)}null!=showSidebar&&!showSidebar||this.getSidebarHandler().onOpenSidebar(e)}}},{key:"setAlternativeSelectors",value:function setAlternativeSelectors(selector,alternatives){var $sectionAlternativeSelector=$(this.getDtv().sidebarSelector+" ."+this.getDtv().sidebarSectionAlternativeSelectorsClass);this.getSidebarHandler().updateAlternativeSelectors(alternatives),$sectionAlternativeSelector.data("currentselector",selector)}},{key:"getCssSelectorInput",value:function getCssSelectorInput(){return $(this.getDtv().cssInputSelector)}},{key:"onClickUseCssSelector",value:function onClickUseCssSelector(){this.useSelector()}},{key:"useSelector",value:function useSelector(){if(null!=this.getDtv().$currentDevToolsButton&&null!=this.getDtv().$currentDevToolsButton){var val=this.getCssSelectorInput().val();if(null!=val&&val.length){var $targetInput=this.getDtv().$currentDevToolsButton.closest(".input-group").find("input.css-selector");$targetInput.val(val),this.getDevTools().closeLightbox(),this.getDevTools().flashBackground($targetInput)}}}},{key:"getTestDataPreparer",value:function getTestDataPreparer(){return _TestDataPreparer.TestDataPreparer.getInstance()}},{key:"getDevTools",value:function getDevTools(){return _DEVTools.DEVTools.getInstance()}},{key:"getSidebarHandler",value:function getSidebarHandler(){return _SidebarHandler.SidebarHandler.getInstance()}},{key:"getIframeHandler",value:function getIframeHandler(){return _IFrameHandler.IFrameHandler.getInstance()}},{key:"getDtv",value:function getDtv(){return _DevToolsVariables.DevToolsVariables.getInstance()}}]),CSSSelectorToolbar}();exports.CSSSelectorToolbar=CSSSelectorToolbar},{"../common/WPCCrawler":22,"../post-settings/TestDataPreparer":172,"./DEVTools":51,"./DevToolsVariables":53,"./IFrameHandler":54,"./SidebarHandler":56}],51:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEVTools=void 0;var _TestDataPreparer=require("../post-settings/TestDataPreparer"),_SelectorFinderBehavior=require("./css-selector/enums/SelectorFinderBehavior"),_CSSSelectorService=require("./css-selector/CSSSelectorService"),_WPCCrawler=require("../common/WPCCrawler"),_EventType=require("../common/EventType"),_AddressBar=require("./AddressBar"),_DevToolsVariables=require("./DevToolsVariables"),_IFrameHandler=require("./IFrameHandler"),_OptionsToolbar=require("./OptionsToolbar"),_SidebarHandler=require("./SidebarHandler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var DEVTools=function(){function DEVTools(){_classCallCheck(this,DEVTools),this.saveTimeout=null,this.scrollPos=null,this.cssSelectorService=new _CSSSelectorService.CSSSelectorService}return _createClass(DEVTools,[{key:"showLightboxWithContent",value:function showLightboxWithContent(content,url){var _this=this,$devTools=$(this.getDtv().devToolsContentSelector);$.featherlight($devTools,{persist:"shared",afterOpen:function afterOpen(){_this.onLightBoxAfterOpen(content,url)},beforeClose:function beforeClose(){return _this.onLightBoxBeforeClose(),!1},beforeOpen:function beforeOpen(){if(_this.getDtv().$lightboxInstance)return _this.getDtv().$lightboxInstance.css("display","block"),_this.onLightBoxAfterOpen(null,null),!1}})}},{key:"isAvailable",value:function isAvailable(){return"function"==typeof $.featherlight}},{key:"isOpen",value:function isOpen(){if(!this.isAvailable())return!1;var currentActiveLightbox=$.featherlight.current()||null;return null!==currentActiveLightbox&&currentActiveLightbox.$content.hasClass(this.getDtv().devToolsContentClass)&&currentActiveLightbox.$instance.is(":visible")}},{key:"onLightBoxBeforeClose",value:function onLightBoxBeforeClose(){this.makeSureScrollEnabled(),this.getDtv().$lightboxInstance||(this.getDtv().$lightboxInstance=$(this.getDtv().lightboxSelector),this.getDtv().$lightboxInstance.addClass("instance")),this.getDtv().$lightboxInstance.css("display","none"),$(document).trigger(jQuery.Event(_EventType.EventType.devToolsClosed)),$("textarea, input, button, select").attr("tabindex",0),$(window).scrollTop(this.scrollPos)}},{key:"onLightBoxAfterOpen",value:function onLightBoxAfterOpen(content,url){var _this2=this;this.makeSureScrollEnabled(),this.scrollPos=$(window).scrollTop(),this.getDtv().$lightboxInstance||this.restoreState();var $lightbox=$(this.getDtv().lightboxSelector),$lightboxTitle=$lightbox.find(this.getDtv().devToolsContentSelector+" > "+this.getDtv().lightboxTitleSelector);$lightboxTitle.length&&!$lightbox.find("> "+this.getDtv().lightboxTitleSelector).length&&$lightbox.append($lightboxTitle),this.updateTitle(this.getDtv().$currentDevToolsButton.closest("tr").find("label").first().html());var $selectorInput=this.getDtv().$currentDevToolsButton.closest(".input-group").find("input.css-selector").first(),currentSelector="";$selectorInput.length&&null!=$selectorInput.val()&&(currentSelector=$selectorInput.val()),$(this.getDtv().cssInputSelector).first().val(currentSelector).trigger("change");var data=this.getDtv().$currentDevToolsButton.data("wcc");if(null!=data){$(this.getDtv().optTargetHTMLTagSelector).first().val(null!=data.targetTag?data.targetTag:"").trigger("change");var behavior=data.selectorFinderBehavior||_SelectorFinderBehavior.SelectorFinderBehavior.UNIQUE;null!==behavior&&behavior.length&&$(this.getDtv().optSelectorFinderBehaviorSelector).first().val(behavior).trigger("change")}var urlInputVal=$(this.getDtv().urlInputSelector).val();null!=content||null!=urlInputVal&&urlInputVal.length?null!=content?this.getIframeHandler().setIframeContent(content,url):this.getIframeHandler().initCssSelectors():(this.getAddressBar().setAddressBarUrl(url),this.getAddressBar().go(url)),this.getSidebarHandler().loadSidebar(),this.getDtv().$lightboxInstance||($(this.getDtv().toolbarSelector).resize(function(){return _this2.getIframeHandler().setIframeHeight()}),$(this.getDtv().optionsToolbarSelector).find(":input").on("change",function(e){var $self;$(e.target).hasClass(_this2.getDtv().optTargetHTMLTagClass)||_this2.saveState()})),$(document).trigger(_EventType.EventType.devToolsOpened)}},{key:"getSourceCode",value:function getSourceCode(url,data,done,fail,always){var _this3=this;if(this.getDtv().urlCache.hasOwnProperty(url)&&null!==this.getDtv().urlCache[url])return done(this.getDtv().urlCache[url]),void always();this.getDtv().lastUnfinishedSourceCodeXHR&&(this.getDtv().isAborted=!0,this.getDtv().lastUnfinishedSourceCodeXHR.abort()),data.url=url,data.removeScripts=this.getOptionsToolbar().isRemoveScripts()?1:0,data.removeStyles=this.getOptionsToolbar().isRemoveStyles()?1:0,data.applyManipulationOptions=this.getOptionsToolbar().isApplyManipulationOptions()?1:0,data.cookies=$("input[name^=_cookies]").serialize(),data=this.getTestDataPreparer().addSettingsToAjaxData(data),this.getDtv().lastUnfinishedSourceCodeXHR=$.post(window.ajaxurl,{wcc_nonce:this.getDtv().$wccNonce.val(),action:window.pageActionKey,data:data}).done(function(response){_this3.getDtv().isAborted?_this3.getDtv().isAborted=!1:(_this3.getDtv().urlCache[url]=response,done(response))}).fail(fail).always(function(){_this3.getDtv().lastUnfinishedSourceCodeXHR=null,always()})}},{key:"getAlternativeSelectors",value:function getAlternativeSelectors(selector){var _this4=this;if(null!=selector&&selector&&selector.length){selector=selector.replace(this.getDtv().multipleSpaceRegex," ");var parts=this.cssSelectorService.segment(selector),$iframeContents=this.getIframeHandler().getIframeContents(),$foundElements=$iframeContents.find(selector),unwanted=["body","html"],idSelectors=[],length=(parts=$.map(parts,function(val,i){return 0===val.indexOf("#")&&i<parts.length-1&&idSelectors.push(val),-1!==$.inArray(val,unwanted)?null:val})).length,last=parts[length-1],possibleLastTag=$foundElements.length?$foundElements.first().prop("tagName").toLowerCase():null,newLast=null,holder,i,alternatives=[];null==possibleLastTag||/^\w/.test(last)||(newLast=possibleLastTag+last,alternatives.push(newLast)),alternatives.push(last),$.map(idSelectors,function(idSelector,i){alternatives.push(idSelector+" "+(newLast||last))});var altSelector="",altWithLast,altWithNewLast,nthChildRegex=/:nth-child[^)]+\)/g,nthChildRegexNoColon=/nth-child[^)]+\)/g,nthChildEndPosRegex=new RegExp("nth-child\\([0-9]+\\)(?:[^\\s]+|)","g"),firstChildRegex=/:first-child/,lastChildRegex=/:last-child/,idRegex=new RegExp('\\[id="[^"]+"\\]|#[^$\\s.]+',"g"),matches;for(i=length-2;0<=i;i--)if(parts.hasOwnProperty(i)){if(altSelector=(holder=parts[i])+" "+altSelector,">"==holder){if(--i<0)break;altSelector=(holder=parts[i])+" "+altSelector}altWithLast=altSelector+" "+last,altWithNewLast=newLast?altSelector+" "+newLast:null,alternatives.push(altWithLast),altWithNewLast&&alternatives.push(altWithNewLast)}return alternatives=$.map(alternatives,function(val){return(matches=_this4.matchRegExWithIndex(nthChildEndPosRegex,val))?($.map(matches,function(mVal){var end=parseInt(mVal[1])+parseInt(mVal[0].length),newSelector=val,partialSelector=val.substring(0,end),$foundElement=$iframeContents.find(partialSelector).first();$foundElement.length&&$foundElement.is(":last-child")&&(newSelector=val.substring(0,mVal[1])+mVal[0].replace(nthChildRegexNoColon,"last-child")+val.substring(end),alternatives.push(newSelector))}),void 0!==val&&"undefined"!==val&&null!==val&&val.length?val.replace(_this4.getDtv().multipleSpaceRegex," "):null):val}),$.map(alternatives,function(val){var split=val.split(" ");if(1<split.length){var _last=split[split.length-1];-1===_last.indexOf("#")&&-1===_last.indexOf("id=")||((_last=_last.replace(idRegex,"")).length||null==possibleLastTag||(_last=possibleLastTag),split.pop(),split.push(_last),alternatives.push(split.join(" ")))}}),$.map(alternatives,function(val){alternatives.push(val.replace(nthChildRegex,"")),alternatives.push(val.replace(firstChildRegex,"")),alternatives.push(val.replace(lastChildRegex,"")),alternatives.push(val.replace(nthChildRegex,"").replace(firstChildRegex,"").replace(lastChildRegex,""))}),alternatives=this.unique(alternatives).map(function(value){return value.replace(/\s+/g," ")}).sort(function(a,b){return a.length-b.length})}}},{key:"getBestAlternativeSelector",value:function getBestAlternativeSelector(){var $section,alternativeObjects=this.getSidebarHandler().getSectionElement(this.getDtv().sidebarSectionAlternativeSelectorsClass).find("ul").first().data("alternatives"),best=null;return null==alternativeObjects||$.map(alternativeObjects,function(val){if(1==val.count)if(null==best)best=val.selector;else if((-1!==val.selector.indexOf("#")||-1!==val.selector.indexOf("id="))&&-1===best.indexOf("#")&&-1===best.indexOf("id="))return val.selector}),best}},{key:"matchRegExWithIndex",value:function matchRegExWithIndex(regex,str){var result=[],cursor=0;if(void 0===str||"undefined"===str||null===str||!str.length)return result;var matches=str.match(regex);return matches?($.map(matches,function(val){cursor=str.indexOf(val,cursor),result.push([val,cursor])}),result):null}},{key:"invalidateUrlCache",value:function invalidateUrlCache(url){this.getDtv().urlCache[url]=null,this.getIframeHandler().getIframe().data("currenturl","")}},{key:"invalidateAllUrlCaches",value:function invalidateAllUrlCaches(){this.getDtv().urlCache={}}},{key:"flashBackground",value:function flashBackground($element){$element.stop().css("background-color","#b8ea84").animate({backgroundColor:"#FFFFFF"},1e3)}},{key:"closeLightbox",value:function closeLightbox(){$.featherlight.current().close()}},{key:"updateTitle",value:function updateTitle(newTitle){$(this.getDtv().lightboxTitleSelector).html(newTitle||"")}},{key:"saveState",value:function saveState(){var _this5=this;null!=this.saveTimeout&&clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(function(){var $optionsToolbarInputs=$(_this5.getDtv().optionsToolbarSelector).find(":input"),state={options:{},history:_this5.getAddressBar().history,isHoverSelectActive:_this5.getOptionsToolbar().isHoverSelectActive()?1:0},$self,val;$optionsToolbarInputs.each(function(i,el){($self=$(el)).hasClass(_this5.getDtv().optTargetHTMLTagClass)||(val="checkbox"==$self.attr("type")?$self[0].checked?1:0:$self.val(),state.options[$self.attr("name")]=val)}),_this5.getDtv().$inputDevToolsState.val()!=JSON.stringify(state)&&$.post(window.ajaxurl,{wcc_nonce:_this5.getDtv().$wccNonce.val(),action:window.pageActionKey,data:{cmd:"saveDevToolsState",postId:_this5.getDtv().postId,state:state}}).done(function(response){_this5.getDtv().$inputDevToolsState.val(JSON.stringify(state))}).fail(function(response){})},1500)}},{key:"restoreState",value:function restoreState(){var stateInputVal=this.getDtv().$inputDevToolsState.val()||null;if(null!=stateInputVal&&stateInputVal&&stateInputVal.length){var state,$element,val;try{state=JSON.parse(stateInputVal)}catch(e){return void console.error("State could not be parsed. State Value: ",stateInputVal)}for(var i in 1==state.isHoverSelectActive?$(this.getDtv().optHoverSelectSelector).removeClass("active").trigger("click"):$(this.getDtv().optHoverSelectSelector).addClass("active").trigger("click"),this.getAddressBar().history=state.history||[],this.getAddressBar().historyUpdated(),state.options)state.options.hasOwnProperty(i)&&(val=state.options[i],"checkbox"==($element=$("[name="+i+"]")).attr("type")?$element.prop("checked",1==val):$element.val(val))}}},{key:"removeImproperClassNames",value:function removeImproperClassNames(selector){return selector.replace(this.getDtv().regexClassNameStartingWithDash,"")}},{key:"unbracketClassNames",value:function unbracketClassNames(selector){return selector.replace(new RegExp('\\[class="([^"]+)"\\]',"g"),function(match,classes){return"."+classes.trim().replace(/\s/g,".")})}},{key:"unique",value:function unique(a){var result=[];return $.each(a,function(i,v){-1==$.inArray(v,result)&&result.push(v)}),result}},{key:"makeSureScrollEnabled",value:function makeSureScrollEnabled(){$(document.documentElement).removeClass("with-featherlight")}},{key:"getTestDataPreparer",value:function getTestDataPreparer(){return _TestDataPreparer.TestDataPreparer.getInstance()}},{key:"getAddressBar",value:function getAddressBar(){return _AddressBar.AddressBar.getInstance()}},{key:"getDtv",value:function getDtv(){return _DevToolsVariables.DevToolsVariables.getInstance()}},{key:"getIframeHandler",value:function getIframeHandler(){return _IFrameHandler.IFrameHandler.getInstance()}},{key:"getOptionsToolbar",value:function getOptionsToolbar(){return _OptionsToolbar.OptionsToolbar.getInstance()}},{key:"getSidebarHandler",value:function getSidebarHandler(){return _SidebarHandler.SidebarHandler.getInstance()}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(DEVTools.name,function(){return new DEVTools})}}]),DEVTools}();exports.DEVTools=DEVTools},{"../common/EventType":10,"../common/WPCCrawler":22,"../post-settings/TestDataPreparer":172,"./AddressBar":49,"./DevToolsVariables":53,"./IFrameHandler":54,"./OptionsToolbar":55,"./SidebarHandler":56,"./css-selector/CSSSelectorService":59,"./css-selector/enums/SelectorFinderBehavior":60}],52:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevToolsListenerInitializer=void 0;var _WPCCrawler=require("../common/WPCCrawler"),_DevToolsVariables=require("./DevToolsVariables"),_DEVTools=require("./DEVTools"),_IFrameHandler=require("./IFrameHandler"),_AddressBar=require("./AddressBar"),_CSSSelectorToolbar=require("./CSSSelectorToolbar"),_OptionsToolbar=require("./OptionsToolbar"),_SidebarHandler=require("./SidebarHandler"),_KeyboardEventHelper=require("../common/KeyboardEventHelper"),_KeyboardKey=require("../common/enum/KeyboardKey");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var DevToolsListenerInitializer=function(){function DevToolsListenerInitializer(){_classCallCheck(this,DevToolsListenerInitializer);var dtv=_DevToolsVariables.DevToolsVariables.getInstance(),devTools=_DEVTools.DEVTools.getInstance(),iframeHandler=_IFrameHandler.IFrameHandler.getInstance(),addressBar=_AddressBar.AddressBar.getInstance(),cssSelectorToolbar=_CSSSelectorToolbar.CSSSelectorToolbar.getInstance(),optionsToolbar=_OptionsToolbar.OptionsToolbar.getInstance(),sidebarHandler=_SidebarHandler.SidebarHandler.getInstance();$(document).on("click",dtv.devToolsButtonSelector,function(e){e.preventDefault();var $self=$(e.target),data=$self.data("wcc"),urlSelector=null,$contentContainer=$(dtv.devToolsContentContainerSelector);dtv.postId=$contentContainer.data("wcc").postId,dtv.$currentDevToolsButton=$self,null!=data.urlSelector&&(urlSelector=data.urlSelector);var url=$(urlSelector).val()||null;devTools.showLightboxWithContent(null,url?url.toString():null)}),$(document).on("click",dtv.lightboxTitleSelector,function(e){return devTools.closeLightbox()}),$(document).on("click",dtv.backButtonSelector,function(e){return addressBar.onClickBack(e)}),$(document).on("click",dtv.forwardButtonSelector,function(e){return addressBar.onClickForward(e)}),$(document).on("click",dtv.refreshButtonSelector,function(e){return addressBar.onClickRefresh(e)}),$(document).on("click",dtv.goButtonSelector,function(e){return addressBar.onClickGo(e)}),$(document).on("click",dtv.cssTestSelector,function(e){return cssSelectorToolbar.onClickTest(e)}),$(document).on("click",dtv.cssUseButtonSelector,function(e){return cssSelectorToolbar.onClickUseCssSelector()}),$(document).on("click",dtv.cssClearHighlightsSelector,function(e){return cssSelectorToolbar.onClearHighlights(e)}),$(document).on("click",dtv.cssRemoveElementsSelector,function(e){return cssSelectorToolbar.onRemoveElements(e)}),$(document).on("click",dtv.cssShowAlternativesSelector,function(e){return cssSelectorToolbar.onShowAlternatives(e,void 0)}),$(document).on("click",dtv.sidebarCloseSelector,function(e){return sidebarHandler.onCloseSidebar(e)}),$(document).on("click",dtv.lightboxContainerSelector+" "+dtv.sidebarOpenSelector,function(e){return sidebarHandler.onOpenSidebar(e)}),$(document).on("click",dtv.sidebarSectionToggleExpandSelector,function(e){return sidebarHandler.onToggleExpand(e)}),$(document).on("click",dtv.btnClearHistorySelector,function(e){return addressBar.onClickClearHistory(e)}),$(document).on("click",dtv.sidebarSectionTitleSelector,function(){$(this).closest("."+dtv.sidebarSectionClass).find("."+dtv.toggleExpandClass).first().trigger("click")}),$(document).on("click",dtv.sidebarSelector+" ."+dtv.classUrl,function(e){return sidebarHandler.onClickHistoryUrl(e)}),$(document).on("click",dtv.sidebarSelector+" ."+dtv.classCssSelector,function(e){return sidebarHandler.onClickCssSelector(e)}),$(document).on("mouseenter mouseleave",dtv.sidebarSelector+" ."+dtv.classCssSelector,function(e){return sidebarHandler.onHoverCssSelector(e)}),$(document).on("click",dtv.optHoverSelectSelector,function(e){return optionsToolbar.onClickToggleHoverSelect(e)}),$(document).on("change",dtv.optApplyManipulationOptionsSelector,function(e){return addressBar.onClickRefresh(e)}),$(document).on("change",dtv.optRemoveScriptsSelector,function(e){return addressBar.onClickRefresh(e)}),$(document).on("change",dtv.optRemoveStylesSelector,function(e){return addressBar.onClickRefresh(e)}),$(document).on("click",dtv.buttonClearSelectedElementsSelector,function(e){return iframeHandler.clearSelectedElements()}),$(document).on("keyup change",dtv.cssInputSelector,function(e){var $self,val=$(e.target).val();null!=val&&val.length?(iframeHandler.clearHighlights(),iframeHandler.highlight(val,void 0)):iframeHandler.clearHighlights()}),$(document).on("keyup change",dtv.optTargetHTMLTagSelector,function(e){return optionsToolbar.onChangeTargetHTMLTagInput(e)}),$(document).on("keydown",dtv.devToolsContentSelector,function(e){if($(e.target).is(":input")){var $target=$(e.target),key;new _KeyboardEventHelper.KeyboardEventHelper(e).getKey()===_KeyboardKey.KeyboardKey.ENTER&&($target.attr("id")==dtv.cssInputId&&$(dtv.cssTestSelector).trigger("click"),$target.attr("id")==dtv.urlInputId&&$(dtv.goButtonSelector).trigger("click"))}else sidebarHandler.handleKeyPress(e)}),$(window).on("resize",function(){iframeHandler.setIframeHeight()})}return _createClass(DevToolsListenerInitializer,null,[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(DevToolsListenerInitializer.name,function(){return new DevToolsListenerInitializer})}}]),DevToolsListenerInitializer}();exports.DevToolsListenerInitializer=DevToolsListenerInitializer},{"../common/KeyboardEventHelper":12,"../common/WPCCrawler":22,"../common/enum/KeyboardKey":24,"./AddressBar":49,"./CSSSelectorToolbar":50,"./DEVTools":51,"./DevToolsVariables":53,"./IFrameHandler":54,"./OptionsToolbar":55,"./SidebarHandler":56}],53:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevToolsVariables=void 0;var _WPCCrawler=require("../common/WPCCrawler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var DevToolsVariables=function(){function DevToolsVariables(){_classCallCheck(this,DevToolsVariables),this.postId=null,this.$inputDevToolsState=$("input[name=_dev_tools_state]").first(),this.$currentDevToolsButton=null,this.lightboxTitleSelector=".lightbox-title",this.devToolsButtonSelector=".wcc-dev-tools",this.devToolsContentContainerSelector=".dev-tools-content-container",this.devToolsContentClass="dev-tools-content",this.devToolsContentSelector=".".concat(this.devToolsContentClass),this.lightboxSelector=".featherlight",this.lightboxContainerSelector=".featherlight-content",this.lightboxDevToolsContentSelector=this.lightboxContainerSelector+" "+this.devToolsContentSelector,this.toolbarSelector=this.lightboxDevToolsContentSelector+" .toolbar",this.iframeSelector=this.lightboxDevToolsContentSelector+" iframe.source",this.$wccNonce=$("#wcc_nonce"),this.hoverClass="wpcc-element-hovered",this.elementSelectedClass="wpcc-element-selected",this.hoverStyleSelector="#iframe-style",this.urlCache={},this.$lightboxInstance=null,this.addressBarSelector=this.toolbarSelector+" .address-bar",this.backButtonSelector=this.addressBarSelector+" .back",this.forwardButtonSelector=this.addressBarSelector+" .forward",this.refreshButtonSelector=this.addressBarSelector+" .refresh",this.goButtonSelector=this.addressBarSelector+" .go",this.urlInputSelector=this.addressBarSelector+" input",this.urlInputId="_dt_toolbar_url",this.cssSelectorToolsContainerSelector=this.lightboxContainerSelector+" .css-selector-tools",this.cssInputSelector=this.lightboxContainerSelector+" .css-selector-input input",this.cssInputId="_dt_toolbar_css_selector",this.cssTestSelector=this.lightboxContainerSelector+" .css-selector-test",this.cssClearHighlightsSelector=this.lightboxContainerSelector+" .css-selector-clear-highlights",this.cssRemoveElementsSelector=this.lightboxContainerSelector+" .css-selector-remove-elements",this.cssShowAlternativesSelector=this.lightboxContainerSelector+" .css-selector-show-alternatives",this.cssUseButtonSelector=this.lightboxContainerSelector+" .css-selector-use",this.toolbarTestResultsContainerSelector=this.lightboxContainerSelector+" .test-results",this.toolbarTestResultsContentContainerSelector=this.toolbarTestResultsContainerSelector+" .content",this.iframeStatusSelector=this.lightboxContainerSelector+" .iframe-status",this.sidebarSelector=this.lightboxContainerSelector+" .sidebar",this.sidebarCloseSelector=this.sidebarSelector+" .sidebar-close",this.sidebarOpenSelector=".sidebar-open",this.sidebarOpenedClass="opened",this.sidebarSectionClass="sidebar-section",this.sidebarSectionContentClass="section-content",this.sidebarSectionHistoryClass="history",this.sidebarSectionUsedSelectorsClass="used-selectors",this.sidebarSectionAlternativeSelectorsClass="alternative-selectors",this.sidebarSectionSelector=this.sidebarSelector+" ."+this.sidebarSectionClass,this.sidebarSectionTitleContainerSelector=this.sidebarSectionSelector+" .section-title",this.sidebarSectionTitleSelector=this.sidebarSectionTitleContainerSelector+" > span",this.sidebarSectionContentSelector=this.sidebarSectionSelector+" ."+this.sidebarSectionContentClass,this.btnClearHistorySelector=this.lightboxSelector+" .clear-history",this.toggleExpandClass="toggleExpand",this.sidebarSectionToggleExpandSelector=this.sidebarSelector+" ."+this.toggleExpandClass,this.sidebarSectionExpandedClass="expanded",this.settingsMetaBoxSelector=".wcc-settings-meta-box",this.classCssSelector="selector",this.classUrl="url",this.classOptionsToolbar="options",this.optionsToolbarSelector=this.lightboxSelector+" ."+this.classOptionsToolbar,this.optHoverSelectSelector=this.optionsToolbarSelector+" .toggle-hover-select",this.optTargetHTMLTagClass="target-html-tag",this.optTargetHTMLTagSelector=this.optionsToolbarSelector+" ."+this.optTargetHTMLTagClass,this.optSelectorFinderBehaviorSelector=this.optionsToolbarSelector+' select[name="selection_behavior"]',this.optUseTestButtonBehaviorSelector=this.optionsToolbarSelector+" .test-button-behavior",this.optApplyManipulationOptionsSelector=this.optionsToolbarSelector+" .apply-manipulation-options",this.optUseImmediatelySelector=this.optionsToolbarSelector+" .use-immediately",this.optRemoveScriptsSelector=this.optionsToolbarSelector+" .remove-scripts",this.optRemoveStylesSelector=this.optionsToolbarSelector+" .remove-styles",this.selectedElementsContainerSelector=this.optionsToolbarSelector+" .selected-elements",this.buttonClearSelectedElementsSelector=this.selectedElementsContainerSelector+" .clear-selections",this.$lastHighlighted=null,this.multipleSpaceRegex=new RegExp("\\s{2,}","g"),this.regexClassNameStartingWithDash=new RegExp("\\.(-[^\\s.#\\[]+)","g"),this.bracketClassNameRegex=new RegExp('\\[class="([^"]+)"\\]',"g"),this.lastUnfinishedSourceCodeXHR=null,this.isAborted=!1}return _createClass(DevToolsVariables,null,[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(DevToolsVariables.name,function(){return new DevToolsVariables})}}]),DevToolsVariables}();exports.DevToolsVariables=DevToolsVariables},{"../common/WPCCrawler":22}],54:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IFrameHandler=void 0;var _NotificationType=require("../common/enum/NotificationType"),_Notifier=require("../common/Notifier"),_NotificationPosition=require("../common/enum/NotificationPosition"),_CSSSelectorFinder=require("./css-selector/CSSSelectorFinder"),_SelectorFinderBehavior=require("./css-selector/enums/SelectorFinderBehavior"),_CSSSelectorService=require("./css-selector/CSSSelectorService"),_WPCCrawler=require("../common/WPCCrawler"),_AddressBar=require("./AddressBar"),_DevToolsVariables=require("./DevToolsVariables"),_OptionsToolbar=require("./OptionsToolbar"),_SidebarHandler=require("./SidebarHandler"),_CSSSelectorToolbar=require("./CSSSelectorToolbar"),_DEVTools=require("./DEVTools"),_Utils=require("../common/Utils"),_EventType=require("../common/EventType");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var IFrameHandler=function(){function IFrameHandler(){var _this=this;_classCallCheck(this,IFrameHandler),this.hoverSelectActive=!0,this.currentUrl=null,this.selectedElements=[],this.multiSelectActive=!1,this.cssSelectorFinder=null,this.cssSelectorFinder=new _CSSSelectorFinder.CSSSelectorFinder(new _CSSSelectorService.CSSSelectorService(2,[this.getDtv().hoverClass,this.getDtv().elementSelectedClass])),$(document).on("change",this.getDtv().optSelectorFinderBehaviorSelector,function(){return _this.initMultiSelect()})}return _createClass(IFrameHandler,[{key:"initMultiSelect",value:function initMultiSelect(){var $el,val=$(this.getDtv().optSelectorFinderBehaviorSelector).first().val();this.activateMultiSelect(val!==_SelectorFinderBehavior.SelectorFinderBehavior.UNIQUE),this.clearSelectedElements()}},{key:"updateStatus",value:function updateStatus(status){var $status=$(this.getDtv().iframeStatusSelector).first();$status.html(status||""),status&&status.length?$status.removeClass("hidden"):$status.addClass("hidden"),this.getDevTools().flashBackground($status)}},{key:"highlight",value:function highlight(selector,scroll){var _this2=this,$contents=this.getIframeContents();$contents.find("."+this.getDtv().hoverClass).removeClass(this.getDtv().hoverClass);var foundCount=0;try{var $foundElements=$contents.find(selector);if($foundElements.addClass(this.getDtv().hoverClass),null!=scroll&&scroll&&0<$foundElements.length){var originalHoverSelectStatus=this.getOptionsToolbar().isHoverSelectActive();this.activateHoverSelect(!1),$contents.find("body").stop().animate({scrollTop:$foundElements.first().offset().top-$(window).height()/4},500,"swing",function(){originalHoverSelectStatus&&setTimeout(function(){_this2.activateHoverSelect(!0)},100)})}foundCount=$foundElements.length,this.getDtv().$lastHighlighted=$foundElements.last()}catch(err){foundCount=0}return this.updateStatus(window.wpcc.found+": "+foundCount),foundCount}},{key:"clearHighlights",value:function clearHighlights(){var $contents;this.getIframeContents().find("."+this.getDtv().hoverClass).removeClass(this.getDtv().hoverClass),this.updateStatus(null),this.getDtv().$lastHighlighted=null}},{key:"listenToCursor",value:function listenToCursor(){var _this3=this,self=this,iframeReadyCallback=function iframeReadyCallback(){_this3.onIframeReady()};this.getIframe().on("load",iframeReadyCallback)}},{key:"onIframeReady",value:function onIframeReady(){var _this4=this,$contents=this.getIframeContents(),$allElements;$contents.find(this.getDtv().hoverStyleSelector).length||$contents.find("head").append($(this.getDtv().hoverStyleSelector)[0].outerHTML),this.getDtv().$lastHighlighted=null,$contents.find("*").off("click").off("mouseenter mouseleave").on("click",function(e){return _this4.elementClickCallback(e)}).on("mouseenter mouseleave",function(e){return _this4.elementHoverCallback(e)})}},{key:"elementHoverCallback",value:function elementHoverCallback(e){if(this.hoverSelectActive){this.getDtv().$lastHighlighted&&this.getDtv().$lastHighlighted.removeClass(this.getDtv().hoverClass).off("click");var $element=$(e.target);if(null!=this.getOptionsToolbar().targetHTMLTagSelector&&$element.prop("tagName").toLowerCase()!=this.getOptionsToolbar().targetHTMLTagSelector){var $closestInner=$element.find(this.getOptionsToolbar().targetHTMLTagSelector).first(),$closestOuter=$element.closest(this.getOptionsToolbar().targetHTMLTagSelector),elParentCount=$element.parents().length;if($closestInner.length&&$closestOuter.length)$element=$closestInner.parents().length-elParentCount<elParentCount-$closestOuter.parents().length?$closestInner:$closestOuter;else if($closestInner.length)$element=$closestInner;else{if(!$closestOuter.length)return;$element=$closestOuter}}$element.addClass(this.getDtv().hoverClass),this.getDtv().$lastHighlighted=$element}else null!=this.getDtv().$lastHighlighted&&(this.getDtv().$lastHighlighted.off("click"),this.getDtv().$lastHighlighted=null)}},{key:"elementClickCallback",value:function elementClickCallback(e){if(e.preventDefault(),e.stopPropagation(),null!=this.getDtv().$lastHighlighted)return e.target!=this.getDtv().$lastHighlighted[0]&&(e.target=this.getDtv().$lastHighlighted[0]),this.getDtv().$lastHighlighted=null,void this.iframeClickCallback(e);if(!this.getOptionsToolbar().isHoverSelectActive()){var $target=$(e.target);this.getAddressBar().go($target.closest("a").attr("href"))}}},{key:"iframeClickCallback",value:function iframeClickCallback(e){var _this5=this;e.preventDefault(),e.stopPropagation();var $element=$(e.target)||null;if(null!==$element&&$element.length){if(this.clearHighlights(),this.isMultiSelectActive()){var index=this.getSelectedElementIndex($element);-1===index?(this.selectedElements.push($element),$element.addClass(this.getDtv().elementSelectedClass)):(this.selectedElements.splice(index,1),$element.removeClass(this.getDtv().elementSelectedClass)),this.getOptionsToolbar().updateSelectedElementsInfo(this.selectedElements.length)}var behaviorCommands=new Map([[_SelectorFinderBehavior.SelectorFinderBehavior.UNIQUE,function(){return _this5.cssSelectorFinder.findUniqueSelector($element)}],[_SelectorFinderBehavior.SelectorFinderBehavior.SIMILAR,function(){return _this5.cssSelectorFinder.findBestSimilarSelectorForElements(_this5.selectedElements)}],[_SelectorFinderBehavior.SelectorFinderBehavior.SIMILAR_SPECIFIC,function(){return _this5.cssSelectorFinder.findBestSimilarSelectorForElements(_this5.selectedElements,!0)}],[_SelectorFinderBehavior.SelectorFinderBehavior.CONTAINS,function(){return _this5.cssSelectorFinder.findSelectorForContainingElement(_this5.selectedElements)}]]),selectorFinderBehavior=this.getOptionsToolbar().getSelectorBehavior(),result=behaviorCommands.has(selectorFinderBehavior)?behaviorCommands.get(selectorFinderBehavior)():null;null===result&&(result=this.cssSelectorFinder.findUniqueSelector($element));var selector=result.cssSelector;selector=selector.replace(this.getDtv().multipleSpaceRegex," ").replace(/\\:/g,":").replace(_Utils.Utils.getMatchAllRegEx("nth-child(1)"),"first-child").replace(_Utils.Utils.getMatchAllRegEx(".".concat(this.getDtv().hoverClass)),"");var split=(selector=this.getDevTools().unbracketClassNames(selector)).split(" ");selector=(split=$.map(split,function(val,i){return/^\.\\/g.test(val)||-1!==val.indexOf("!")?null:val})).join(" "),this.getCssSelectorToolbar().updateInput(selector),result.alternatives.length?this.getCssSelectorToolbar().setAlternativeSelectors(selector,result.alternatives.map(function(similarSelector){return similarSelector.selector})):this.getCssSelectorToolbar().onShowAlternatives(e,!1);var shortestAlternative=this.getDevTools().getBestAlternativeSelector();return null!==shortestAlternative&&this.getCssSelectorToolbar().updateInput(shortestAlternative),$(document).trigger(jQuery.Event(_EventType.EventType.devToolsSelectorFound,{selector:null!==shortestAlternative?shortestAlternative:selector})),$(this.getDtv().cssInputSelector).trigger("keyup"),this.getOptionsToolbar().isUseImmediately()&&$(this.getDtv().cssUseButtonSelector).trigger("click"),this.getDtv().$lastHighlighted=$element,selector}}},{key:"listenToKeyboard",value:function listenToKeyboard(){var _this6=this,self=this,readyCallback=function readyCallback(){var iframe,doc=self.getIframe()[0].contentWindow.document;$(doc).on("keydown",function(e){return _this6.getSidebarHandler().handleKeyPress(e)})};self.getIframe().on("load",readyCallback)}},{key:"initCssSelectors",value:function initCssSelectors(){var _this7=this,callback=function callback(){var currentCssSelectorVal=_this7.getCssSelectorToolbar().getCssSelectorInput().val(),foundCount=0;if(null!=currentCssSelectorVal&&currentCssSelectorVal.length)foundCount=_this7.highlight(currentCssSelectorVal,!0);else{var buttonData=_this7.getDtv().$currentDevToolsButton.data("wcc");if(null==buttonData)return;var targetSelectors=buttonData.targetCssSelectors;if(null==targetSelectors||!targetSelectors.length)return;for(var i in targetSelectors)if(targetSelectors.hasOwnProperty(i)){var selector=targetSelectors[i];if(0<(foundCount=_this7.highlight(selector,!0)))return _this7.getCssSelectorToolbar().updateInput(selector),void _Notifier.Notifier.getInstance().notifyRegular(_this7.getCssSelectorToolbar().getCssSelectorInput(),window.wpcc.css_selector_found,_NotificationType.NotificationType.SUCCESS,_NotificationPosition.NotificationPosition.BOTTOM)}}};this.getIframe().on("load",callback)}},{key:"getIframe",value:function getIframe(){return $(this.getDtv().iframeSelector)}},{key:"getIframeContents",value:function getIframeContents(){return this.getIframe().contents()}},{key:"getCurrentUrl",value:function getCurrentUrl(){return this.currentUrl}},{key:"loadUrl",value:function loadUrl(url){var _this8=this,$urlInput=$(this.getDtv().urlInputSelector);if($urlInput.hasClass("loading"))console.warn("A URL is already being loaded. I cannot load another URL until the other one is loaded.");else if(this.clearSelectedElements(),null!=url&&url&&url.length&&0===url.indexOf("http")){console.log("Load URL: "+url),this.currentUrl=url,this.getAddressBar().setAddressBarUrl(url),this.getAddressBar().enableButton($(this.getDtv().refreshButtonSelector)),this.getAddressBar().historyUpdated(),0==this.getAddressBar().currentHistoryIndex?this.getAddressBar().disableButton($(this.getDtv().backButtonSelector)):1<this.getAddressBar().history.length&&this.getAddressBar().enableButton($(this.getDtv().backButtonSelector)),$urlInput.addClass("loading");var data=$(this.getDtv().devToolsButtonSelector).data("wcc");this.getDevTools().getSourceCode(url,data,function(response){if(null!=response&&null!=response&&null!=response.html&&response.html.length)_this8.setIframeContent(response.html,url);else if(console.log("Request succeeded. Getting source code was not successful. Response:"),console.log(response),void 0!==response.infoView&&null!==response.infoView&&"undefined"!==response.infoView){var style=response.infoStyle||null,view="";view=null!==style?'<html><head><style type="text/css">'+style+"</style></head><body>"+response.infoView+"</body></html>":response.infoView,_this8.setIframeContent(view,url)}},function(response){"abort"!=response.statusText&&(console.log("Request failed. Getting source code was not successful. Response:"),console.log(response))},function(){$urlInput.removeClass("loading")})}}},{key:"setIframeContent",value:function setIframeContent(content,url){var $iframe=$(this.getDtv().iframeSelector).first(),iframe=$iframe[0],iframedoc=iframe.contentDocument||iframe.contentWindow.document,currentUrl=$iframe.data("currenturl");null!=currentUrl&&currentUrl==url||(iframedoc.open(),iframedoc.write(content),iframedoc.close(),this.setIframeHeight(),$iframe.data("currenturl",url),this.listenToCursor(),this.listenToKeyboard(),this.initCssSelectors())}},{key:"setIframeHeight",value:function setIframeHeight(){var $toolbar,toolbarHeight=$(this.getDtv().toolbarSelector).first().innerHeight(),$iframe;$(this.getDtv().iframeSelector).first().css("height","calc(100% - "+toolbarHeight+"px)")}},{key:"activateMultiSelect",value:function activateMultiSelect(enabled){(this.multiSelectActive=enabled)||this.clearSelectedElements()}},{key:"getSelectedElementIndex",value:function getSelectedElementIndex($element){for(var i=0;i<this.selectedElements.length;i++)if(this.selectedElements[i].is($element))return i;return-1}},{key:"clearSelectedElements",value:function clearSelectedElements(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.selectedElements[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var $el;_step.value.removeClass(this.getDtv().elementSelectedClass)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.selectedElements=[],this.getOptionsToolbar().updateSelectedElementsInfo(0),this.clearHighlights()}},{key:"isMultiSelectActive",value:function isMultiSelectActive(){return this.multiSelectActive}},{key:"activateHoverSelect",value:function activateHoverSelect(active){this.hoverSelectActive=active}},{key:"getAddressBar",value:function getAddressBar(){return _AddressBar.AddressBar.getInstance()}},{key:"getCssSelectorToolbar",value:function getCssSelectorToolbar(){return _CSSSelectorToolbar.CSSSelectorToolbar.getInstance()}},{key:"getDevTools",value:function getDevTools(){return _DEVTools.DEVTools.getInstance()}},{key:"getDtv",value:function getDtv(){return _DevToolsVariables.DevToolsVariables.getInstance()}},{key:"getOptionsToolbar",value:function getOptionsToolbar(){return _OptionsToolbar.OptionsToolbar.getInstance()}},{key:"getSidebarHandler",value:function getSidebarHandler(){return _SidebarHandler.SidebarHandler.getInstance()}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(IFrameHandler.name,function(){return new IFrameHandler})}}]),IFrameHandler}();exports.IFrameHandler=IFrameHandler},{"../common/EventType":10,"../common/Notifier":13,"../common/Utils":21,"../common/WPCCrawler":22,"../common/enum/NotificationPosition":25,"../common/enum/NotificationType":26,"./AddressBar":49,"./CSSSelectorToolbar":50,"./DEVTools":51,"./DevToolsVariables":53,"./OptionsToolbar":55,"./SidebarHandler":56,"./css-selector/CSSSelectorFinder":57,"./css-selector/CSSSelectorService":59,"./css-selector/enums/SelectorFinderBehavior":60}],55:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionsToolbar=void 0;var _SelectorFinderBehavior=require("./css-selector/enums/SelectorFinderBehavior"),_WPCCrawler=require("../common/WPCCrawler"),_DEVTools=require("./DEVTools"),_IFrameHandler=require("./IFrameHandler"),_DevToolsVariables=require("./DevToolsVariables");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var OptionsToolbar=function(){function OptionsToolbar(){_classCallCheck(this,OptionsToolbar),this.targetHTMLTagSelector=null}return _createClass(OptionsToolbar,[{key:"onChangeTargetHTMLTagInput",value:function onChangeTargetHTMLTagInput(e){var val=$(this.getDtv().optTargetHTMLTagSelector).val();null!=val&&val.length?this.targetHTMLTagSelector=$.trim(val.split(" ")[0]):this.targetHTMLTagSelector=null}},{key:"onClickToggleHoverSelect",value:function onClickToggleHoverSelect(e){this.activateHoverSelect(!this.isHoverSelectActive())}},{key:"isHoverSelectActive",value:function isHoverSelectActive(){var $optionButton;return $(this.getDtv().optHoverSelectSelector).first().hasClass("active")}},{key:"activateHoverSelect",value:function activateHoverSelect(argument_0){var enable=!(0<arguments.length&&void 0!==argument_0)||argument_0,$optionButton=$(this.getDtv().optHoverSelectSelector).first(),activeCls="active";enable?$optionButton.hasClass("active")||$optionButton.addClass("active"):$optionButton.hasClass("active")&&$optionButton.removeClass("active"),this.getIframeHandler().activateHoverSelect(enable),this.getDevTools().saveState()}},{key:"isApplyManipulationOptions",value:function isApplyManipulationOptions(){return $(this.getDtv().optApplyManipulationOptionsSelector)[0].checked}},{key:"isUseImmediately",value:function isUseImmediately(){return $(this.getDtv().optUseImmediatelySelector)[0].checked}},{key:"isRemoveScripts",value:function isRemoveScripts(){return $(this.getDtv().optRemoveScriptsSelector)[0].checked}},{key:"isRemoveStyles",value:function isRemoveStyles(){return $(this.getDtv().optRemoveStylesSelector)[0].checked}},{key:"getSelectorBehavior",value:function getSelectorBehavior(){var val=$(this.getDtv().optSelectorFinderBehaviorSelector).val()||null;return null!==val&&val.length?val:_SelectorFinderBehavior.SelectorFinderBehavior.UNIQUE}},{key:"updateSelectedElementsInfo",value:function updateSelectedElementsInfo(selectedCount){var html="",rawText,textSelectedElements,textClear;0<selectedCount&&(html="<span>"+(1===selectedCount?window.wpcc.x_element_selected:window.wpcc.x_elements_selected).format(selectedCount)+'</span><a role="button" class="clear-selections">'+window.wpcc.clear+"</a>");$(this.getDtv().selectedElementsContainerSelector).html(html)}},{key:"getDevTools",value:function getDevTools(){return _DEVTools.DEVTools.getInstance()}},{key:"getIframeHandler",value:function getIframeHandler(){return _IFrameHandler.IFrameHandler.getInstance()}},{key:"getDtv",value:function getDtv(){return _DevToolsVariables.DevToolsVariables.getInstance()}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(OptionsToolbar.name,function(){return new OptionsToolbar})}}]),OptionsToolbar}();exports.OptionsToolbar=OptionsToolbar},{"../common/WPCCrawler":22,"./DEVTools":51,"./DevToolsVariables":53,"./IFrameHandler":54,"./css-selector/enums/SelectorFinderBehavior":60}],56:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SidebarHandler=void 0;var _WPCCrawler=require("../common/WPCCrawler"),_AddressBar=require("./AddressBar"),_DevToolsVariables=require("./DevToolsVariables"),_IFrameHandler=require("./IFrameHandler"),_DEVTools=require("./DEVTools"),_CSSSelectorToolbar=require("./CSSSelectorToolbar"),_KeyboardEventHelper=require("../common/KeyboardEventHelper"),_KeyboardKey=require("../common/enum/KeyboardKey");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SidebarHandler=function(){function SidebarHandler(){_classCallCheck(this,SidebarHandler),this.preventHoverEvent=!1}return _createClass(SidebarHandler,[{key:"loadSidebar",value:function loadSidebar(){this.onUpdateAllUsedSelectors()}},{key:"updateAlternativeSelectors",value:function updateAlternativeSelectors(alternatives){var preparedHtml="",$contents=this.getIframeHandler().getIframeContents(),alternativeObjects=[],o,count;for(var i in alternatives=Array.from(new Set(alternatives)))alternatives.hasOwnProperty(i)&&((count=$contents.find(alternatives[i]).length)<1||(o={selector:alternatives[i],count:count},alternativeObjects.push(o),preparedHtml+=this.getCssSelectorListItemHtml(o)));return this.updateSectionContent("<ul data-alternatives='"+JSON.stringify(alternativeObjects)+"'>"+preparedHtml+"</ul>",this.getDtv().sidebarSectionAlternativeSelectorsClass),alternativeObjects}},{key:"onUpdateAllUsedSelectors",value:function onUpdateAllUsedSelectors(){var allSelectors=[],$self,name,val,valCounter=[];$(this.getDtv().settingsMetaBoxSelector).find("input.css-selector").each(function(i,el){$self=$(el),-1!==(name=$self.attr("name")).indexOf("selector")&&null!=(val=$self.val())&&val.length&&(valCounter.hasOwnProperty(val)?valCounter[val]+=1:(allSelectors.push(val),valCounter[val]=1))});var preparedSelectors=[],current,preparedHtml="";for(var i in allSelectors)allSelectors.hasOwnProperty(i)&&(val=allSelectors[i],current={count:valCounter[val],selector:val},preparedSelectors.push(current),preparedHtml+=this.getCssSelectorListItemHtml(current));this.updateSectionContent("<ul>"+preparedHtml+"</ul>",this.getDtv().sidebarSectionUsedSelectorsClass)}},{key:"updateSectionContent",value:function updateSectionContent(html,sectionClass){var $section=this.getSectionElement(sectionClass),$content=$section.find("."+this.getDtv().sidebarSectionContentClass).first();this.getDevTools().flashBackground($section),$content.html(html)}},{key:"getSectionElement",value:function getSectionElement(sectionClass){return $(this.getDtv().sidebarSelector+" ."+sectionClass)}},{key:"getCssSelectorListItemHtml",value:function getCssSelectorListItemHtml(object){var count=object.count?"<i class='count'>("+object.count+")</i>":"";return"<li><span class='selector' data-selector='"+JSON.stringify(object)+"'>"+object.selector+count+"</span></li>"}},{key:"onClickCssSelector",value:function onClickCssSelector(e){var $self=$(e.target),selectorData=this.getCssSelectorData($self);selectorData&&(this.getCssSelectorToolbar().updateInput(selectorData.selector),$(this.getDtv().cssTestSelector).trigger("click"),$(this.getDtv().sidebarCloseSelector).trigger("click"),this.preventHoverEvent=!0)}},{key:"onClickHistoryUrl",value:function onClickHistoryUrl(e){var $element=$(e.target),url=$element.text();if(null!=url&&url.length){var index=$element.closest("ul").find("li").index($element.closest("li"));null!=index&&-1<index&&this.getAddressBar().travelInTime(index)}}},{key:"onHoverCssSelector",value:function onHoverCssSelector(e){if(this.preventHoverEvent)this.preventHoverEvent=!1;else{var $self=$(e.target),selectorData=this.getCssSelectorData($self);selectorData&&(this.getIframeHandler().clearHighlights(),this.getIframeHandler().highlight(selectorData.selector,!0))}}},{key:"getCssSelectorData",value:function getCssSelectorData($element){var selectorData=$element.data("selector");return null!=selectorData&&selectorData.hasOwnProperty("selector")?selectorData:null}},{key:"onCloseSidebar",value:function onCloseSidebar(e){var $sidebar;this.getSidebar().removeClass(this.getDtv().sidebarOpenedClass),$(this.getDtv().sidebarOpenSelector).removeClass("hidden")}},{key:"onOpenSidebar",value:function onOpenSidebar(e){var $sidebar;this.getSidebar().addClass(this.getDtv().sidebarOpenedClass),$(this.getDtv().sidebarOpenSelector).addClass("hidden")}},{key:"onToggleExpand",value:function onToggleExpand(e){var $button=$(e.target),expanded=$button.hasClass(this.getDtv().sidebarSectionExpandedClass),$section=$button.closest(this.getDtv().sidebarSectionSelector),$sectionContent=$button.closest(this.getDtv().sidebarSectionContentSelector);$section.toggleClass(this.getDtv().sidebarSectionExpandedClass),$button.toggleClass(this.getDtv().sidebarSectionExpandedClass).toggleClass("dashicons-arrow-down").toggleClass("dashicons-arrow-up")}},{key:"getSidebar",value:function getSidebar(){return $(this.getDtv().sidebarSelector)}},{key:"handleKeyPress",value:function handleKeyPress(e){var key=new _KeyboardEventHelper.KeyboardEventHelper(e).getKey();key==_KeyboardKey.KeyboardKey.LEFT&&this.onOpenSidebar(e),key==_KeyboardKey.KeyboardKey.RIGHT&&this.onCloseSidebar(e)}},{key:"getAddressBar",value:function getAddressBar(){return _AddressBar.AddressBar.getInstance()}},{key:"getCssSelectorToolbar",value:function getCssSelectorToolbar(){return _CSSSelectorToolbar.CSSSelectorToolbar.getInstance()}},{key:"getDevTools",value:function getDevTools(){return _DEVTools.DEVTools.getInstance()}},{key:"getDtv",value:function getDtv(){return _DevToolsVariables.DevToolsVariables.getInstance()}},{key:"getIframeHandler",value:function getIframeHandler(){return _IFrameHandler.IFrameHandler.getInstance()}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(SidebarHandler.name,function(){return new SidebarHandler})}}]),SidebarHandler}();exports.SidebarHandler=SidebarHandler},{"../common/KeyboardEventHelper":12,"../common/WPCCrawler":22,"../common/enum/KeyboardKey":24,"./AddressBar":49,"./CSSSelectorToolbar":50,"./DEVTools":51,"./DevToolsVariables":53,"./IFrameHandler":54}],57:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSSSelectorFinder=void 0;var _SimilarSelector=require("./objects/SimilarSelector"),_CSSSelectorOptimizer=require("./CSSSelectorOptimizer"),_CSSSelectorFinderResult=require("./objects/CSSSelectorFinderResult"),_UniqueCssFinderRegistry=require("./unique-finders/UniqueCssFinderRegistry"),_UniqueFinderKey=require("./unique-finders/enums/UniqueFinderKey");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CSSSelectorFinder=function(){function CSSSelectorFinder(service){_classCallCheck(this,CSSSelectorFinder),this.similarSelectorCache=new Map,this.service=service}return _createClass(CSSSelectorFinder,[{key:"findSelectorForContainingElement",value:function findSelectorForContainingElement(elements){if(!elements.length)return null;if(1===elements.length)return this.findUniqueSelector(elements[0].parent());var allParents=[],parents,i,j,elementCount=elements.length,maxCommonParentCount=0;for(i=0;i<elementCount;i++)parents=elements[i].parents(),allParents.push($(parents.get().reverse())),(0===maxCommonParentCount||maxCommonParentCount>parents.length)&&(maxCommonParentCount=parents.length);var level,commonParent=null,candidateCommonParent=null,allEqual=!1;for(level=maxCommonParentCount-1;0<level;level--){for(candidateCommonParent=allParents[0].get(level),allEqual=!0,j=1;j<elementCount;j++)if(allParents[j].get(level)!==candidateCommonParent){allEqual=!1;break}if(allEqual){commonParent=candidateCommonParent;break}}if(null===commonParent)return null;var $commonParent=$(commonParent);return this.findUniqueSelector($commonParent)}},{key:"findUniqueSelector",value:function findUniqueSelector($element){var restoreClasses=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.service.getUnwantedClasses()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var unwantedClass=_step.value;$element.hasClass(unwantedClass)&&($element.removeClass(unwantedClass),restoreClasses.push(unwantedClass))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var selector=_UniqueCssFinderRegistry.UniqueCssFinderRegistry.getInstance().getUniqueCssFinder(_UniqueFinderKey.UniqueFinderKey.OPTIMAL_SELECT).findCssSelector($element[0]);return restoreClasses.forEach(function(value){return $element.addClass(value)}),new _CSSSelectorFinderResult.CSSSelectorFinderResult(this.service.removeUnwantedClassesFromSelector(selector))}},{key:"findBestSimilarSelectorForElements",value:function findBestSimilarSelectorForElements(elements,argument_1){var specific=1<arguments.length&&void 0!==argument_1&&argument_1,similarSelectors=this.findSimilarElementSelectorsForElements(elements);if(!similarSelectors.length)return null;var $document=elements[0].closest("html"),result=similarSelectors.map(function(value){return value.globalCount=$document.find(value.selector).length,value}).sort(function(a,b){return a.globalCount-b.globalCount}).filter(function(value){return 1<value.globalCount});if(!result.length)return null;var smallestCount=result[0].globalCount,bestSelector=null;if(1===(result=result.filter(function(value){return value.globalCount===smallestCount})).length)bestSelector=result[0].selector;else{var bestSelectors=result.map(function(value){return value.selector}).sort(function(a,b){return a.length-b.length}),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=bestSelectors[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var sel=_step2.value;if(-1<sel.indexOf(".")){bestSelector=sel;break}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}null===bestSelector&&(bestSelector=bestSelectors[0])}var optimizedSelector=new _CSSSelectorOptimizer.CSSSelectorOptimizer(this.service,$document,bestSelector,-1===bestSelector.indexOf("."),elements).optimize(specific),alternatives=1<result.length?result.slice(0,100):[];return new _CSSSelectorFinderResult.CSSSelectorFinderResult(optimizedSelector,alternatives)}},{key:"findSimilarElementSelectorsForElements",value:function findSimilarElementSelectorsForElements(elements){if(null===(elements=elements||null)||!elements.length)return[];var selectorArrays=[];this.invalidateSimilarSelectorCache();var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=elements[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var $element=_step3.value;selectorArrays.push(this.findSimilarElementSelector($element))}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}if(elements.length<2)return selectorArrays[0];var matchingSelectors=selectorArrays.reduce(function(join,current){return join.filter(function(el){return current.includes(el)})});if(!matchingSelectors.length)return[];var result=[],$foundElements,valid,_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=matchingSelectors[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var selector=_step4.value;$foundElements=selector.$elements;var _iteratorNormalCompletion5=valid=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _iterator5=elements[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var _$element=_step5.value;if(!$foundElements.has(_$element.get(0))){valid=!1;break}}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}valid&&result.push(selector)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return result}},{key:"findSimilarElementSelector",value:function findSimilarElementSelector($element){for(var _this=this,$targetElement=$element,tagName,$parent,result=[],escapedClasses,specificSelectorStr="",prevSpecificSelectorStr="",genericSelectorStr="",isImmediateChild,$prevTargetElement=null,genericSelector,specificSelector,segmentSeparator,depth=0;0<$targetElement.length;){if(null!==$prevTargetElement&&$targetElement.length==$prevTargetElement.length&&$targetElement.is($prevTargetElement)){console.error("An infinite loop has been prevented and CSS selector finding process has been stopped."),console.log("Main element",$element,"Current target element",$targetElement);break}if(null===(tagName=$targetElement.prop("tagName")||null))break;if("body"===(tagName=tagName.toLowerCase())||"html"===tagName)break;if("tbody"!==tagName){if(!($parent=$targetElement.parent()).length)break;var selector=tagName;if((escapedClasses=this.service.escapeClassNames(this.service.getElementClasses($targetElement).sort(function(a,b){return a.length-b.length}))).length&&(selector+="."+escapedClasses.join(".")),segmentSeparator=(isImmediateChild="table"!==tagName)?" > ":" ",specificSelectorStr=(prevSpecificSelectorStr=specificSelectorStr).length?selector+segmentSeparator+specificSelectorStr:selector,genericSelectorStr=genericSelectorStr.length?tagName+segmentSeparator+genericSelectorStr:tagName,genericSelector=this.getSimilarSelector($parent,genericSelectorStr)){this.addSimilarSelector(result,genericSelector);var specificSelectors=[];if(depth<16&&1<escapedClasses.length){var powerSet=this.service.getPowerSet(escapedClasses.slice(0,5)),_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _iterator6=powerSet[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var set=_step6.value;if(set.length){var sel=tagName+"."+set.join("."),selectorStr=prevSpecificSelectorStr.length?sel+segmentSeparator+prevSpecificSelectorStr:sel,similarSelector=this.getSimilarSelector($parent,selectorStr);similarSelector&&specificSelectors.push(similarSelector)}}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}(specificSelector=this.getSimilarSelector($parent,specificSelectorStr))&&this.addSimilarSelector(result,specificSelector),specificSelectors.length&&(1===specificSelectors.length?this.addSimilarSelector(result,specificSelectors[0]):function(){specificSelectors.sort(function(a,b){return a.count-b.count});var smallestCount=specificSelectors[0].count;specificSelector=specificSelectors.filter(function(s){return s.count===smallestCount}).sort(function(a,b){return a.selector.length-b.selector.length})[0],specificSelectorStr=specificSelector.selector,_this.addSimilarSelector(result,specificSelectors)}())}$prevTargetElement=$targetElement,$targetElement=$parent,depth++}else $targetElement=$targetElement.closest("table")}return result}},{key:"addSimilarSelector",value:function addSimilarSelector(arr,similarSelector){Array.isArray(similarSelector)?Array.prototype.push.apply(arr,similarSelector):arr.push(similarSelector)}},{key:"getSimilarSelector",value:function getSimilarSelector($parent,selectorStr){var similarSelector=null;if(this.similarSelectorCache.has(selectorStr))similarSelector=this.similarSelectorCache.get(selectorStr);else{var $elements=$parent.find(selectorStr);0<$elements.length&&(similarSelector=new _SimilarSelector.SimilarSelector(selectorStr,$elements,$parent))}return this.similarSelectorCache.set(selectorStr,similarSelector),similarSelector}},{key:"invalidateSimilarSelectorCache",value:function invalidateSimilarSelectorCache(){this.similarSelectorCache=new Map}}]),CSSSelectorFinder}();exports.CSSSelectorFinder=CSSSelectorFinder},{"./CSSSelectorOptimizer":58,"./objects/CSSSelectorFinderResult":61,"./objects/SimilarSelector":62,"./unique-finders/UniqueCssFinderRegistry":64,"./unique-finders/enums/UniqueFinderKey":66}],58:[function(require,module,exports){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSSSelectorOptimizer=void 0;var CSSSelectorOptimizer=function(){function CSSSelectorOptimizer(service,$document,selector,addAllCommonClasses,targetElements){_classCallCheck(this,CSSSelectorOptimizer),this.commonMatchPart="[^:[\\.]+",this.regexClasses=new RegExp("\\.("+this.commonMatchPart+")","g"),this.regexPseudos=new RegExp("(:+"+this.commonMatchPart+")","g"),this.regexAttributes=new RegExp("(\\["+this.commonMatchPart+"\\])","g"),this.regexTag=/^[a-zA-Z]+/,this.signs=[">","+","~"],this.service=service,this.$document=$document,this.originalSelector=selector,this.addAllCommonClasses=addAllCommonClasses,this.targetElements=targetElements}return _createClass(CSSSelectorOptimizer,[{key:"optimize",value:function optimize(argument_0){var findNthChild=0<arguments.length&&void 0!==argument_0&&argument_0;return this.optimizedSelector=this.originalSelector,this.makeGenericSelectorSpecific(),this.simplifySelector(),findNthChild&&this.addNthChildPseudoSelectors(),this.optimizedSelector}},{key:"addNthChildPseudoSelectors",value:function addNthChildPseudoSelectors(){for(var _this=this,segments=this.service.segment(this.optimizedSelector),segmentCount=segments.length,currentSegment,currentSegmentIndex,prevSegment,prevSegmentIndex,testSelector,$el,$currentParentElements,targetElementPos,$testElements,isTestSelectorGood,notSignSegmentIndices=segments.map(function(val,i){return-1!==$.inArray(val,_this.signs)?null:i}).filter(function(val){return null!==val}).reverse(),i=0,len=notSignSegmentIndices.length;i<len;i++)if(currentSegmentIndex=notSignSegmentIndices[i],currentSegment=segments[currentSegmentIndex],prevSegment=null!==(prevSegmentIndex=i!=len-1?notSignSegmentIndices[i+1]:null)?segments[prevSegmentIndex]:null,!currentSegment.startsWith("#")&&(targetElementPos=-1,($currentParentElements=0===i?this.$document.find(this.optimizedSelector).parent(prevSegment):$currentParentElements.parent(prevSegment)).find("> "+currentSegment).each(function(i,el){if(($el=$(el)).is(_this.targetElements[0][0])||$.contains($el[0],_this.targetElements[0][0]))return 1===$el.parent().find("> "+currentSegment).length||(targetElementPos=$el.index()+1),!1}),-1!==targetElementPos)){(testSelector=null!==prevSegmentIndex?segments.slice(0,prevSegmentIndex+1).join(" "):"").length&&(testSelector+=" > "),testSelector+=currentSegment+":nth-child("+targetElementPos+")",currentSegmentIndex!==segmentCount-1&&(testSelector+=" "+segments.slice(currentSegmentIndex+1).join(" ")),$testElements=this.$document.find(testSelector);var _iteratorNormalCompletion=isTestSelectorGood=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.targetElements[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var $targetEl=_step.value;if(!$testElements.is($targetEl[0])){isTestSelectorGood=!1;break}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}if(!(!isTestSelectorGood||$testElements.length<this.targetElements.length||$testElements.length<2)){this.optimizedSelector=testSelector;break}}}},{key:"simplifySelector",value:function simplifySelector(){for(var segments=this.service.segment(this.optimizedSelector),$elements=this.$document.find(this.optimizedSelector),stack=[],segmentCount,segment,testSelector,$testElements,i=segments.length-1;0<i;i--)if(segment=segments[i],stack.push(segment),-1===$.inArray(segment,this.signs)&&(testSelector=stack.slice().reverse().join(" "),($testElements=this.$document.find(testSelector)).length==$elements.length&&$testElements.is($elements))){this.optimizedSelector=testSelector;break}}},{key:"makeGenericSelectorSpecific",value:function makeGenericSelectorSpecific(){var segments=this.service.segment(this.optimizedSelector),$elements=this.$document.find(this.optimizedSelector),segmentsLen=segments.length,segment,i=segmentsLen,$currentElements,id,newSegments=[],newSegment;do{if(segment=segments[--i],i===segmentsLen-1)$currentElements=$elements;else{if(-1!==$.inArray(segment,this.signs)){newSegments.push(segment);continue}$currentElements=$currentElements.parent(segment)}if(1===$currentElements.length&&null!==(id=$currentElements.first().attr("id")||null)&&id.length){newSegments.push("#"+id);break}var commonClasses=null;if(this.addAllCommonClasses&&(commonClasses=this.findCommonClasses($currentElements)),null!==commonClasses){var split=this.regexTag.exec(segment)||null;if(null===split||!split.length)return console.error('Segment "'+segment+'" does not start with tag name.'),this.optimizedSelector;var tagName=split[0],classes=this.matchAndGetCapturingGroup(segment,this.regexClasses,1),pseudos=this.matchAndGetCapturingGroup(segment,this.regexPseudos,1),attributes=this.matchAndGetCapturingGroup(segment,this.regexAttributes,1);newSegment=tagName+"."+_toConsumableArray(new Set(commonClasses.concat(null!==classes?classes:[]))).join("."),null!==pseudos&&(newSegment+=pseudos.join("")),null!==attributes&&(newSegment+=attributes.join("")),newSegments.push(newSegment)}else newSegments.push(segment)}while(0<i);this.optimizedSelector=newSegments.reverse().join(" ")}},{key:"findCommonClasses",value:function findCommonClasses($elements){var _this2=this,classArrays=[],classes,noCommonClass=!1;if($elements.each(function(i,el){noCommonClass||((classes=_this2.service.getElementClasses($(el))).length?classArrays.push(classes):noCommonClass=!0)}),noCommonClass||!classArrays.length)return null;var classArraysCount=classArrays.length,clsArr1,clsArr2,i2,j,clsArr1Count,cls,isCommon,commonClasses=[];for(classArrays.sort(function(a,b){return a.length-b.length}),clsArr1Count=(clsArr1=classArrays[0]).length,j=0;j<clsArr1Count;j++){for(cls=clsArr1[j],isCommon=!0,i2=1;i2<classArraysCount;i2++)if(-1===(clsArr2=classArrays[i2]).indexOf(cls)){isCommon=!1;break}isCommon&&commonClasses.push(cls)}return 0<commonClasses.length?commonClasses:null}},{key:"matchAndGetCapturingGroup",value:function matchAndGetCapturingGroup(str,regex,group){var result=this.matchMultiple(regex,str);return void 0!==result[group]?result[group]:null}},{key:"matchMultiple",value:function matchMultiple(regex,str){for(var result=[[]],match=regex.exec(str),i,count;null!=match;){for(count=match.length,i=1;i<count;i++)void 0===result[i]&&(result[i]=[]),result[i].push(match[i]);match=regex.exec(str)}return result}}]),CSSSelectorOptimizer}();exports.CSSSelectorOptimizer=CSSSelectorOptimizer},{}],59:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSSSelectorService=void 0;var _Utils=require("../../common/Utils");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CSSSelectorService=function(){function CSSSelectorService(){var minClassNameLength=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2,unwantedClasses=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,CSSSelectorService),this.minClassNameLength=2,this.rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,this.minClassNameLength=minClassNameLength,this.unwantedClasses=unwantedClasses}return _createClass(CSSSelectorService,[{key:"getElementClasses",value:function getElementClasses($element){var _this=this,classList=$element.prop("classList")||null;if(null===classList||!classList.length)return[];var result=[];return classList.forEach(function(className,key,listObj){-1!==_this.unwantedClasses.indexOf(className)||className.length<_this.minClassNameLength||result.push(className)}),result}},{key:"removeUnwantedClassesFromSelector",value:function removeUnwantedClassesFromSelector(selector){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.unwantedClasses[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var s=_step.value;selector=selector.replace(_Utils.Utils.getMatchAllRegEx(".".concat(s)),"").replace(_Utils.Utils.getMatchAllRegEx('[class="'.concat(s,'"]')),"").replace(_Utils.Utils.getMatchAllRegEx("[class='".concat(s,"']")),"").replace(_Utils.Utils.getMatchAllRegEx("[class=".concat(s,"]")),"").replace(_Utils.Utils.getMatchAllRegEx(s),"")}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return selector}},{key:"escapeClassNames",value:function escapeClassNames(classes){var _this2=this;return classes.map(function(value){return _this2.escapeSelector(value)})}},{key:"escapeSelector",value:function escapeSelector(selector){return(selector+"").replace(this.rcssescape,this.fcssescape)}},{key:"getPowerSet",value:function getPowerSet(set){return this.bwPowerSet(set)}},{key:"segment",value:function segment(sel){for(var parts=sel.split(" ").map(function(val){return val.trim()}),results=[],part,i1=null,i=0,len=parts.length;i<len;i++)-1===(part=parts[i]).indexOf("[")||-1!==part.indexOf("]")?-1!==part.indexOf("[")||-1===part.indexOf("]")||null===i1?null===i1&&results.push(part):(results.push(parts.slice(i1,i+1).join(" ")),i1=null):i1=i;return results}},{key:"getUnwantedClasses",value:function getUnwantedClasses(){return this.unwantedClasses}},{key:"fcssescape",value:function fcssescape(ch,asCodePoint){return asCodePoint?"\0"===ch?"�":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch}},{key:"bwPowerSet",value:function bwPowerSet(originalSet){for(var subSets=[],numberOfCombinations=Math.pow(2,originalSet.length),combinationIndex=0;combinationIndex<numberOfCombinations;combinationIndex+=1){for(var subSet=[],setElementIndex=0;setElementIndex<originalSet.length;setElementIndex+=1)combinationIndex&1<<setElementIndex&&subSet.push(originalSet[setElementIndex]);subSets.push(subSet)}return subSets}}]),CSSSelectorService}();exports.CSSSelectorService=CSSSelectorService},{"../../common/Utils":21}],60:[function(require,module,exports){"use strict";var SelectorFinderBehavior;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectorFinderBehavior=void 0,function(SelectorFinderBehavior){SelectorFinderBehavior.UNIQUE="unique",SelectorFinderBehavior.SIMILAR="similar",SelectorFinderBehavior.SIMILAR_SPECIFIC="similar_specific",SelectorFinderBehavior.CONTAINS="contains"}((exports.SelectorFinderBehavior=SelectorFinderBehavior)||(exports.SelectorFinderBehavior=SelectorFinderBehavior={}))},{}],61:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSSSelectorFinderResult=void 0;var CSSSelectorFinderResult=function(){function CSSSelectorFinderResult(cssSelector){var alternatives=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,CSSSelectorFinderResult),this._cssSelector=cssSelector,this._alternatives=alternatives}return _createClass(CSSSelectorFinderResult,[{key:"cssSelector",get:function get(){return this._cssSelector},set:function set(value){this._cssSelector=value}},{key:"alternatives",get:function get(){return this._alternatives},set:function set(value){this._alternatives=value}}]),CSSSelectorFinderResult}();exports.CSSSelectorFinderResult=CSSSelectorFinderResult},{}],62:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimilarSelector=void 0;var SimilarSelector=function(){function SimilarSelector(selector,$elements,$parent){_classCallCheck(this,SimilarSelector),this._selector=selector,this._count=$elements.length,this._$elements=$elements,this._$parent=$parent}return _createClass(SimilarSelector,[{key:"selector",get:function get(){return this._selector},set:function set(value){this._selector=value}},{key:"count",get:function get(){return this._count},set:function set(value){this._count=value}},{key:"$elements",get:function get(){return this._$elements},set:function set(value){this._$elements=value}},{key:"$parent",get:function get(){return this._$parent},set:function set(value){this._$parent=value}},{key:"globalCount",get:function get(){return this._globalCount},set:function set(value){this._globalCount=value}}]),SimilarSelector}();exports.SimilarSelector=SimilarSelector},{}],63:[function(require,module,exports){"use strict";var _AbstractUniqueCssFinder;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptimalSelect=void 0;var OptimalSelect=function(_AbstractUniqueCssFin){function OptimalSelect(){var _this;return _classCallCheck(this,OptimalSelect),(_this=_possibleConstructorReturn(this,_getPrototypeOf(OptimalSelect).apply(this,arguments))).options=null,_this}return _inherits(OptimalSelect,_AbstractUniqueCssFin),_createClass(OptimalSelect,[{key:"onFindCssSelector",value:function onFindCssSelector(element){if(void 0===window.OptimalSelect)return console.error("window.OptimalSelect is undefined."),null;var selector=this.find(element);if(selector.startsWith("strong")){var $targetElement=$(element).closest("strong").parent(),strongParentSelector;selector=this.find($targetElement[0])+" "+selector}return selector}},{key:"find",value:function find(element){return window.OptimalSelect.select(element,this.getOptimalSelectOptions())}},{key:"getOptimalSelectOptions",value:function getOptimalSelectOptions(){var _this2=this;return null!==this.options||(this.options={priority:["id","class","tag"],ignore:{tag:function tag(name){return _this2.isTagInvalid(name)},class:function _class(className){return _this2.isClassNameInvalid(className)},attribute:function attribute(name,value,defaultPredicate){return _this2.isAttributeInvalid(name,value)||defaultPredicate(name,value)}}}),this.options}}]),OptimalSelect}(require("./base/AbstractUniqueCssFinder").AbstractUniqueCssFinder);exports.OptimalSelect=OptimalSelect},{"./base/AbstractUniqueCssFinder":65}],64:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniqueCssFinderRegistry=void 0;var _WPCCrawler=require("../../../common/WPCCrawler"),_UniqueFinderKey=require("./enums/UniqueFinderKey"),_OptimalSelect=require("./OptimalSelect");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var UniqueCssFinderRegistry=function(){function UniqueCssFinderRegistry(){_classCallCheck(this,UniqueCssFinderRegistry),this.registry=new Map,this.registry.set(_UniqueFinderKey.UniqueFinderKey.OPTIMAL_SELECT,new _OptimalSelect.OptimalSelect)}return _createClass(UniqueCssFinderRegistry,[{key:"getUniqueCssFinder",value:function getUniqueCssFinder(key){return this.registry.has(key)?this.registry.get(key):null}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(UniqueCssFinderRegistry.name,function(){return new UniqueCssFinderRegistry})}}]),UniqueCssFinderRegistry}();exports.UniqueCssFinderRegistry=UniqueCssFinderRegistry},{"../../../common/WPCCrawler":22,"./OptimalSelect":63,"./enums/UniqueFinderKey":66}],65:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractUniqueCssFinder=void 0;var AbstractUniqueCssFinder=function(){function AbstractUniqueCssFinder(){_classCallCheck(this,AbstractUniqueCssFinder),this.ignoredTags=null,this.ignoredAttributes=null}return _createClass(AbstractUniqueCssFinder,[{key:"findCssSelector",value:function findCssSelector(element){if(null===element)throw"Target element must not be null.";var selector=this.onFindCssSelector(element);return null!==selector&&(selector=selector.replace(/(?:\.\\A|\\A)+/g,"").replace(/\s+/g," ")),selector}},{key:"createIgnoredTags",value:function createIgnoredTags(){return["html","body"]}},{key:"createIgnoredAttributes",value:function createIgnoredAttributes(){return["src","alt","target","href","title","width","height","method","dir","border","cellspacing"]}},{key:"isTagInvalid",value:function isTagInvalid(tag){return-1!==$.inArray(tag,this.getIgnoredTags())}},{key:"isAttributeInvalid",value:function isAttributeInvalid(name,value){return null===value&&(value=""),-1!==$.inArray(name,this.getIgnoredAttributes())||-1!==name.indexOf("/")||-1!==value.indexOf("/")||-1!==name.indexOf("\\")||-1!==value.indexOf("\\")||/data-*/.test(name)||/aria-*/.test(name)||"tabindex"===name||!value.length&&"class"===name}},{key:"isClassNameInvalid",value:function isClassNameInvalid(className){return-1!==className.indexOf("!")}},{key:"getIgnoredTags",value:function getIgnoredTags(){return null===this.ignoredTags&&(this.ignoredTags=this.createIgnoredTags()||[]),this.ignoredTags}},{key:"getIgnoredAttributes",value:function getIgnoredAttributes(){return null===this.ignoredAttributes&&(this.ignoredAttributes=this.createIgnoredAttributes()||[]),this.ignoredAttributes}}]),AbstractUniqueCssFinder}();exports.AbstractUniqueCssFinder=AbstractUniqueCssFinder},{}],66:[function(require,module,exports){"use strict";var UniqueFinderKey;Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniqueFinderKey=void 0,function(UniqueFinderKey){UniqueFinderKey.OPTIMAL_SELECT="optimal_select"}((exports.UniqueFinderKey=UniqueFinderKey)||(exports.UniqueFinderKey=UniqueFinderKey={}))},{}],67:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureRequest=void 0;var _FeatureRequestVariables=require("./FeatureRequestVariables");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var FeatureRequest=function(){function FeatureRequest(){_classCallCheck(this,FeatureRequest),this.frv=_FeatureRequestVariables.FeatureRequestVariables.getInstance()}return _createClass(FeatureRequest,null,[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new FeatureRequest),this.instance}}]),FeatureRequest}();(exports.FeatureRequest=FeatureRequest).instance=null},{"./FeatureRequestVariables":68}],68:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureRequestVariables=void 0;var FeatureRequestVariables=function(){function FeatureRequestVariables(){_classCallCheck(this,FeatureRequestVariables),this.selectorForm=".feature-request-form"}return _createClass(FeatureRequestVariables,null,[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new FeatureRequestVariables),this.instance}}]),FeatureRequestVariables}();(exports.FeatureRequestVariables=FeatureRequestVariables).instance=null},{}],69:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuideRegistry=void 0;var _WPCCrawler=require("../common/WPCCrawler"),_SavingPostsAutomatically=require("./guides/SavingPostsAutomatically"),_UpdatingPostsAutomatically=require("./guides/UpdatingPostsAutomatically"),_TestingSiteSettings=require("./guides/TestingSiteSettings"),_UsingCookies=require("./guides/UsingCookies"),_UsingCustomGeneralSettings=require("./guides/UsingCustomGeneralSettings"),_AddingCategoryUrlsAutomatically=require("./guides/AddingCategoryUrlsAutomatically"),_ShowingIframesInPostContent=require("./guides/ShowingIframesInPostContent"),_RemovingLinksInPostContent=require("./guides/RemovingLinksInPostContent"),_CreatingPostCategoriesAutomatically=require("./guides/CreatingPostCategoriesAutomatically"),_SavingImagesInPostContent=require("./guides/SavingImagesInPostContent"),_ShowingLazyLoadedImages=require("./guides/ShowingLazyLoadedImages"),_RemovingUnnecessaryElementsFromPost=require("./guides/RemovingUnnecessaryElementsFromPost"),_ManuallySavingPosts=require("./guides/ManuallySavingPosts"),_ManuallyUpdatingPosts=require("./guides/ManuallyUpdatingPosts"),_SavingWooCommerceProducts=require("./guides/SavingWooCommerceProducts"),_SavingFeaturedImages=require("./guides/SavingFeaturedImages"),_TranslatingWithYandexTranslate=require("./guides/translation/TranslatingWithYandexTranslate"),_TranslatingWithGoogleCloudTranslation=require("./guides/translation/TranslatingWithGoogleCloudTranslation"),_TranslatingWithMicrosoftTranslatorText=require("./guides/translation/TranslatingWithMicrosoftTranslatorText"),_TranslatingWithAmazonTranslate=require("./guides/translation/TranslatingWithAmazonTranslate");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var GuideRegistry=function(){function GuideRegistry(){_classCallCheck(this,GuideRegistry),this.guides=[],this.created=!1}return _createClass(GuideRegistry,[{key:"createGuides",value:function createGuides(){this.addGuide(new _SavingPostsAutomatically.SavingPostsAutomatically).addGuide(new _AddingCategoryUrlsAutomatically.AddingCategoryUrlsAutomatically).addGuide(new _CreatingPostCategoriesAutomatically.CreatingPostCategoriesAutomatically).addGuide(new _TestingSiteSettings.TestingSiteSettings).addGuide(new _UpdatingPostsAutomatically.UpdatingPostsAutomatically).addGuide(new _UsingCookies.UsingCookies).addGuide(new _UsingCustomGeneralSettings.UsingCustomGeneralSettings).addGuide(new _SavingImagesInPostContent.SavingImagesInPostContent).addGuide(new _ShowingLazyLoadedImages.ShowingLazyLoadedImages).addGuide(new _ShowingIframesInPostContent.ShowingIframesInPostContent).addGuide(new _RemovingLinksInPostContent.RemovingLinksInPostContent).addGuide(new _RemovingUnnecessaryElementsFromPost.RemovingUnnecessaryElementsFromPost).addGuide(new _SavingFeaturedImages.SavingFeaturedImages).addGuide(new _ManuallySavingPosts.ManuallySavingPosts).addGuide(new _ManuallyUpdatingPosts.ManuallyUpdatingPosts).addGuide(new _SavingWooCommerceProducts.SavingWooCommerceProducts).addGuide(new _TranslatingWithYandexTranslate.TranslatingWithYandexTranslate).addGuide(new _TranslatingWithGoogleCloudTranslation.TranslatingWithGoogleCloudTranslation).addGuide(new _TranslatingWithMicrosoftTranslatorText.TranslatingWithMicrosoftTranslatorText).addGuide(new _TranslatingWithAmazonTranslate.TranslatingWithAmazonTranslate)}},{key:"getGuides",value:function getGuides(){return this.created||(this.createGuides(),this.created=!0),this.guides}},{key:"getGuideWithId",value:function getGuideWithId(id){if(null===(id||null))return null;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.getGuides()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var g=_step.value;if(g.getId()===id)return g}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return null}},{key:"addGuide",value:function addGuide(guide){return this.guides.push(guide),this}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(GuideRegistry.name,function(){return new GuideRegistry})}}]),GuideRegistry}();exports.GuideRegistry=GuideRegistry},{"../common/WPCCrawler":22,"./guides/AddingCategoryUrlsAutomatically":118,"./guides/CreatingPostCategoriesAutomatically":119,"./guides/ManuallySavingPosts":121,"./guides/ManuallyUpdatingPosts":122,"./guides/RemovingLinksInPostContent":123,"./guides/RemovingUnnecessaryElementsFromPost":124,"./guides/SavingFeaturedImages":125,"./guides/SavingImagesInPostContent":126,"./guides/SavingPostsAutomatically":127,"./guides/SavingWooCommerceProducts":128,"./guides/ShowingIframesInPostContent":129,"./guides/ShowingLazyLoadedImages":130,"./guides/TestingSiteSettings":131,"./guides/UpdatingPostsAutomatically":132,"./guides/UsingCookies":133,"./guides/UsingCustomGeneralSettings":134,"./guides/translation/TranslatingWithAmazonTranslate":137,"./guides/translation/TranslatingWithGoogleCloudTranslation":138,"./guides/translation/TranslatingWithMicrosoftTranslatorText":139,"./guides/translation/TranslatingWithYandexTranslate":140}],70:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuideSearch=void 0;var _WPCCrawler=require("../common/WPCCrawler"),_GuideRegistry=require("./GuideRegistry");function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var GuideSearch=function(){function GuideSearch(){_classCallCheck(this,GuideSearch),this.searchIndex=null,this.clsHidden="hidden",this.clsTourSummary="tour-summary",this.selectorGuideContainer="#wpcc-guide-list"}return _createClass(GuideSearch,[{key:"performSearch",value:function performSearch(q){q=q.toLowerCase();var index=this.getSearchIndex(),matchingGuideIds=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=index.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),guideId=_step$value[0],fullText;-1!==_step$value[1].indexOf(q)&&matchingGuideIds.push(guideId)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.showGuides(matchingGuideIds)}},{key:"showGuides",value:function showGuides(guideIds){this.hideAllGuides();var selector=guideIds.map(function(guideId){return'[data-id="'.concat(guideId,'"]')}).join(",");this.getGuideListContainer().find(selector).removeClass(this.clsHidden)}},{key:"hideAllGuides",value:function hideAllGuides(){return $("".concat(this.selectorGuideContainer," .").concat(this.clsTourSummary)).addClass(this.clsHidden),this}},{key:"getSearchIndex",value:function getSearchIndex(){return this.searchIndex||(this.searchIndex=this.createSearchIndex()),this.searchIndex}},{key:"createSearchIndex",value:function createSearchIndex(){var index=new Map;return _GuideRegistry.GuideRegistry.getInstance().getGuides().forEach(function(guide){index.set(guide.getId().toString(),"".concat(guide.getName()," ").concat(guide.getId()," ").concat(guide.getDescription()).toLowerCase())}),index}},{key:"getGuideListContainer",value:function getGuideListContainer(){return $("#wpcc-guide-list")}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(GuideSearch.name,function(){return new GuideSearch})}}]),GuideSearch}();exports.GuideSearch=GuideSearch},{"../common/WPCCrawler":22,"./GuideRegistry":69}],71:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Guides=void 0;var _CookieService=require("./cookies/CookieService"),_GuideRegistry=require("./GuideRegistry"),_WPCCrawler=require("../common/WPCCrawler"),_Utils=require("../common/Utils"),_PageTypeUtils=require("../common/PageTypeUtils"),_GuideSearch=require("./GuideSearch"),_GuideId=require("./enum/GuideId"),_DisplayGuides=require("./guides/DisplayGuides"),_KeyboardEventHelper=require("../common/KeyboardEventHelper"),_KeyboardKey=require("../common/enum/KeyboardKey");function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Guides=function(){function Guides(){var _this=this;_classCallCheck(this,Guides),this.clsHidden="hidden",this.idGuides="wpcc-guides",this.idGuidePopup="wpcc-guide-popup",this.clsExpanded="expanded",this.scrollPos=null,$(document).on("click","#".concat(this.idGuides," .btn-show-guides"),function(){return _this.toggleGuides()}),$(document).on("click","#".concat(this.idGuidePopup),function(e){return _this.onClickOutside(e)}),$(document).on("click","#".concat(this.idGuides," .tour-header"),function(e){return _this.onClickTourHeader(e)}),$(document).on("click","#".concat(this.idGuides," .start-tour, #").concat(this.idGuides," .start-step"),function(e){return _this.onClickStart(e)}),$(document).on("keyup",'input[name="guide_search"]',function(e){return _this.onSearchQueryChanged(e)}),$(document).on("keyup",function(e){var key;_this.isShown()&&new _KeyboardEventHelper.KeyboardEventHelper(e).getKey()===_KeyboardKey.KeyboardKey.ESCAPE&&_this.hideGuides()}),this.addGuidesButton(),this.maybeAutoStart()}return _createClass(Guides,[{key:"maybeAutoStart",value:function maybeAutoStart(){var _this2=this;setTimeout(function(){_this2.maybeAutoStartStep()||_this2.maybeAutoShowGuide()},2e3)}},{key:"maybeAutoShowGuide",value:function maybeAutoShowGuide(){var guideMap=(new Map).set(_GuideId.GuideId.SAVING_POSTS_AUTOMATICALLY,null).set(_GuideId.GuideId.DISPLAY_GUIDES,function(){return new _DisplayGuides.DisplayGuides}),registry=_GuideRegistry.GuideRegistry.getInstance(),pageType=_PageTypeUtils.PageTypeUtils.getPageType(),cookieService=_CookieService.CookieService.getInstance(),guide,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=guideMap.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),guideId=_step$value[0],factoryMethod=_step$value[1];if(!cookieService.isAutoShown(guideId)){if(null===(guide=registry.getGuideWithId(guideId))){if(null===factoryMethod)continue;guide=factoryMethod()}if(null!==guide&&pageType===guide.getStartPageType()){cookieService.setAutoShown(guideId),guide.start();break}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"maybeAutoStartStep",value:function maybeAutoStartStep(){var cookie=_CookieService.CookieService.getInstance().getAutoStartCookieForCurrentPage();if(!cookie)return!1;var guide=_GuideRegistry.GuideRegistry.getInstance().getGuideWithId(cookie.getGuideId());if(!guide)return!1;var stepIndex=cookie.getStepIndex();return!(stepIndex>=guide.getTourBuilder().getStepCount())&&(guide.start(stepIndex),_CookieService.CookieService.getInstance().removeAutoStartCookieForCurrentPage(),!0)}},{key:"onSearchQueryChanged",value:function onSearchQueryChanged(e){var _this3=this,$target=$(e.target);null!==this.searchTimeoutHandle&&window.clearTimeout(this.searchTimeoutHandle),this.searchTimeoutHandle=window.setTimeout(function(){_this3.searchTimeoutHandle=null,_GuideSearch.GuideSearch.getInstance().performSearch($target.val().toString())},300)}},{key:"onClickStart",value:function onClickStart(e){var $target=$(e.target),$tourSummary=$target.closest(".tour-summary");if($tourSummary.length){_Utils.Utils.removeErrorsInElement($tourSummary);var guideId=$tourSummary.data("id");if(guideId.length){var guide=_GuideRegistry.GuideRegistry.getInstance().getGuideWithId(guideId);if(null!==guide){var $startStep=$target.hasClass("start-tour")?$tourSummary.find(".step-list .step-item:first-child .start-step"):$target;if($startStep.hasClass("start-step")){var $stepSummary=$startStep.closest(".step-summary");if($stepSummary.length){var $stepDetails=$stepSummary.find(".step-details");if($stepDetails.length){var pageType=$startStep.data("page-type"),redirectable=$startStep.data("redirectable")||!1,currentPageType;if(_PageTypeUtils.PageTypeUtils.getPageType()!==pageType&&!redirectable){console.warn("This step requires ".concat(_PageTypeUtils.PageTypeUtils.getPageTypeName(pageType)," page and it is not redirectable."));var error=_Utils.Utils.trans("open_required_x_page_type_for_step").replace("%s",_PageTypeUtils.PageTypeUtils.getPageTypeName(pageType));return $(_Utils.Utils.getErrorsAsHtml([error])).appendTo($stepDetails),void this.showTourSummary($tourSummary).scrollToGuideItem($stepSummary)}var stepIndex=parseInt($stepSummary.data("id"));this.hideGuides(),guide.start(stepIndex)}else console.warn("Step details cannot be found for this step",$startStep)}else console.warn("Step summary cannot be found for this step",$startStep)}else console.warn('Clicked element does not have "start-step" class')}}}}},{key:"toggleGuides",value:function toggleGuides(){this.isShown()?this.hideGuides():this.showGuides()}},{key:"onClickOutside",value:function onClickOutside(e){$(e.target).attr("id")===this.idGuidePopup&&this.hideGuides()}},{key:"onClickTourHeader",value:function onClickTourHeader(e){var $target=$(e.target);if(!$target.hasClass("start-tour")){var $tourSummary=$target.closest(".tour-summary");$tourSummary.length&&_Utils.Utils.toggleClass($tourSummary,this.clsExpanded)}}},{key:"showTourSummary",value:function showTourSummary($tourSummary){return $tourSummary.addClass(this.clsExpanded),this}},{key:"hideTourSummary",value:function hideTourSummary($tourSummary){return $tourSummary.removeClass(this.clsExpanded),this}},{key:"scrollToGuideItem",value:function scrollToGuideItem($el){return _Utils.Utils.scrollElementIntoView($("#wpcc-guide-list"),$("#wpcc-guide-list-inner"),$el),this}},{key:"showGuides",value:function showGuides(){this.scrollPos=$(window).scrollTop();var $popup=this.getGuidePopup(),clsInitialized="initialized";if(!$popup.hasClass("initialized")){var html="";_GuideRegistry.GuideRegistry.getInstance().getGuides().forEach(function(guide){html+=guide.getSummaryAsHtml()}),$("#wpcc-guide-list-inner").html(html),$popup.addClass("initialized")}$popup.removeClass(this.clsHidden)}},{key:"hideGuides",value:function hideGuides(){var $popup=this.getGuidePopup();$popup.hasClass(this.clsHidden)||$popup.addClass(this.clsHidden),null!==this.scrollPos&&$(window).scrollTop(this.scrollPos)}},{key:"addGuidesButton",value:function addGuidesButton(){var template='\n            <div id="wpcc-guides">\n\n                <div class="btn-show-guides">\n                    <a role="button">'.concat(window.wpcc.guides,'</a>\n                </div>\n            \n                <div id="wpcc-guide-popup" class="hidden">\n                    <div class="guide-popup-inner">\n                        <div class="guide-popup-header">\n                            <span class="guide-popup-title">').concat(window.wpcc.guides,'</span>\n                            <div class="guide-search-container">\n                                <span class="dashicons dashicons-search"></span>\n                                <input type="text" name="guide_search" placeholder="').concat(window.wpcc.search_guides,'">\n                            </div>\n                        </div>\n                        <div id="wpcc-guide-list" class="guide-list-container">\n                            <div id="wpcc-guide-list-inner" class="guide-list"></div>\n                        </div>\n                    </div>\n                </div>\n            \n            </div>\n        ');$(template).appendTo("body")}},{key:"isShown",value:function isShown(){var $popup=this.getGuidePopup();return $popup.length&&!$popup.hasClass("hidden")}},{key:"getGuidePopup",value:function getGuidePopup(){return $("#wpcc-guide-popup")}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(Guides.name,function(){return new Guides})}}]),Guides}();exports.Guides=Guides},{"../common/KeyboardEventHelper":12,"../common/PageTypeUtils":15,"../common/Utils":21,"../common/WPCCrawler":22,"../common/enum/KeyboardKey":24,"./GuideRegistry":69,"./GuideSearch":70,"./cookies/CookieService":108,"./enum/GuideId":112,"./guides/DisplayGuides":120}],72:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractAdvanceStrategy=void 0;var AbstractAdvanceStrategy=function(){function AbstractAdvanceStrategy(){_classCallCheck(this,AbstractAdvanceStrategy),this.builder=null}return _createClass(AbstractAdvanceStrategy,[{key:"bindAdvanceHandler",value:function bindAdvanceHandler(){null!==this.getBuilder()&&this.onBindAdvanceHandler()}},{key:"unbindAdvanceHandler",value:function unbindAdvanceHandler(){null!==this.getBuilder()&&this.onUnbindAdvanceHandler()}},{key:"advance",value:function advance(argument_0){var data=0<arguments.length&&void 0!==argument_0?argument_0:null;if(null!==this.getBuilder()){var step=this.getBuilder().getStep();null!==step&&step.isOpen()&&this.onAdvance(data)}}},{key:"next",value:function next(){null!==this.getBuilder()?this.getBuilder().onClickNext():console.log("Builder is null. Cannot go to the next step.")}},{key:"getBuilder",value:function getBuilder(){return this.builder}},{key:"setBuilder",value:function setBuilder(builder){return this.builder=builder,this}}]),AbstractAdvanceStrategy}();exports.AbstractAdvanceStrategy=AbstractAdvanceStrategy},{}],73:[function(require,module,exports){"use strict";var _AbstractAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CheckboxSettingAdvanceStrategy=void 0;var CheckboxSettingAdvanceStrategy=function(_AbstractAdvanceStrat){function CheckboxSettingAdvanceStrategy(){var _this,shouldBeChecked=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return _classCallCheck(this,CheckboxSettingAdvanceStrategy),(_this=_possibleConstructorReturn(this,_getPrototypeOf(CheckboxSettingAdvanceStrategy).call(this))).shouldBeChecked=shouldBeChecked,_this}return _inherits(CheckboxSettingAdvanceStrategy,_AbstractAdvanceStrat),_createClass(CheckboxSettingAdvanceStrategy,[{key:"onBindAdvanceHandler",value:function onBindAdvanceHandler(){var _this2=this;$(document).on("change",this.getCheckboxSelector(),function(e){return _this2.advance(e.target)})}},{key:"onUnbindAdvanceHandler",value:function onUnbindAdvanceHandler(){var _this3=this;$(document).off("change",this.getCheckboxSelector(),function(e){return _this3.advance(e.target)})}},{key:"onAdvance",value:function onAdvance(target){this.shouldBeChecked===$(target).is(":checked")&&this.next()}},{key:"getCheckboxSelector",value:function getCheckboxSelector(){return'input[type="checkbox"][name="'.concat(this.getBuilder().getSettingKey(),'"]')}}]),CheckboxSettingAdvanceStrategy}(require("./AbstractAdvanceStrategy").AbstractAdvanceStrategy);exports.CheckboxSettingAdvanceStrategy=CheckboxSettingAdvanceStrategy},{"./AbstractAdvanceStrategy":72}],74:[function(require,module,exports){"use strict";var _AbstractAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClickAdvanceStrategy=void 0;var ClickAdvanceStrategy=function(_AbstractAdvanceStrat){function ClickAdvanceStrategy(){var _this,wait=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return _classCallCheck(this,ClickAdvanceStrategy),(_this=_possibleConstructorReturn(this,_getPrototypeOf(ClickAdvanceStrategy).call(this))).waitDuration=null,_this.waitDuration=wait,_this}return _inherits(ClickAdvanceStrategy,_AbstractAdvanceStrat),_createClass(ClickAdvanceStrategy,[{key:"onBindAdvanceHandler",value:function onBindAdvanceHandler(){var _this2=this;$(document).on("click",this.getBuilder().getTargetElementSelector(),function(e){return _this2.advance(e.target)})}},{key:"onUnbindAdvanceHandler",value:function onUnbindAdvanceHandler(){var _this3=this;$(document).off("click",this.getBuilder().getTargetElementSelector(),function(e){return _this3.advance(e.target)})}},{key:"onAdvance",value:function onAdvance(data){var _this4=this;null===this.waitDuration?this.next():setTimeout(function(){return _this4.next()},this.waitDuration)}}]),ClickAdvanceStrategy}(require("./AbstractAdvanceStrategy").AbstractAdvanceStrategy);exports.ClickAdvanceStrategy=ClickAdvanceStrategy},{"./AbstractAdvanceStrategy":72}],75:[function(require,module,exports){"use strict";var _AbstractAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventAdvanceStrategy=void 0;var EventAdvanceStrategy=function(_AbstractAdvanceStrat){function EventAdvanceStrategy(eventName,cssSelector,handler){var _this;return _classCallCheck(this,EventAdvanceStrategy),(_this=_possibleConstructorReturn(this,_getPrototypeOf(EventAdvanceStrategy).call(this))).eventName=eventName,_this.cssSelector=cssSelector,_this.handler=handler,_this}return _inherits(EventAdvanceStrategy,_AbstractAdvanceStrat),_createClass(EventAdvanceStrategy,[{key:"onBindAdvanceHandler",value:function onBindAdvanceHandler(){var _this2=this;$(document).on(this.eventName,this.cssSelector,function(e){return _this2.advance(e)})}},{key:"onUnbindAdvanceHandler",value:function onUnbindAdvanceHandler(){var _this3=this;$(document).off(this.eventName,this.cssSelector,function(e){return _this3.advance(e)})}},{key:"onAdvance",value:function onAdvance(event){this.handler&&this.handler(event,this.getBuilder())&&this.next()}}]),EventAdvanceStrategy}(require("./AbstractAdvanceStrategy").AbstractAdvanceStrategy);exports.EventAdvanceStrategy=EventAdvanceStrategy},{"./AbstractAdvanceStrategy":72}],76:[function(require,module,exports){"use strict";var _AbstractAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValueEqualsAdvanceStrategy=void 0;var ValueEqualsAdvanceStrategy=function(_AbstractAdvanceStrat){function ValueEqualsAdvanceStrategy(){var _this;_classCallCheck(this,ValueEqualsAdvanceStrategy),_this=_possibleConstructorReturn(this,_getPrototypeOf(ValueEqualsAdvanceStrategy).call(this));for(var _len=arguments.length,validValues=new Array(_len),_key=0;_key<_len;_key++)validValues[_key]=arguments[_key];return _this.validValues=validValues,_this}return _inherits(ValueEqualsAdvanceStrategy,_AbstractAdvanceStrat),_createClass(ValueEqualsAdvanceStrategy,[{key:"onBindAdvanceHandler",value:function onBindAdvanceHandler(){var _this2=this;$(document).on("change",this.getInputSelector(),function(e){return _this2.advance(e.target)})}},{key:"onUnbindAdvanceHandler",value:function onUnbindAdvanceHandler(){var _this3=this;$(document).off("change",this.getInputSelector(),function(e){return _this3.advance(e.target)})}},{key:"onAdvance",value:function onAdvance(el){var val=$(el).val();this.validValues.includes(val)&&this.next()}},{key:"getInputSelector",value:function getInputSelector(){var targetSelector=this.getBuilder().getTargetElementSelector();return"".concat(targetSelector,":input, ").concat(targetSelector," :input")}}]),ValueEqualsAdvanceStrategy}(require("./AbstractAdvanceStrategy").AbstractAdvanceStrategy);exports.ValueEqualsAdvanceStrategy=ValueEqualsAdvanceStrategy},{"./AbstractAdvanceStrategy":72}],77:[function(require,module,exports){"use strict";var _AbstractAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractLightboxAdvanceStrategy=void 0;var AbstractLightboxAdvanceStrategy=function(_AbstractAdvanceStrat){function AbstractLightboxAdvanceStrategy(){var _this,whenVisible=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return _classCallCheck(this,AbstractLightboxAdvanceStrategy),(_this=_possibleConstructorReturn(this,_getPrototypeOf(AbstractLightboxAdvanceStrategy).call(this))).eventType=(whenVisible?_this.getLightboxOpenedEventType():_this.getLightboxClosedEventType()).toString(),_this}return _inherits(AbstractLightboxAdvanceStrategy,_AbstractAdvanceStrat),_createClass(AbstractLightboxAdvanceStrategy,[{key:"onBindAdvanceHandler",value:function onBindAdvanceHandler(){var _this2=this;$(document).on(this.eventType,function(){return _this2.advance()})}},{key:"onUnbindAdvanceHandler",value:function onUnbindAdvanceHandler(){var _this3=this;$(document).off(this.eventType,function(){return _this3.advance()})}},{key:"onAdvance",value:function onAdvance(data){this.next()}}]),AbstractLightboxAdvanceStrategy}(require("../AbstractAdvanceStrategy").AbstractAdvanceStrategy);exports.AbstractLightboxAdvanceStrategy=AbstractLightboxAdvanceStrategy},{"../AbstractAdvanceStrategy":72}],78:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevToolsVisibleAdvanceStrategy=void 0;var _EventType=require("../../../common/EventType"),_AbstractLightboxAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DevToolsVisibleAdvanceStrategy=function(_AbstractLightboxAdva){function DevToolsVisibleAdvanceStrategy(){return _classCallCheck(this,DevToolsVisibleAdvanceStrategy),_possibleConstructorReturn(this,_getPrototypeOf(DevToolsVisibleAdvanceStrategy).apply(this,arguments))}return _inherits(DevToolsVisibleAdvanceStrategy,_AbstractLightboxAdva),_createClass(DevToolsVisibleAdvanceStrategy,[{key:"getLightboxOpenedEventType",value:function getLightboxOpenedEventType(){return _EventType.EventType.devToolsOpened}},{key:"getLightboxClosedEventType",value:function getLightboxClosedEventType(){return _EventType.EventType.devToolsClosed}}]),DevToolsVisibleAdvanceStrategy}(require("./AbstractLightboxAdvanceStrategy").AbstractLightboxAdvanceStrategy);exports.DevToolsVisibleAdvanceStrategy=DevToolsVisibleAdvanceStrategy},{"../../../common/EventType":10,"./AbstractLightboxAdvanceStrategy":77}],79:[function(require,module,exports){"use strict";var _AbstractAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractTabStepAdvanceStrategy=void 0;var AbstractTabStepAdvanceStrategy=function(_AbstractAdvanceStrat){function AbstractTabStepAdvanceStrategy(){return _classCallCheck(this,AbstractTabStepAdvanceStrategy),_possibleConstructorReturn(this,_getPrototypeOf(AbstractTabStepAdvanceStrategy).apply(this,arguments))}return _inherits(AbstractTabStepAdvanceStrategy,_AbstractAdvanceStrat),_createClass(AbstractTabStepAdvanceStrategy,[{key:"onBindAdvanceHandler",value:function onBindAdvanceHandler(){var _this=this;$(document).on(this.getEventType().toString(),function(e,tabKey){return _this.advance(tabKey)})}},{key:"onUnbindAdvanceHandler",value:function onUnbindAdvanceHandler(){var _this2=this;$(document).off(this.getEventType().toString(),function(e,tabKey){return _this2.advance(tabKey)})}},{key:"onAdvance",value:function onAdvance(tabKey){this.isTargetTabKey(tabKey)&&this.next()}}]),AbstractTabStepAdvanceStrategy}(require("../AbstractAdvanceStrategy").AbstractAdvanceStrategy);exports.AbstractTabStepAdvanceStrategy=AbstractTabStepAdvanceStrategy},{"../AbstractAdvanceStrategy":72}],80:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MainTabStepAdvanceStrategy=void 0;var _EventType=require("../../../common/EventType"),_AbstractTabStepAdvanceStrategy;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MainTabStepAdvanceStrategy=function(_AbstractTabStepAdvan){function MainTabStepAdvanceStrategy(){return _classCallCheck(this,MainTabStepAdvanceStrategy),_possibleConstructorReturn(this,_getPrototypeOf(MainTabStepAdvanceStrategy).apply(this,arguments))}return _inherits(MainTabStepAdvanceStrategy,_AbstractTabStepAdvan),_createClass(MainTabStepAdvanceStrategy,[{key:"getEventType",value:function getEventType(){return _EventType.EventType.tabActivated}},{key:"isTargetTabKey",value:function isTargetTabKey(tabKey){return tabKey===this.getBuilder().getMainTabKey()}}]),MainTabStepAdvanceStrategy}(require("./AbstractTabStepAdvanceStrategy").AbstractTabStepAdvanceStrategy);exports.MainTabStepAdvanceStrategy=MainTabStepAdvanceStrategy},{"../../../common/EventType":10,"./AbstractTabStepAdvanceStrategy":79}],81:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractStepBuilder=void 0;var _TetherOptions=require("../../tether-options/TetherOptions"),_Utils=require("../../../common/Utils"),_TypeGuard=require("../../utils/TypeGuard"),_RedirectBackCommand=require("../../command/redirect/RedirectBackCommand"),_RedirectCommand=require("../../command/redirect/RedirectCommand"),_PageTypeUtils=require("../../../common/PageTypeUtils"),_DesiredStateCheckerCommand=require("../../command/DesiredStateCheckerCommand");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var AbstractStepBuilder=function(){function AbstractStepBuilder(){_classCallCheck(this,AbstractStepBuilder),this.tour=null,this.step=null,this.title="",this.content="",this.stepIndex=0,this.tourBuilder=null,this.first=!1,this.last=!1,this.builtOptions=null,this.advanceStrategy=null,this.tetherOption=null,this.eventsBound=!1,this.beforeShowCommands=[],this.desiredStateCheckerCommands=[],this.eventListeners=[],this.scrollEnabled=!0,this.skippable=!0,this.completable=!1,this.prevable=!0,this.nextable=!0,this.rejectedBeforeShow=!1,this.requiredSteps=[],this.requiredStepsPrepared=!1,this.addBeforeShowCommand(new _DesiredStateCheckerCommand.DesiredStateCheckerCommand),this.addBeforeShowCommand(new _RedirectBackCommand.RedirectBackCommand)}return _createClass(AbstractStepBuilder,[{key:"build",value:function build(){var _this=this;if(null===this.tour)throw"The tour this step belongs to must be set by calling setTour()";return this.tour.on("cancel",function(){return _this.unbindEvents()}),this.builtOptions={id:this.getStepId(),classes:"wpcc-guide-step",buttons:this.getButtons(),text:this.getStepContent(),title:this.getPreparedTitle(),beforeShowPromise:function beforeShowPromise(){return _this.getBeforeShowPromise(_this)},scrollToHandler:function scrollToHandler(){},when:{show:function show(){return _this.onShow()},hide:function hide(){return _this.onHide()},cancel:function cancel(){return _this.onCancel()}},attachTo:{element:this.getTargetElementSelector(),on:"bottom"}},this.builtOptions}},{key:"applyTetherOptions",value:function applyTetherOptions(){if(null!==this.tetherOption){var value=_TetherOptions.TetherOptions.get(this.tetherOption);null!==value&&null!==this.getStep()&&(value.target=this.getTargetElement(),this.getStep().updateStepOptions({tetherOptions:value}))}}},{key:"executeBeforeShowCommands",value:function executeBeforeShowCommands(resolve,reject){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.beforeShowCommands[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var command=_step.value;if(this.injectDependencies(command,resolve,reject).execute(),this.rejectedBeforeShow)break}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"executeDesiredStateCheckerCommands",value:function executeDesiredStateCheckerCommands(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=this.desiredStateCheckerCommands[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var command=_step2.value;if(!this.injectDependencies(command,null,null).execute())return!1}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return!0}},{key:"resetStep",value:function resetStep(){return this.getStep().updateStepOptions({text:this.getBuiltStepOptions().text}),this.unbindEvents(),this}},{key:"injectDependencies",value:function injectDependencies(obj,resolve,reject){_TypeGuard.TypeGuard.isNeedStepBuilder(obj)&&obj.setBuilder(this),_TypeGuard.TypeGuard.isNeedStepInfo(obj)&&obj.setStepInfo(this.getTourBuilder().getTourId(),this.getStepId()),_TypeGuard.TypeGuard.isPromiseHandler(obj)&&null!==resolve&&null!==reject&&obj.setPromiseCallbacks(resolve,reject);var mThis=this;return _TypeGuard.TypeGuard.isNeedMainTabKey(obj)&&_TypeGuard.TypeGuard.isHasMainTabKey(this)&&obj.setMainTabKey(this),_TypeGuard.TypeGuard.isNeedOptionsBoxTabKey(obj)&&_TypeGuard.TypeGuard.isHasOptionsBoxTabKey(this)&&obj.setOptionsBoxTabKey(this),_TypeGuard.TypeGuard.isNeedSettingKey(obj)&&_TypeGuard.TypeGuard.isHasSettingKey(this)&&obj.setSettingKey(this.getSettingKey()),obj}},{key:"onClickNext",value:function onClickNext(){this.isValid()&&(this.resetStep(),this.tour.next())}},{key:"onClickSkip",value:function onClickSkip(){this.resetStep(),this.tour.next()}},{key:"onClickPrevious",value:function onClickPrevious(){this.resetStep(),this.checkPrevStepAvailability()&&this.tour.back()}},{key:"onClickComplete",value:function onClickComplete(){this.isValid()&&(this.resetStep(),this.tour.complete())}},{key:"onShow",value:function onShow(){if($(".shepherd-target-marker").remove(),this.bindEvents(),this.isStepVisible());else{console.error("Step's tooltip is not visible. Canceling the tour to make the page interactable...",this.getStep());try{this.getStep().getTour().cancel()}catch(e){console.log(e)}}}},{key:"onBeforeShow",value:function onBeforeShow(builder,resolve,reject){if(this.rejectedBeforeShow=!1,this.executeBeforeShowCommands(resolve,reject),this.rejectedBeforeShow)return!0;if(this.applyTetherOptions(),this.isScrollEnabled()){var result=this.onScroll(resolve,reject);if(null!==result)return result}return!1}},{key:"onScroll",value:function onScroll(resolve,reject){var targetPos=this.getTargetScrollPos();return targetPos?($("html, body").animate({scrollTop:targetPos},"slow",function(){resolve()}),!0):null}},{key:"onHide",value:function onHide(){}},{key:"onCancel",value:function onCancel(){this.resetStep()}},{key:"bindEvents",value:function bindEvents(){if(!this.eventsBound)return this.eventsBound=!0,this.bindAdvanceHandler(),this.bindEventListeners(),this}},{key:"unbindEvents",value:function unbindEvents(){if(this.eventsBound)return this.eventsBound=!1,this.unbindAdvanceHandler(),this.unbindEventListeners(),this}},{key:"bindAdvanceHandler",value:function bindAdvanceHandler(){return null!==this.getAdvanceStrategy()&&this.getAdvanceStrategy().setBuilder(this).bindAdvanceHandler(),this}},{key:"unbindAdvanceHandler",value:function unbindAdvanceHandler(){return null!==this.getAdvanceStrategy()&&this.getAdvanceStrategy().unbindAdvanceHandler(),this}},{key:"bindEventListeners",value:function bindEventListeners(){var _this2=this;return this.eventListeners.forEach(function(listener){return listener.setBuilder(_this2).bindListener()}),this}},{key:"unbindEventListeners",value:function unbindEventListeners(){var _this3=this;return this.eventListeners.forEach(function(listener){return listener.setBuilder(_this3).unbindListener()}),this}},{key:"setStepIndex",value:function setStepIndex(index){return this.stepIndex=index,this}},{key:"getStepIndex",value:function getStepIndex(){return this.stepIndex}},{key:"getStepId",value:function getStepId(){return"".concat(this.stepIndex)}},{key:"setTitle",value:function setTitle(title){return this.title=title,this}},{key:"getPreparedTitle",value:function getPreparedTitle(){return(this.title||"").length?this.title:this.getDefaultTitle()}},{key:"setContent",value:function setContent(content){return this.content=content,this}},{key:"setDetailsFromCustomKey",value:function setDetailsFromCustomKey(key){var info=window.wpcc.custom_step_info[key]||{};return info.name&&this.setTitle(info.name),info.desc&&this.setContent(info.desc),this}},{key:"isFirst",value:function isFirst(){return this.first}},{key:"setFirst",value:function setFirst(){return this.first=!0,this}},{key:"isLast",value:function isLast(){return this.last}},{key:"setLast",value:function setLast(){return this.last=!0,this}},{key:"getAdvanceStrategy",value:function getAdvanceStrategy(){return this.advanceStrategy}},{key:"setAdvanceStrategy",value:function setAdvanceStrategy(strategy){return this.advanceStrategy=strategy,this}},{key:"setTour",value:function setTour(tour){return this.tour=tour,this}},{key:"setTourBuilder",value:function setTourBuilder(tourBuilder){return this.tourBuilder=tourBuilder,this}},{key:"getTourBuilder",value:function getTourBuilder(){return this.tourBuilder}},{key:"setStep",value:function setStep(step){return this.step=step,this}},{key:"getStep",value:function getStep(){return this.step}},{key:"setSkippable",value:function setSkippable(skippable){return this.skippable=skippable,this}},{key:"setCompletable",value:function setCompletable(completable){return this.completable=completable,this}},{key:"setPrevable",value:function setPrevable(prevable){return this.prevable=prevable,this}},{key:"setNextable",value:function setNextable(nextable){return this.nextable=nextable,this}},{key:"rejectBeforeShow",value:function rejectBeforeShow(){return this.rejectedBeforeShow=!0,this}},{key:"getRedirectCommand",value:function getRedirectCommand(){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=this.beforeShowCommands[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var cmd=_step3.value;if(cmd instanceof _RedirectCommand.RedirectCommand)return cmd}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return null}},{key:"getSummaryAsHtml",value:function getSummaryAsHtml(){var redirectCommand=this.getRedirectCommand(),redirectPage=redirectCommand?redirectCommand.getTargetPage():null,pageLink="",pageType="",redirectable="";if(null!==redirectPage){var urlPath=redirectPage.getPageUrlPath(),anchorAttributes=urlPath?'target="_blank" href="'.concat(redirectPage.getPageUrlPath(),'"'):'role="button"';pageType=redirectPage.getPageType()?'data-page-type="'.concat(redirectPage.getPageType(),'"'):"",redirectable=urlPath?'data-redirectable="1"':"",pageLink='<span class="on-page"><a '.concat(anchorAttributes,">").concat(redirectPage.getPageTitle(),"</a></span>")}var title=(this.title||"").length?'<span class="step-title">'.concat(this.title,":</span>"):"",desc=(this.content||"").length?'<span class="step-desc">'.concat(this.content,"</span>"):"",stepIndex=this.getTourBuilder()?'<span class="step-index">'.concat(this.getStepIndex()+1,"/").concat(this.getTourBuilder().getStepCount(),"</span>"):"",stepDetails=desc.length||title.length||pageLink.length?'<div class="step-details">'.concat(pageLink," ").concat(title," ").concat(desc," ").concat(stepIndex,"</div>"):"";return'\n            <div class="step-summary" data-id="'.concat(this.getStepId(),'">\n                <div class="start-step" title="').concat(window.wpcc.start_from_this_step,'" ').concat(redirectable," ").concat(pageType,'>\n                    <div class="start-button">\n                        <span class="dashicons dashicons-controls-play"></span>\n                    </div>\n                </div> \n                ').concat(stepDetails,"\n            </div>\n        ").trim()}},{key:"getBuiltStepOptions",value:function getBuiltStepOptions(){return this.builtOptions}},{key:"setTetherOption",value:function setTetherOption(option){return this.tetherOption=option,this}},{key:"isValid",value:function isValid(){return!0===this.isInDesiredState(!0)}},{key:"addBeforeShowCommand",value:function addBeforeShowCommand(){var _this$beforeShowComma;return(_this$beforeShowComma=this.beforeShowCommands).push.apply(_this$beforeShowComma,arguments),this}},{key:"addDesiredStateCheckerCommand",value:function addDesiredStateCheckerCommand(){var _this$desiredStateChe;return(_this$desiredStateChe=this.desiredStateCheckerCommands).push.apply(_this$desiredStateChe,arguments),this}},{key:"addEventListener",value:function addEventListener(){var _this$eventListeners;return(_this$eventListeners=this.eventListeners).push.apply(_this$eventListeners,arguments),this}},{key:"addRequiredStep",value:function addRequiredStep(){var _this$requiredSteps;return(_this$requiredSteps=this.requiredSteps).push.apply(_this$requiredSteps,arguments),this.requiredStepsPrepared=!1,this}},{key:"getRequiredSteps",value:function getRequiredSteps(){return this.requiredStepsPrepared||(this.requiredSteps.sort(function(a,b){return a.getStepIndex()<b.getStepIndex()?-1:1}),this.requiredStepsPrepared=!0),this.requiredSteps}},{key:"isInDesiredState",value:function isInDesiredState(argument_0){var showErrors=0<arguments.length&&void 0!==argument_0&&argument_0,result,_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=this.getRequiredSteps()[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var step;if(!0!==(result=_step4.value.isInDesiredState(showErrors)))return result}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return!0===this.onIsInDesiredState(showErrors)||this}},{key:"onIsInDesiredState",value:function onIsInDesiredState(argument_0){var showErrors=0<arguments.length&&void 0!==argument_0&&argument_0;if(!this.executeDesiredStateCheckerCommands())return!1;if(_TypeGuard.TypeGuard.isValidatable(this)){var results=this.validate();if(results.length)return showErrors&&this.setErrors(results),!1}return!0}},{key:"getTargetElement",value:function getTargetElement(){return $(this.getTargetElementSelector())}},{key:"getDefaultTitle",value:function getDefaultTitle(){return""}},{key:"enableScroll",value:function enableScroll(enabled){return this.scrollEnabled=enabled,this}},{key:"isScrollEnabled",value:function isScrollEnabled(){return this.scrollEnabled}},{key:"getTargetScrollPos",value:function getTargetScrollPos(){var $targetEl=this.getTargetElement();return null!==$targetEl&&$targetEl.length?Math.max(1,$targetEl.offset().top-$(window).height()/2):null}},{key:"getStepContent",value:function getStepContent(){var content=this.content;return null!==this.getTourBuilder()&&(content+=this.getProgressBar()),content}},{key:"getProgressBar",value:function getProgressBar(){if(!this.getTourBuilder())return"";var totalStepCount=this.getTourBuilder().getStepCount(),currCount=this.getStepIndex()+1,percentage=Math.min(100,100*currCount/totalStepCount);return'\n            <div class="pbar-container" title="'.concat(currCount,"/").concat(totalStepCount,'">\n                <div class="pbar">\n                  <div class="pbar-prog" style="width: ').concat(percentage,'%"></div>\n                </div>\n            </div>\n        ')}},{key:"isStepVisible",value:function isStepVisible(){if(null===this.getStep())return!1;var stepEl=this.getStep().el||null;return stepEl instanceof HTMLElement&&_Utils.Utils.isElementInViewport($(stepEl))}},{key:"checkPrevStepAvailability",value:function checkPrevStepAvailability(){if(this.getStepIndex()<1)return this.setErrors(window.wpcc.no_prev_step),!1;var prevStep,prevStepTargetPage=this.getTourBuilder().getSteps()[this.getStepIndex()-1].getRedirectCommand().getTargetPage(),prevStepPageType=prevStepTargetPage.getPageType(),currPageType;if(prevStepPageType!==_PageTypeUtils.PageTypeUtils.getPageType()&&!prevStepTargetPage.getPageUrlPath()){var redirectBackCookie=_RedirectBackCommand.RedirectBackCommand.getRedirectBackCookie(this.getTourBuilder().getTourId(),(this.getStepIndex()-1).toString());if(!redirectBackCookie||!redirectBackCookie.getRedirectUrl())return this.setErrors(window.wpcc.prev_step_requires_x_page_type.replace("%s",_PageTypeUtils.PageTypeUtils.getPageTypeName(prevStepPageType))),!1}return!0}},{key:"getButtons",value:function getButtons(){var _this4=this,buttons=[];return this.skippable&&buttons.push({text:window.wpcc.skip,action:function action(){return _this4.onClickSkip()},classes:"skip"}),(this.last||this.completable)&&buttons.push({text:window.wpcc.complete,action:function action(){return _this4.onClickComplete()},classes:"complete"}),!this.first&&this.prevable&&buttons.push({text:window.wpcc.previous,action:function action(){return _this4.onClickPrevious()},classes:"prev"}),!this.last&&this.nextable&&buttons.push({text:window.wpcc.next,action:function action(){return _this4.onClickNext()},classes:"next"}),buttons}},{key:"setErrors",value:function setErrors(errors){return"string"==typeof errors&&(errors=[errors]),this.getStep().updateStepOptions({text:_Utils.Utils.getErrorsAsHtml(errors)+this.getBuiltStepOptions().text}),this.repositionTooltip(),this}},{key:"repositionTooltip",value:function repositionTooltip(){if(this.isStepVisible()){var step=this.getStep();step.tooltip&&step.tooltip.position&&step.tooltip.position instanceof Function&&setTimeout(step.tooltip.position)}return this}},{key:"getBeforeShowPromise",value:function getBeforeShowPromise(builder){return new Promise(function(resolve,reject){var handled;builder.onBeforeShow(builder,resolve,reject)||resolve()})}}]),AbstractStepBuilder}();exports.AbstractStepBuilder=AbstractStepBuilder},{"../../../common/PageTypeUtils":15,"../../../common/Utils":21,"../../command/DesiredStateCheckerCommand":90,"../../command/redirect/RedirectBackCommand":103,"../../command/redirect/RedirectCommand":104,"../../tether-options/TetherOptions":148,"../../utils/TypeGuard":149}],82:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevToolsStepBuilder=void 0;var _AbstractStepBuilder2=require("./AbstractStepBuilder"),_DevToolsVariables=require("../../../dev-tools/DevToolsVariables"),_Option=require("../../tether-options/Option"),_OpenDevToolsCommand=require("../../command/dev-tools/OpenDevToolsCommand"),_CloseOptionsBoxCommand=require("../../command/options-box/CloseOptionsBoxCommand"),_FormItemValidator=require("../../../common/validation/form-item/FormItemValidator"),_TabUtils=require("../../../common/TabUtils");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DevToolsStepBuilder=function(_AbstractStepBuilder){function DevToolsStepBuilder(settingKey){var _this,inputGroupIndex=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,DevToolsStepBuilder),(_this=_possibleConstructorReturn(this,_getPrototypeOf(DevToolsStepBuilder).call(this))).innerTargetSelector=null,_this.targetedSettingKey=null,_this.setSetting(settingKey,inputGroupIndex),_this.validator=(new _FormItemValidator.FormItemValidator).setRulePreparer(function(rule){return rule.setContainerSelector(_this.getContainerSelector()).setCssSelector(_this.innerTargetSelector)}),_this.setTetherOption(_Option.Option.BOTTOM_LEFT__TOP_LEFT),_this.addBeforeShowCommand(new _CloseOptionsBoxCommand.CloseOptionsBoxCommand,new _OpenDevToolsCommand.OpenDevToolsCommand),_this.enableScroll(!1),_this}return _inherits(DevToolsStepBuilder,_AbstractStepBuilder),_createClass(DevToolsStepBuilder,[{key:"targetSettingKey",value:function targetSettingKey(key,argument_1){var targetLabel=1<arguments.length&&void 0!==argument_1&&argument_1;return this.innerTargetSelector=targetLabel?'label[for="'.concat(key,'"]'):'[name="'.concat(key,'"]'),this.targetedSettingKey=key,this}},{key:"targetInnerItem",value:function targetInnerItem(selector){return this.innerTargetSelector=selector,this}},{key:"setSetting",value:function setSetting(settingKey,argument_1){var inputGroupIndex=1<arguments.length&&void 0!==argument_1?argument_1:0;return this.settingKey=settingKey,this.inputGroupIndex=inputGroupIndex,this}},{key:"addRule",value:function addRule(){var _this$validator;return(_this$validator=this.validator).addRule.apply(_this$validator,arguments),this}},{key:"validate",value:function validate(){return this.validator.validate()}},{key:"getTargetElementSelector",value:function getTargetElementSelector(){if(null===(this.innerTargetSelector||null))throw"Inner target selector must be set by calling targetInnerItem() or targetSettingKey()";return"".concat(this.getContainerSelector()," ").concat(this.innerTargetSelector)}},{key:"getDevToolsButton",value:function getDevToolsButton(){return $(this.getDevToolsButtonSelector())}},{key:"getMainTabKey",value:function getMainTabKey(){return _TabUtils.TabUtils.getTabKeyForSetting(this.settingKey)}},{key:"getSettingKey",value:function getSettingKey(){return this.targetedSettingKey}},{key:"getDevToolsButtonSelector",value:function getDevToolsButtonSelector(){return'tr[aria-label="'.concat(this.settingKey,'"] .input-group[data-key="').concat(this.inputGroupIndex,'"] .wcc-dev-tools')}},{key:"getContainerSelector",value:function getContainerSelector(){return _DevToolsVariables.DevToolsVariables.getInstance().lightboxDevToolsContentSelector}}]),DevToolsStepBuilder}(_AbstractStepBuilder2.AbstractStepBuilder);exports.DevToolsStepBuilder=DevToolsStepBuilder},{"../../../common/TabUtils":19,"../../../common/validation/form-item/FormItemValidator":37,"../../../dev-tools/DevToolsVariables":53,"../../command/dev-tools/OpenDevToolsCommand":100,"../../command/options-box/CloseOptionsBoxCommand":102,"../../tether-options/Option":147,"./AbstractStepBuilder":81}],83:[function(require,module,exports){"use strict";var _AbstractStepBuilder2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralStepBuilder=void 0;var GeneralStepBuilder=function(_AbstractStepBuilder){function GeneralStepBuilder(targetElementSelector){var _this;return _classCallCheck(this,GeneralStepBuilder),(_this=_possibleConstructorReturn(this,_getPrototypeOf(GeneralStepBuilder).call(this))).targetElementSelector=targetElementSelector,_this}return _inherits(GeneralStepBuilder,_AbstractStepBuilder),_createClass(GeneralStepBuilder,[{key:"getTargetElementSelector",value:function getTargetElementSelector(){return this.targetElementSelector}}]),GeneralStepBuilder}(require("./AbstractStepBuilder").AbstractStepBuilder);exports.GeneralStepBuilder=GeneralStepBuilder},{"./AbstractStepBuilder":81}],84:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuLinkStepBuilder=void 0;var _AbstractStepBuilder2=require("./AbstractStepBuilder"),_PageTypeUtils=require("../../../common/PageTypeUtils"),_Option=require("../../tether-options/Option"),_ShowAdminMenuCommand=require("../../command/ShowAdminMenuCommand");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MenuLinkStepBuilder=function(_AbstractStepBuilder){function MenuLinkStepBuilder(pageType){var _this;return _classCallCheck(this,MenuLinkStepBuilder),(_this=_possibleConstructorReturn(this,_getPrototypeOf(MenuLinkStepBuilder).call(this))).pageType=pageType,_this.addBeforeShowCommand(new _ShowAdminMenuCommand.ShowAdminMenuCommand),_this.setTetherOption(_Option.Option.MIDDLE_RIGHT__MIDDLE_LEFT),_this}return _inherits(MenuLinkStepBuilder,_AbstractStepBuilder),_createClass(MenuLinkStepBuilder,[{key:"getTargetElementSelector",value:function getTargetElementSelector(){return _PageTypeUtils.PageTypeUtils.getPageTypeMenuLinkSelector(this.pageType)}}]),MenuLinkStepBuilder}(_AbstractStepBuilder2.AbstractStepBuilder);exports.MenuLinkStepBuilder=MenuLinkStepBuilder},{"../../../common/PageTypeUtils":15,"../../command/ShowAdminMenuCommand":92,"../../tether-options/Option":147,"./AbstractStepBuilder":81}],85:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractSettingStepBuilder=void 0;var _AbstractStepBuilder2=require("../AbstractStepBuilder"),_FormItemValidator=require("../../../../common/validation/form-item/FormItemValidator"),_Option=require("../../../tether-options/Option"),_SetSettingStepTooltipPositionCommand=require("../../../command/SetSettingStepTooltipPositionCommand");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var AbstractSettingStepBuilder=function(_AbstractStepBuilder){function AbstractSettingStepBuilder(targetSettingKey){var _this;return _classCallCheck(this,AbstractSettingStepBuilder),(_this=_possibleConstructorReturn(this,_getPrototypeOf(AbstractSettingStepBuilder).call(this))).innerTargetSelector=null,_this.groupIndex=null,_this.innerKey=null,_this.selector=null,_this.targetSettingKey=targetSettingKey,_this.validator=(new _FormItemValidator.FormItemValidator).setRulePreparer(function(rule){return rule.setSettingKey(_this.targetSettingKey).setContainerSelector(_this.getSettingContainerSelector()).setGroupIndex(_this.groupIndex).setInnerKey(_this.innerKey).setCssSelector(_this.selector)}),_this.setTetherOption(_Option.Option.BOTTOM_LEFT__TOP_LEFT),_this.addBeforeShowCommand(new _SetSettingStepTooltipPositionCommand.SetSettingStepTooltipPositionCommand),_this}return _inherits(AbstractSettingStepBuilder,_AbstractStepBuilder),_createClass(AbstractSettingStepBuilder,[{key:"targetInnerKey",value:function targetInnerKey(key,argument_1){var groupIndex=1<arguments.length&&void 0!==argument_1?argument_1:0;return this.innerTargetSelector="".concat(this.getInputGroupSelector(groupIndex),' [name$="[').concat(key,']"]'),this.groupIndex=groupIndex,this.innerKey=key,this}},{key:"targetInnerItem",value:function targetInnerItem(selector,argument_1){var groupIndex=1<arguments.length&&void 0!==argument_1?argument_1:0;return this.innerTargetSelector="".concat(this.getInputGroupSelector(groupIndex)," ").concat(selector),this.groupIndex=groupIndex,this.selector=selector,this}},{key:"isMultipleSettingTargeted",value:function isMultipleSettingTargeted(){var selector="".concat(this.getTargetElementSelector()," .actions .wcc-add-new");return 0!==$(selector).length}},{key:"addRule",value:function addRule(){var _this$validator;return(_this$validator=this.validator).addRule.apply(_this$validator,arguments),this}},{key:"validate",value:function validate(){return this.validator.validate()}},{key:"getTargetElementSelector",value:function getTargetElementSelector(){var selector=this.getSettingContainerSelector();return null!==this.innerTargetSelector&&(selector+=" ".concat(this.innerTargetSelector)),selector}},{key:"getDefaultTitle",value:function getDefaultTitle(){return $('label[for="'.concat(this.targetSettingKey,'"]')).text()}},{key:"getSettingContainerSelector",value:function getSettingContainerSelector(){return'tr[aria-label="'.concat(this.targetSettingKey,'"]')}},{key:"getInputGroupSelector",value:function getInputGroupSelector(argument_0){var groupIndex=0<arguments.length&&void 0!==argument_0?argument_0:0;return null===groupIndex?"":'.input-group[data-key="'.concat(groupIndex,'"]')}},{key:"getSettingKey",value:function getSettingKey(){return this.targetSettingKey}}]),AbstractSettingStepBuilder}(_AbstractStepBuilder2.AbstractStepBuilder);exports.AbstractSettingStepBuilder=AbstractSettingStepBuilder},{"../../../../common/validation/form-item/FormItemValidator":37,"../../../command/SetSettingStepTooltipPositionCommand":91,"../../../tether-options/Option":147,"../AbstractStepBuilder":81}],86:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingStepBuilder=void 0;var _ActivateMainTabCommand=require("../../../command/tab/ActivateMainTabCommand"),_CloseDevToolsCommand=require("../../../command/dev-tools/CloseDevToolsCommand"),_CloseOptionsBoxCommand=require("../../../command/options-box/CloseOptionsBoxCommand"),_AbstractSettingStepBuilder=require("./AbstractSettingStepBuilder"),_TabUtils=require("../../../../common/TabUtils");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SettingStepBuilder=function(_AbstractSettingStepB){function SettingStepBuilder(settingKey){var _this;return _classCallCheck(this,SettingStepBuilder),(_this=_possibleConstructorReturn(this,_getPrototypeOf(SettingStepBuilder).call(this,settingKey))).addBeforeShowCommand(new _CloseDevToolsCommand.CloseDevToolsCommand,new _CloseOptionsBoxCommand.CloseOptionsBoxCommand,new _ActivateMainTabCommand.ActivateMainTabCommand),_this}return _inherits(SettingStepBuilder,_AbstractSettingStepB),_createClass(SettingStepBuilder,[{key:"getMainTabKey",value:function getMainTabKey(){return _TabUtils.TabUtils.getTabKeyForSetting(this.getSettingKey())}}]),SettingStepBuilder}(_AbstractSettingStepBuilder.AbstractSettingStepBuilder);exports.SettingStepBuilder=SettingStepBuilder},{"../../../../common/TabUtils":19,"../../../command/dev-tools/CloseDevToolsCommand":99,"../../../command/options-box/CloseOptionsBoxCommand":102,"../../../command/tab/ActivateMainTabCommand":106,"./AbstractSettingStepBuilder":85}],87:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractTabStepBuilder=void 0;var _AbstractStepBuilder2=require("../AbstractStepBuilder"),_CloseDevToolsCommand=require("../../../command/dev-tools/CloseDevToolsCommand"),_TabAndNavigationHandler=require("../../../../common/TabAndNavigationHandler");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var AbstractTabStepBuilder=function(_AbstractStepBuilder){function AbstractTabStepBuilder(tabKey){var _this;return _classCallCheck(this,AbstractTabStepBuilder),(_this=_possibleConstructorReturn(this,_getPrototypeOf(AbstractTabStepBuilder).call(this))).validate=!1,_this.mustBeEnabled=!1,_this.tabKey=tabKey,_this.setAdvanceStrategy(_this.createTabStepAdvanceStrategy()),_this.addBeforeShowCommand(new _CloseDevToolsCommand.CloseDevToolsCommand),_this}return _inherits(AbstractTabStepBuilder,_AbstractStepBuilder),_createClass(AbstractTabStepBuilder,[{key:"setMustBeEnabled",value:function setMustBeEnabled(enabled){return this.mustBeEnabled=enabled,this.validate=!0,this}},{key:"isValid",value:function isValid(){return!!this.onIsInDesiredState()||(this.setErrors(this.mustBeEnabled?window.wpcc.must_enable_tab_by_clicking:window.wpcc.must_not_enable_tab),!1)}},{key:"build",value:function build(){var options=_get(_getPrototypeOf(AbstractTabStepBuilder.prototype),"build",this).call(this);return options.tetherOptions={offset:"-10px 0"},options}},{key:"onIsInDesiredState",value:function onIsInDesiredState(argument_0){var showErrors=0<arguments.length&&void 0!==argument_0&&argument_0;return _get(_getPrototypeOf(AbstractTabStepBuilder.prototype),"onIsInDesiredState",this).call(this,showErrors)&&(!this.validate||this.mustBeEnabled===this.isTabActive())}},{key:"getTargetElementSelector",value:function getTargetElementSelector(){return'.nav-tab-wrapper > [data-tab="#'.concat(this.tabKey,'"]')}},{key:"isTabActive",value:function isTabActive(){return _TabAndNavigationHandler.TabAndNavigationHandler.getInstance().isTabActive(this.getTabKey())}},{key:"getDefaultTitle",value:function getDefaultTitle(){return window.wpcc.enable_x_tab.replace("%s",$(this.getTargetElementSelector()).text())}},{key:"getTabKey",value:function getTabKey(){return this.tabKey}}]),AbstractTabStepBuilder}(_AbstractStepBuilder2.AbstractStepBuilder);exports.AbstractTabStepBuilder=AbstractTabStepBuilder},{"../../../../common/TabAndNavigationHandler":18,"../../../command/dev-tools/CloseDevToolsCommand":99,"../AbstractStepBuilder":81}],88:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MainTabStepBuilder=void 0;var _AbstractTabStepBuilder=require("./AbstractTabStepBuilder"),_MainTabStepAdvanceStrategy=require("../../../advance-strategy/tab/MainTabStepAdvanceStrategy"),_CloseOptionsBoxCommand=require("../../../command/options-box/CloseOptionsBoxCommand");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MainTabStepBuilder=function(_AbstractTabStepBuild){function MainTabStepBuilder(tabKey){var _this;return _classCallCheck(this,MainTabStepBuilder),(_this=_possibleConstructorReturn(this,_getPrototypeOf(MainTabStepBuilder).call(this,tabKey))).addBeforeShowCommand(new _CloseOptionsBoxCommand.CloseOptionsBoxCommand),_this}return _inherits(MainTabStepBuilder,_AbstractTabStepBuild),_createClass(MainTabStepBuilder,[{key:"createTabStepAdvanceStrategy",value:function createTabStepAdvanceStrategy(){return new _MainTabStepAdvanceStrategy.MainTabStepAdvanceStrategy}},{key:"getMainTabKey",value:function getMainTabKey(){return this.getTabKey()}}]),MainTabStepBuilder}(_AbstractTabStepBuilder.AbstractTabStepBuilder);exports.MainTabStepBuilder=MainTabStepBuilder},{"../../../advance-strategy/tab/MainTabStepAdvanceStrategy":80,"../../../command/options-box/CloseOptionsBoxCommand":102,"./AbstractTabStepBuilder":87}],89:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TourBuilder=void 0;var _shepherd=_interopRequireDefault(require("shepherd.js")),_TabAndNavigationHandler=require("../../../common/TabAndNavigationHandler"),_CookieService=require("../../cookies/CookieService"),_RedirectCommand=require("../../command/redirect/RedirectCommand");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TourBuilder=function(){function TourBuilder(){var tourName=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",tourId=1<arguments.length?arguments[1]:void 0,tourDescription=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,TourBuilder),this.stepBuilders=[],this.tourName="",this.tourDescription=null,this.targetPage=null,this.tour=null,this.environmentChanged=!1,this.tourName=tourName,this.tourId=tourId,this.tourDescription=tourDescription}return _createClass(TourBuilder,[{key:"addStep",value:function addStep(){for(var _this=this,currentIndex=this.stepBuilders.length-1,_len=arguments.length,step=new Array(_len),_key=0;_key<_len;_key++)step[_key]=arguments[_key];return step.forEach(function(s){s.setStepIndex(++currentIndex).setTourBuilder(_this),null!==_this.targetPage&&s.addBeforeShowCommand(new _RedirectCommand.RedirectCommand(_this.targetPage)),_this.stepBuilders.push(s)}),this}},{key:"setPage",value:function setPage(targetPage){return this.targetPage=targetPage,this}},{key:"build",value:function build(argument_0){var _this2=this,fresh;if(!(0<arguments.length&&void 0!==argument_0&&argument_0)&&null!==this.tour)return this.tour;this.tour=new _shepherd.default.Tour({tourName:this.tourName,defaultStepOptions:{classes:"wpcc-guide",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0},modalOverlayOpeningPadding:12},keyboardNavigation:!1,useModalOverlay:782<$(window).width()}),this.tour.on("start",function(){return _this2.onTourStart()}),this.tour.on("complete",function(){return _this2.onTourComplete()}),this.tour.on("cancel",function(){return _this2.onTourCanceled()}),this.tour.on("hide",function(){return _this2.onTourEnd()}),this.tour.on("show",function(data){return _this2.onShowStep(data)});for(var stepCount=this.getStepCount(),stepBuilder,step,i=0;i<stepCount;i++)stepBuilder=this.stepBuilders[i],i+1===stepCount&&stepBuilder.setLast(),0===i&&stepBuilder.setFirst(),stepBuilder.setTour(this.tour),step=this.tour.addStep(stepBuilder.build()),stepBuilder.setStep(step);return this.tour}},{key:"onTourStart",value:function onTourStart(){this.prepareEnvironment()}},{key:"onTourEnd",value:function onTourEnd(){_CookieService.CookieService.getInstance().removeTourCookies(this.tourId),this.revertEnvironmentToOriginal()}},{key:"onTourComplete",value:function onTourComplete(){_CookieService.CookieService.getInstance().removeTourCookies(this.tourId),this.revertEnvironmentToOriginal()}},{key:"onTourCanceled",value:function onTourCanceled(){_CookieService.CookieService.getInstance().removeTourCookies(this.tourId),this.revertEnvironmentToOriginal()}},{key:"onShowStep",value:function onShowStep(data){this.prepareEnvironment()}},{key:"prepareEnvironment",value:function prepareEnvironment(){this.environmentChanged||(this.environmentChanged=!0,_TabAndNavigationHandler.TabAndNavigationHandler.getInstance().disableFixing(!0))}},{key:"revertEnvironmentToOriginal",value:function revertEnvironmentToOriginal(){this.environmentChanged&&(this.environmentChanged=!1,_TabAndNavigationHandler.TabAndNavigationHandler.getInstance().disableFixing(!1))}},{key:"getTourId",value:function getTourId(){return this.tourId}},{key:"getTourName",value:function getTourName(){return this.tourName}},{key:"getTourDescription",value:function getTourDescription(){return this.tourDescription}},{key:"getTour",value:function getTour(){return this.build()}},{key:"getSteps",value:function getSteps(){return this.stepBuilders}},{key:"getStepCount",value:function getStepCount(){return this.stepBuilders.length}},{key:"getSummaryAsHtml",value:function getSummaryAsHtml(){var stepListItems=this.stepBuilders.map(function(stepBuilder){return'<li class="step-item">'.concat(stepBuilder.getSummaryAsHtml(),"</li>")}),stepList='<ul class="step-list">'.concat(stepListItems.join(""),"</ul>"),tourDesc=this.getTourDescription()?'<div class="tour-desc">'.concat(this.getTourDescription(),"</div>"):"";return'\n            <div class="tour-summary" data-id="'.concat(this.getTourId(),'">\n                <div class="tour-header">\n                    <div class="start-tour" title="').concat(window.wpcc.start_guide,'">\n                        <div class="start-button">\n                            <span class="dashicons dashicons-controls-play"></span>\n                        </div>\n                    </div>\n                    <div class="tour-info">\n                        <div class="tour-title">').concat(this.getTourName(),"</div>\n                        ").concat(tourDesc,'\n                    </div>\n                    <span class="dashicons dashicons-arrow-up-alt2"></span>\n                </div>\n                <div class="tour-steps">\n                    ').concat(stepList,"\n                </div>\n            </div>\n        ").trim()}}]),TourBuilder}();exports.TourBuilder=TourBuilder},{"../../../common/TabAndNavigationHandler":18,"../../command/redirect/RedirectCommand":104,"../../cookies/CookieService":108,"shepherd.js":4}],90:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DesiredStateCheckerCommand=void 0;var DesiredStateCheckerCommand=function(){function DesiredStateCheckerCommand(){_classCallCheck(this,DesiredStateCheckerCommand),this.builder=null,this.resolve=null,this.reject=null}return _createClass(DesiredStateCheckerCommand,[{key:"execute",value:function execute(){if(null===this.builder)throw"Builder must be set for ".concat(DesiredStateCheckerCommand.name,".");var result=this.builder.isInDesiredState(),tour;!0!==result&&result!==this.builder&&(this.reject("The requested step ".concat(this.builder.getTourBuilder().getTourId(),"#").concat(this.builder.getStepIndex()," is not in the desired state. I am going to show the required step instead.")),this.builder.rejectBeforeShow(),this.builder.getTourBuilder().getTour().show(result.getStepIndex()))}},{key:"setBuilder",value:function setBuilder(builder){return this.builder=builder,this}},{key:"setPromiseCallbacks",value:function setPromiseCallbacks(resolve,reject){this.resolve=resolve,this.reject=reject}}]),DesiredStateCheckerCommand}();exports.DesiredStateCheckerCommand=DesiredStateCheckerCommand},{}],91:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SetSettingStepTooltipPositionCommand=void 0;var _AbstractSettingStepBuilder=require("../builder/steps/setting/AbstractSettingStepBuilder"),_Option=require("../tether-options/Option");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SetSettingStepTooltipPositionCommand=function(){function SetSettingStepTooltipPositionCommand(){_classCallCheck(this,SetSettingStepTooltipPositionCommand),this.builder=null}return _createClass(SetSettingStepTooltipPositionCommand,[{key:"execute",value:function execute(){this.builder&&this.builder.isMultipleSettingTargeted()&&this.builder.setTetherOption(_Option.Option.TOP_LEFT__BOTTOM_LEFT)}},{key:"setBuilder",value:function setBuilder(builder){return builder instanceof _AbstractSettingStepBuilder.AbstractSettingStepBuilder&&(this.builder=builder),this}}]),SetSettingStepTooltipPositionCommand}();exports.SetSettingStepTooltipPositionCommand=SetSettingStepTooltipPositionCommand},{"../builder/steps/setting/AbstractSettingStepBuilder":85,"../tether-options/Option":147}],92:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShowAdminMenuCommand=void 0;var ShowAdminMenuCommand=function(){function ShowAdminMenuCommand(){_classCallCheck(this,ShowAdminMenuCommand)}return _createClass(ShowAdminMenuCommand,[{key:"execute",value:function execute(){var $adminMenu=this.getAdminMenu();if(null!==$adminMenu&&!$adminMenu.is(":visible")){var $menuToggle=this.getMenuToggle();null!==$menuToggle&&$menuToggle.is(":visible")&&$menuToggle.trigger("click")}}},{key:"getMenuToggle",value:function getMenuToggle(){var $el=$("#wp-admin-bar-menu-toggle");return $el.length?$el:null}},{key:"getAdminMenu",value:function getAdminMenu(){var $el=$("#adminmenuwrap");return $el.length?$el:null}}]),ShowAdminMenuCommand}();exports.ShowAdminMenuCommand=ShowAdminMenuCommand},{}],93:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralCheckerCommand=void 0;var GeneralCheckerCommand=function(){function GeneralCheckerCommand(handler){_classCallCheck(this,GeneralCheckerCommand),this.handler=null,this.handler=handler}return _createClass(GeneralCheckerCommand,[{key:"execute",value:function execute(){return!!this.handler&&this.handler()}}]),GeneralCheckerCommand}();exports.GeneralCheckerCommand=GeneralCheckerCommand},{}],94:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractElementCheckerCommand=void 0;var AbstractElementCheckerCommand=function(){function AbstractElementCheckerCommand(selector){_classCallCheck(this,AbstractElementCheckerCommand),this.selector=selector}return _createClass(AbstractElementCheckerCommand,[{key:"execute",value:function execute(){return this.isValid()}},{key:"getTargetElement",value:function getTargetElement(){var selector=this.getSelector();if(null===selector)return null;var $el=$(selector);return $el.length?$el.first():null}},{key:"getSelector",value:function getSelector(){return this.selector}},{key:"setSelector",value:function setSelector(selector){this.selector=selector}}]),AbstractElementCheckerCommand}();exports.AbstractElementCheckerCommand=AbstractElementCheckerCommand},{}],95:[function(require,module,exports){"use strict";var _AbstractElementCheckerCommand;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElementVisibleCheckerCommand=void 0;var ElementVisibleCheckerCommand=function(_AbstractElementCheck){function ElementVisibleCheckerCommand(){return _classCallCheck(this,ElementVisibleCheckerCommand),_possibleConstructorReturn(this,_getPrototypeOf(ElementVisibleCheckerCommand).apply(this,arguments))}return _inherits(ElementVisibleCheckerCommand,_AbstractElementCheck),_createClass(ElementVisibleCheckerCommand,[{key:"isValid",value:function isValid(){var $element=this.getTargetElement();return null!==$element&&$element.is(":visible")}}]),ElementVisibleCheckerCommand}(require("./AbstractElementCheckerCommand").AbstractElementCheckerCommand);exports.ElementVisibleCheckerCommand=ElementVisibleCheckerCommand},{"./AbstractElementCheckerCommand":94}],96:[function(require,module,exports){"use strict";var _ElementVisibleCheckerCommand;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestResultsVisibleCheckerCommand=void 0;var TestResultsVisibleCheckerCommand=function(_ElementVisibleChecke){function TestResultsVisibleCheckerCommand(){return _classCallCheck(this,TestResultsVisibleCheckerCommand),_possibleConstructorReturn(this,_getPrototypeOf(TestResultsVisibleCheckerCommand).call(this,null))}return _inherits(TestResultsVisibleCheckerCommand,_ElementVisibleChecke),_createClass(TestResultsVisibleCheckerCommand,[{key:"setSettingKey",value:function setSettingKey(key){key&&this.setSelector('tr[aria-label="'.concat(key,'"] .test-results'))}}]),TestResultsVisibleCheckerCommand}(require("./ElementVisibleCheckerCommand").ElementVisibleCheckerCommand);exports.TestResultsVisibleCheckerCommand=TestResultsVisibleCheckerCommand},{"./ElementVisibleCheckerCommand":95}],97:[function(require,module,exports){"use strict";var _ElementVisibleCheckerCommand;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TesterPageResultsVisibleCheckerCommand=void 0;var TesterPageResultsVisibleCheckerCommand=function(_ElementVisibleChecke){function TesterPageResultsVisibleCheckerCommand(){return _classCallCheck(this,TesterPageResultsVisibleCheckerCommand),_possibleConstructorReturn(this,_getPrototypeOf(TesterPageResultsVisibleCheckerCommand).call(this,"#test-results"))}return _inherits(TesterPageResultsVisibleCheckerCommand,_ElementVisibleChecke),TesterPageResultsVisibleCheckerCommand}(require("./ElementVisibleCheckerCommand").ElementVisibleCheckerCommand);exports.TesterPageResultsVisibleCheckerCommand=TesterPageResultsVisibleCheckerCommand},{"./ElementVisibleCheckerCommand":95}],98:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActivateHoverSelectCommand=void 0;var _DEVTools=require("../../../dev-tools/DEVTools"),_OptionsToolbar=require("../../../dev-tools/OptionsToolbar");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ActivateHoverSelectCommand=function(){function ActivateHoverSelectCommand(){_classCallCheck(this,ActivateHoverSelectCommand)}return _createClass(ActivateHoverSelectCommand,[{key:"execute",value:function execute(){var devTools=_DEVTools.DEVTools.getInstance();devTools.isAvailable()&&devTools.isOpen()&&_OptionsToolbar.OptionsToolbar.getInstance().activateHoverSelect(!0)}}]),ActivateHoverSelectCommand}();exports.ActivateHoverSelectCommand=ActivateHoverSelectCommand},{"../../../dev-tools/DEVTools":51,"../../../dev-tools/OptionsToolbar":55}],99:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloseDevToolsCommand=void 0;var _DEVTools=require("../../../dev-tools/DEVTools");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CloseDevToolsCommand=function(){function CloseDevToolsCommand(){_classCallCheck(this,CloseDevToolsCommand)}return _createClass(CloseDevToolsCommand,[{key:"execute",value:function execute(){var dt=_DEVTools.DEVTools.getInstance();dt.isAvailable()&&dt.isOpen()&&dt.closeLightbox()}}]),CloseDevToolsCommand}();exports.CloseDevToolsCommand=CloseDevToolsCommand},{"../../../dev-tools/DEVTools":51}],100:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpenDevToolsCommand=void 0;var _DEVTools=require("../../../dev-tools/DEVTools"),_DevToolsVariables=require("../../../dev-tools/DevToolsVariables"),_ActivateMainTabCommand=require("../tab/ActivateMainTabCommand");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var OpenDevToolsCommand=function(){function OpenDevToolsCommand(){_classCallCheck(this,OpenDevToolsCommand),this.builder=null}return _createClass(OpenDevToolsCommand,[{key:"execute",value:function execute(){if(null===this.builder)throw"A builder must be set for ".concat(OpenDevToolsCommand.name);var devTools=_DEVTools.DEVTools.getInstance();if(!devTools.isAvailable()){var msg="Dev Tools is not available in this page";return console.warn(msg),void(null!==(this.reject||null)&&this.reject(msg))}var $currentBtn=_DevToolsVariables.DevToolsVariables.getInstance().$currentDevToolsButton||null,$targetBtn=this.builder.getDevToolsButton();!devTools.isOpen()||null!==$currentBtn&&$currentBtn.get(0)===$targetBtn.get(0)||devTools.closeLightbox(),(new _ActivateMainTabCommand.ActivateMainTabCommand).setMainTabKey(this.builder).execute(),devTools.isOpen()||$targetBtn.trigger("click")}},{key:"setBuilder",value:function setBuilder(builder){return this.builder=builder,this}},{key:"setPromiseCallbacks",value:function setPromiseCallbacks(resolve,reject){this.resolve=resolve,this.reject=reject}}]),OpenDevToolsCommand}();exports.OpenDevToolsCommand=OpenDevToolsCommand},{"../../../dev-tools/DEVTools":51,"../../../dev-tools/DevToolsVariables":53,"../tab/ActivateMainTabCommand":106}],101:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpdateDevToolsUrlCommand=void 0;var _AddressBar=require("../../../dev-tools/AddressBar"),_DEVTools=require("../../../dev-tools/DEVTools");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var UpdateDevToolsUrlCommand=function(){function UpdateDevToolsUrlCommand(valueSettingKey){_classCallCheck(this,UpdateDevToolsUrlCommand),this.valueSettingKey=valueSettingKey}return _createClass(UpdateDevToolsUrlCommand,[{key:"execute",value:function execute(){var devTools;if(_DEVTools.DEVTools.getInstance().isOpen()){var $el=$('[name="'.concat(this.valueSettingKey,'"]'));if($el.length){var url=$el.val()||null;null!==url&&null!==url.toString()?_AddressBar.AddressBar.getInstance().go(url.toString()):console.warn("Value of the input with name ".concat(this.valueSettingKey," is not valid."))}else console.warn("Input with name ".concat(this.valueSettingKey," cannot be found."))}else console.warn("Dev Tools is not open. I cannot load a URL in Dev Tools.")}}]),UpdateDevToolsUrlCommand}();exports.UpdateDevToolsUrlCommand=UpdateDevToolsUrlCommand},{"../../../dev-tools/AddressBar":49,"../../../dev-tools/DEVTools":51}],102:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloseOptionsBoxCommand=void 0;var _OptionsBox=require("../../../options-box/OptionsBox");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CloseOptionsBoxCommand=function(){function CloseOptionsBoxCommand(){_classCallCheck(this,CloseOptionsBoxCommand)}return _createClass(CloseOptionsBoxCommand,[{key:"execute",value:function execute(){var optionsBox=_OptionsBox.OptionsBox.getInstance();optionsBox.isAvailable()&&optionsBox.isOpen()&&optionsBox.close()}}]),CloseOptionsBoxCommand}();exports.CloseOptionsBoxCommand=CloseOptionsBoxCommand},{"../../../options-box/OptionsBox":151}],103:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectBackCommand=void 0;var _CookieService=require("../../cookies/CookieService"),_UrlUtils=require("../../utils/UrlUtils"),_AutoStartCookie=require("../../cookies/AutoStartCookie");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var RedirectBackCommand=function(){function RedirectBackCommand(){_classCallCheck(this,RedirectBackCommand),this.tourId=null,this.stepId=null,this.currentUrlPath=window.location.href}return _createClass(RedirectBackCommand,[{key:"execute",value:function execute(){var cookie=RedirectBackCommand.getRedirectBackCookie(this.tourId,this.stepId);if(null!==cookie){var targetUrl=cookie.getRedirectUrl();if(null===targetUrl)return this.removeRedirectBackCookie();if(_UrlUtils.UrlUtils.isSame(targetUrl,this.currentUrlPath))return this.removeRedirectBackCookie();var pageType=cookie.getPageType();pageType&&_CookieService.CookieService.getInstance().setAutoStartCookie(new _AutoStartCookie.AutoStartCookie(pageType,this.tourId,parseInt(this.stepId))),this.removeRedirectBackCookie(),window.location.href=targetUrl,this.callReject("Current URL is not the one required for '".concat(this.tourId,"#").concat(this.stepId,"'. I am going to redirect to ").concat(targetUrl,"..."))}}},{key:"setPromiseCallbacks",value:function setPromiseCallbacks(resolve,reject){this.resolve=resolve,this.reject=reject}},{key:"setStepInfo",value:function setStepInfo(tourId,stepId){this.tourId=tourId,this.stepId=stepId}},{key:"removeRedirectBackCookie",value:function removeRedirectBackCookie(){_CookieService.CookieService.getInstance().removeRedirectBackCookie(this.tourId,this.stepId)}},{key:"callReject",value:function callReject(msg){return null!==(this.reject||null)&&this.reject(msg),this}}],[{key:"getRedirectBackCookie",value:function getRedirectBackCookie(tourId,stepId){return _CookieService.CookieService.getInstance().getRedirectBackCookieFor(tourId,stepId)}}]),RedirectBackCommand}();exports.RedirectBackCommand=RedirectBackCommand},{"../../cookies/AutoStartCookie":107,"../../cookies/CookieService":108,"../../utils/UrlUtils":150}],104:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectCommand=void 0;var _UrlUtils=require("../../utils/UrlUtils"),_CookieService=require("../../cookies/CookieService"),_RedirectBackCookie=require("../../cookies/RedirectBackCookie"),_AutoStartCookie=require("../../cookies/AutoStartCookie"),_PageTypeUtils=require("../../../common/PageTypeUtils"),_GuideRegistry=require("../../GuideRegistry"),_PageType=require("../../../common/enum/PageType");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var RedirectCommand=function(){function RedirectCommand(targetPage){_classCallCheck(this,RedirectCommand),this.tourId=null,this.stepId=null,this.targetPage=targetPage,this.currentUrlHref=window.location.href}return _createClass(RedirectCommand,[{key:"execute",value:function execute(){var currentPageType=_PageTypeUtils.PageTypeUtils.getPageType(),targetPage=this.getTargetPage(),pageUrlPath=targetPage.getPageUrlPath();if(pageUrlPath){var targetUrl=_UrlUtils.UrlUtils.parseUrl(pageUrlPath),currentUrl=_UrlUtils.UrlUtils.parseUrl(this.currentUrlHref);if(!_UrlUtils.UrlUtils.isSame(targetUrl,currentUrl)&&(targetPage.getPageType()!==currentPageType||currentPageType===_PageType.PageType.SITE_SETTINGS||currentPageType===_PageType.PageType.SITE_LISTING)){var prevStep=this.getPrevStep();if(prevStep){var prevStepTargetPage=prevStep.getRedirectCommand().getTargetPage();_CookieService.CookieService.getInstance().setRedirectBackCookie(new _RedirectBackCookie.RedirectBackCookie(this.tourId,prevStep.getStepId(),prevStepTargetPage.getPageUrlPath(),prevStepTargetPage.getPageType()))}targetPage.getPageType()&&_CookieService.CookieService.getInstance().setAutoStartCookie(new _AutoStartCookie.AutoStartCookie(targetPage.getPageType(),this.tourId,parseInt(this.stepId))),window.location.href=targetUrl.toString(),this.callReject("Current URL is not the one required for '".concat(this.tourId,"#").concat(this.stepId,"'. I am going to redirect to ").concat(targetUrl.toString(),"..."))}}else if(targetPage.getPageType()===currentPageType){var parsedUrl=_UrlUtils.UrlUtils.parseUrl(this.currentUrlHref);targetPage.setPageUrlPath(this.currentUrlHref.substring(this.currentUrlHref.indexOf(parsedUrl.pathname)))}}},{key:"setPromiseCallbacks",value:function setPromiseCallbacks(resolve,reject){this.resolve=resolve,this.reject=reject}},{key:"setStepInfo",value:function setStepInfo(tourId,stepId){this.tourId=tourId,this.stepId=stepId}},{key:"getTargetPage",value:function getTargetPage(){return this.targetPage}},{key:"getPrevStep",value:function getPrevStep(){var currentStepIndex=parseInt(this.stepId);if(0===currentStepIndex)return null;var guide=_GuideRegistry.GuideRegistry.getInstance().getGuideWithId(this.tourId);if(!guide)return null;for(var targetPageType=this.getTargetPage().getPageType(),steps=guide.getTourBuilder().getSteps(),step,redirectCmd,i=currentStepIndex-1;0<=i;i--)if(null!==(step=steps[i]||null)&&null!==(redirectCmd=step.getRedirectCommand()||null)&&null!==redirectCmd.getTargetPage().getPageType()&&redirectCmd.getTargetPage().getPageType()!==targetPageType)return step;return null}},{key:"callReject",value:function callReject(msg){return null!==(this.reject||null)&&this.reject(msg),this}}]),RedirectCommand}();exports.RedirectCommand=RedirectCommand},{"../../../common/PageTypeUtils":15,"../../../common/enum/PageType":27,"../../GuideRegistry":69,"../../cookies/AutoStartCookie":107,"../../cookies/CookieService":108,"../../cookies/RedirectBackCookie":109,"../../utils/UrlUtils":150}],105:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectPage=void 0;var _PageTypeUtils=require("../../../common/PageTypeUtils");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var RedirectPage=function(){function RedirectPage(pageTitle,urlPath,pageType){_classCallCheck(this,RedirectPage),this.pageType=null,this.pageTitle=pageTitle,this.setPageUrlPath(urlPath),this.pageType=pageType||null}return _createClass(RedirectPage,[{key:"getPageTitle",value:function getPageTitle(){return this.pageTitle}},{key:"getPageUrlPath",value:function getPageUrlPath(){return this.pageUrlPath}},{key:"setPageUrlPath",value:function setPageUrlPath(urlPath){return this.pageUrlPath=urlPath?0!==urlPath.indexOf("/")?"/".concat(urlPath):urlPath:null,this}},{key:"getPageType",value:function getPageType(){return this.pageType}},{key:"toJson",value:function toJson(){return{pageTitle:this.getPageTitle(),pageUrlPath:this.getPageUrlPath(),pageType:this.getPageType()}}}],[{key:"fromPageType",value:function fromPageType(type){var url=_PageTypeUtils.PageTypeUtils.getPageTypeUrl(type),title;return new RedirectPage(_PageTypeUtils.PageTypeUtils.getPageTypeName(type),url,type)}},{key:"fromJson",value:function fromJson(json){return new RedirectPage(json.pageTitle||null,json.urlPath||null,json.pageType||null)}}]),RedirectPage}();exports.RedirectPage=RedirectPage},{"../../../common/PageTypeUtils":15}],106:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActivateMainTabCommand=void 0;var _TabAndNavigationHandler=require("../../../common/TabAndNavigationHandler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ActivateMainTabCommand=function(){function ActivateMainTabCommand(){_classCallCheck(this,ActivateMainTabCommand),this.tabKey=null}return _createClass(ActivateMainTabCommand,[{key:"execute",value:function execute(){if(null!==this.tabKey){var handler=_TabAndNavigationHandler.TabAndNavigationHandler.getInstance();handler.isTabActive(this.tabKey)||handler.activateTabWithKey(this.tabKey)}else console.warn("Tab key must be set for ".concat(ActivateMainTabCommand.name,". Since tab key is null, no tab will be activated."))}},{key:"setMainTabKey",value:function setMainTabKey(source){return this.tabKey=source.getMainTabKey(),this}}]),ActivateMainTabCommand}();exports.ActivateMainTabCommand=ActivateMainTabCommand},{"../../../common/TabAndNavigationHandler":18}],107:[function(require,module,exports){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutoStartCookie=void 0;var AutoStartCookie=function(){function AutoStartCookie(pageType,guideId,stepIndex,urlParams){_classCallCheck(this,AutoStartCookie),this.pageType=pageType,this.guideId=guideId,this.stepIndex=stepIndex,this.urlParams=urlParams||new Map}return _createClass(AutoStartCookie,[{key:"addUrlParam",value:function addUrlParam(key,value){return this.urlParams.set(key,value),this}},{key:"getPageType",value:function getPageType(){return this.pageType}},{key:"getGuideId",value:function getGuideId(){return this.guideId}},{key:"getStepIndex",value:function getStepIndex(){return this.stepIndex}},{key:"getUrlParams",value:function getUrlParams(){return this.urlParams}},{key:"toJson",value:function toJson(){return{pageType:this.pageType,guideId:this.guideId,stepIndex:this.stepIndex,urlParams:_toConsumableArray(this.urlParams.entries())}}}],[{key:"fromJson",value:function fromJson(json){return new AutoStartCookie(json.pageType,json.guideId,parseInt(json.stepIndex),new Map(json.urlParams))}}]),AutoStartCookie}();exports.AutoStartCookie=AutoStartCookie},{}],108:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CookieService=void 0;var _jsCookie=_interopRequireDefault(require("js-cookie")),_WPCCrawler=require("../../common/WPCCrawler"),_RedirectBackCookie=require("./RedirectBackCookie"),_AutoStartCookie=require("./AutoStartCookie"),_PageTypeUtils=require("../../common/PageTypeUtils"),_UrlUtils=require("../utils/UrlUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CookieService=function(){function CookieService(){_classCallCheck(this,CookieService)}return _createClass(CookieService,[{key:"setAutoShown",value:function setAutoShown(guideId){_jsCookie.default.set(this.getAutoShownCookieNameFor(guideId),"1")}},{key:"isAutoShown",value:function isAutoShown(guideId){var value;return"1"===(_jsCookie.default.get(this.getAutoShownCookieNameFor(guideId))||null)}},{key:"getAutoShownCookieNameFor",value:function getAutoShownCookieNameFor(guideId){return CookieService.AUTO_SHOWN_NAME_PREFIX+guideId.toString()}},{key:"setRedirectBackCookie",value:function setRedirectBackCookie(cookie){_jsCookie.default.set(this.getRedirectBackCookieNameFor(cookie.getTourId(),cookie.getStepId()),cookie.toJson())}},{key:"removeRedirectBackCookie",value:function removeRedirectBackCookie(tourId,stepId){return _jsCookie.default.remove(this.getRedirectBackCookieNameFor(tourId,stepId)),this}},{key:"getRedirectBackCookieFor",value:function getRedirectBackCookieFor(tourId,stepId){var value=_jsCookie.default.get(this.getRedirectBackCookieNameFor(tourId,stepId))||null;return null!==value&&value.length?_RedirectBackCookie.RedirectBackCookie.fromJson(JSON.parse(value)):null}},{key:"getRedirectBackCookieNameFor",value:function getRedirectBackCookieNameFor(tourId,stepId){return CookieService.REDIRECT_BACK_NAME_PREFIX+tourId+stepId}},{key:"setAutoStartCookie",value:function setAutoStartCookie(cookie){_jsCookie.default.set(this.getAutoStartCookieNameFor(cookie.getPageType()),cookie.toJson())}},{key:"removeAutoStartCookie",value:function removeAutoStartCookie(pageType){return _jsCookie.default.remove(this.getAutoStartCookieNameFor(pageType)),this}},{key:"removeAutoStartCookieForCurrentPage",value:function removeAutoStartCookieForCurrentPage(){return this.removeAutoStartCookie(_PageTypeUtils.PageTypeUtils.getPageType()),this}},{key:"getAutoStartCookieForCurrentPage",value:function getAutoStartCookieForCurrentPage(){var currentPageType=_PageTypeUtils.PageTypeUtils.getPageType(),cookieName=this.getAutoStartCookieNameFor(currentPageType),value=_jsCookie.default.get(cookieName)||null;if(null===value||!value.length)return null;var cookie=_AutoStartCookie.AutoStartCookie.fromJson(JSON.parse(value));if(0===cookie.getUrlParams().size)return cookie;var url,query=_UrlUtils.UrlUtils.parseUrl(window.location.href).query,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=cookie.getUrlParams().entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),paramName=_step$value[0],paramVal=_step$value[1];if(!query.hasOwnProperty(paramName)||query[paramName]!==paramVal)return null}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return cookie}},{key:"getAutoStartCookieNameFor",value:function getAutoStartCookieNameFor(pageType){return CookieService.AUTO_START_NAME_PREFIX+pageType}},{key:"removeTourCookies",value:function removeTourCookies(tourId){var allCookies=_jsCookie.default.get(),prefixes=[this.getRedirectBackCookieNameFor(tourId,""),this.getAutoStartCookieNameFor("")],_loop=function _loop(key){prefixes.forEach(function(prefix){0===key.indexOf(prefix)&&_jsCookie.default.remove(key)})};for(var key in allCookies)_loop(key)}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(CookieService.name,function(){return new CookieService})}}]),CookieService}();(exports.CookieService=CookieService).REDIRECT_BACK_NAME_PREFIX="wpcc_rb_",CookieService.AUTO_START_NAME_PREFIX="wpcc_auto_start_",CookieService.AUTO_SHOWN_NAME_PREFIX="wpcc_auto_shown_"},{"../../common/PageTypeUtils":15,"../../common/WPCCrawler":22,"../utils/UrlUtils":150,"./AutoStartCookie":107,"./RedirectBackCookie":109,"js-cookie":1}],109:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectBackCookie=void 0;var RedirectBackCookie=function(){function RedirectBackCookie(tourId,stepId,redirectUrl,pageType){_classCallCheck(this,RedirectBackCookie),this.tourId=tourId,this.stepId=stepId,this.redirectUrl=redirectUrl,this.pageType=pageType}return _createClass(RedirectBackCookie,[{key:"getTourId",value:function getTourId(){return this.tourId}},{key:"getStepId",value:function getStepId(){return this.stepId}},{key:"getRedirectUrl",value:function getRedirectUrl(){return this.redirectUrl}},{key:"getPageType",value:function getPageType(){return this.pageType}},{key:"toJson",value:function toJson(){return{tourId:this.getTourId(),stepId:this.getStepId(),redirectUrl:this.getRedirectUrl(),pageType:this.getPageType()}}}],[{key:"fromJson",value:function fromJson(json){return new RedirectBackCookie(json.tourId||null,json.stepId||null,json.redirectUrl||null,json.pageType||null)}}]),RedirectBackCookie}();exports.RedirectBackCookie=RedirectBackCookie},{}],110:[function(require,module,exports){"use strict";var CustomStepInfoKey;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomStepInfoKey=void 0,function(CustomStepInfoKey){CustomStepInfoKey.LETS_GET_YOU_STARTED_ADD_NEW_SITE="lets_get_you_started_add_new_site",CustomStepInfoKey.DEV_TOOLS_CLICK_POST_LINK="dev_tools_click_post_link",CustomStepInfoKey.DEV_TOOLS_CLICK_POST_TITLE="dev_tools_click_post_title",CustomStepInfoKey.DEV_TOOLS_CLICK_POST_CONTENT="dev_tools_click_post_content",CustomStepInfoKey.DEV_TOOLS_CLICK_CATEGORY_LINK="dev_tools_click_category_link",CustomStepInfoKey.DEV_TOOLS_CLICK_CATEGORY_NAME="dev_tools_click_category_name",CustomStepInfoKey.DEV_TOOLS_CLICK_FEATURED_IMAGE="dev_tools_click_featured_image",CustomStepInfoKey.DEV_TOOLS_CLICK_UNNECESSARY_ELEMENT="dev_tools_click_unnecessary_element",CustomStepInfoKey.OBSERVE_FOUND_POST_URLS="observe_found_post_urls",CustomStepInfoKey.OBSERVE_ADDED_CATEGORY_URLS="observe_added_category_urls",CustomStepInfoKey.OBSERVE_FOUND_POST_TITLE="observe_found_post_title",CustomStepInfoKey.OBSERVE_FOUND_UNNECESSARY_ELEMENTS="observe_found_unnecessary_elements",CustomStepInfoKey.OBSERVE_FOUND_FEATURED_IMAGE_URL="observe_featured_image_url",CustomStepInfoKey.POST_TYPE_WOOCOMMERCE_PRODUCT="post_type_woocommerce_product",CustomStepInfoKey.CATEGORY_MAP_WOOCOMMERCE_CATEGORY="category_map_woocommerce_category",CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_SELECTOR="show-lazy-loaded-images-selector",CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_TEST_RESULTS_1="show-lazy-loaded-images-test-results-1",CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_ATTR1="show-lazy-loaded-images-attr1",CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_ATTR2="show-lazy-loaded-images-attr2",CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_TEST_RESULTS_2="show-lazy-loaded-images-test-results-2",CustomStepInfoKey.TRANSLATION_FROM_LANGUAGE="translation-from-language",CustomStepInfoKey.TRANSLATION_TO_LANGUAGE="translation-to-language",CustomStepInfoKey.TRANSLATION_TEST_TEXT="translation-test-text"}((exports.CustomStepInfoKey=CustomStepInfoKey)||(exports.CustomStepInfoKey=CustomStepInfoKey={}))},{}],111:[function(require,module,exports){"use strict";var GeneralStepId;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralStepId=void 0,function(GeneralStepId){GeneralStepId.BTN_ADD_NEW_SITE="btn_add_new_site",GeneralStepId.INPUT_SITE_TITLE="input_site_title",GeneralStepId.BTN_PUBLISH_UPDATE="btn_publish_update",GeneralStepId.BTN_SAVE_GENERAL_SETTINGS="btn_save_general_settings",GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS="btn_quick_save_site_settings",GeneralStepId.BTN_LOAD_GENERAL_SETTINGS="btn_load_general_settings",GeneralStepId.TAB_CONTENT_GENERAL_SETTINGS="tab_content_general_settings",GeneralStepId.SECTION_WOOCOMMERCE="section_woocommerce",GeneralStepId.DASHBOARD_ACTIVE_SITES_SECTION="dashboard_active_sites_section",GeneralStepId.DASHBOARD_WHATS_HAPPENING_SECTION="dashboard_whats_happening_section",GeneralStepId.DASHBOARD_LAST_CRAWLED_POSTS_SECTION="dashboard_last_crawled_posts_section",GeneralStepId.DASHBOARD_REFRESH_INPUT="dashboard_refresh_input",GeneralStepId.TESTER_SELECT_SITE_NAME="tester_select_site_name",GeneralStepId.TESTER_SELECT_TEST_TYPE="tester_select_test_type",GeneralStepId.TESTER_CONTAINER_TEST_URL="tester_input_test_url",GeneralStepId.TESTER_BTN_TEST="tester_btn_test",GeneralStepId.TESTER_TEST_RESULTS_CONTAINER="tester_test_results_container",GeneralStepId.BTN_MANUAL_CRAWLING_TOOL_CRAWL_NOW="btn_manual_crawling_tool_crawl_now",GeneralStepId.MANUAL_CRAWLING_TOOL_RESULTS_CONTAINER="manual_crawling_tool_results_container",GeneralStepId.BTN_MANUAL_RECRAWLING_TOOL_RECRAWL="btn_manual_recrawling_tool_recrawl",GeneralStepId.MANUAL_RECRAWLING_TOOL_RESULTS_CONTAINER="manual_recrawling_tool_results_container",GeneralStepId.BUTTON_DISPLAY_GUIDES="button_display_guides"}((exports.GeneralStepId=GeneralStepId)||(exports.GeneralStepId=GeneralStepId={}))},{}],112:[function(require,module,exports){"use strict";var GuideId;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuideId=void 0,function(GuideId){GuideId.DUMMY_GUIDE="dummy-tour",GuideId.SAVING_POSTS_AUTOMATICALLY="saving-posts-automatically",GuideId.UPDATING_POSTS_AUTOMATICALLY="updating-posts-automatically",GuideId.TESTING_SITE_SETTINGS="testing-site-settings",GuideId.TRANSLATING_POSTS_AUTOMATICALLY="translating-posts-automatically",GuideId.USING_COOKIES="using-cookies",GuideId.USING_CUSTOM_GENERAL_SETTINGS="using-custom-general-settings",GuideId.ADDING_CATEGORY_URLS_AUTOMATICALLY="adding-category-urls-automatically",GuideId.SHOWING_IFRAMES_IN_POST_CONTENT="showing-iframes-in-post-content",GuideId.REMOVING_LINKS_IN_POST_CONTENT="removing-links-in-post-content",GuideId.CREATING_POST_CATEGORIES_AUTOMATICALLY="creating-post-categories-automatically",GuideId.SAVING_IMAGES_IN_POST_CONTENT="saving-images-in-post-content",GuideId.SHOWING_LAZY_LOADED_IMAGES="saving-lazy-loaded-images",GuideId.REMOVING_UNNECESSARY_ELEMENTS_FROM_POST="removing-unnecessary-elements-from-post",GuideId.MANUALLY_SAVING_POSTS="manually-saving-posts",GuideId.MANUALLY_UPDATING_POSTS="manually-updating-posts",GuideId.SAVING_WOOCOMMERCE_PRODUCTS="saving-woocommerce-products",GuideId.SAVING_FEATURED_IMAGES="saving-featured-images",GuideId.TRANSLATING_WITH_YANDEX_TRANSLATE="translating-with-yandex-translate",GuideId.TRANSLATING_WITH_GOOGLE_CLOUD_TRANSLATION="translating-with-google-cloud-translation",GuideId.TRANSLATING_WITH_MICROSOFT_TRANSLATOR_TEXT="translating-with-microsoft-translator-text",GuideId.TRANSLATING_WITH_AMAZON_TRANSLATE="translating-with-amazon-translate",GuideId.DISPLAY_GUIDES="display-guides"}((exports.GuideId=GuideId)||(exports.GuideId=GuideId={}))},{}],113:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractEventListener=void 0;var AbstractEventListener=function(){function AbstractEventListener(){_classCallCheck(this,AbstractEventListener)}return _createClass(AbstractEventListener,[{key:"bindListener",value:function bindListener(){this.onBindListener()}},{key:"unbindListener",value:function unbindListener(){this.onUnbindListener()}},{key:"performAction",value:function performAction(e){if(null!==this.getBuilder()){var step=this.getBuilder().getStep();null!==step&&step.isOpen()&&this.onPerformAction(e)}}},{key:"getBuilder",value:function getBuilder(){return this.builder}},{key:"setBuilder",value:function setBuilder(builder){return this.builder=builder,this}}]),AbstractEventListener}();exports.AbstractEventListener=AbstractEventListener},{}],114:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutoStartAtNextStepEventListener=void 0;var _GeneralEventListener2=require("./GeneralEventListener"),_CookieService=require("../cookies/CookieService"),_AutoStartCookie=require("../cookies/AutoStartCookie"),_PageTypeUtils=require("../../common/PageTypeUtils");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var AutoStartAtNextStepEventListener=function(_GeneralEventListener){function AutoStartAtNextStepEventListener(eventName,cssSelector){var _this;_classCallCheck(this,AutoStartAtNextStepEventListener);var action=function action(builder){return _this.handleAction(builder)};return _this=_possibleConstructorReturn(this,_getPrototypeOf(AutoStartAtNextStepEventListener).call(this,eventName,cssSelector,action))}return _inherits(AutoStartAtNextStepEventListener,_GeneralEventListener),_createClass(AutoStartAtNextStepEventListener,[{key:"handleAction",value:function handleAction(builder){if(!builder.isLast()){var tourBuilder=builder.getTourBuilder();if(tourBuilder){var currentStepIndex,nextStepIndex=builder.getStepIndex()+1,nextStep=tourBuilder.getSteps()[nextStepIndex]||null;if(nextStep){var nextStepRedirectCmd=nextStep.getRedirectCommand(),targetPageType=nextStepRedirectCmd&&nextStepRedirectCmd.getTargetPage().getPageType()||_PageTypeUtils.PageTypeUtils.getPageType();_CookieService.CookieService.getInstance().setAutoStartCookie(new _AutoStartCookie.AutoStartCookie(targetPageType,tourBuilder.getTourId(),nextStepIndex))}}}}}]),AutoStartAtNextStepEventListener}(_GeneralEventListener2.GeneralEventListener);exports.AutoStartAtNextStepEventListener=AutoStartAtNextStepEventListener},{"../../common/PageTypeUtils":15,"../cookies/AutoStartCookie":107,"../cookies/CookieService":108,"./GeneralEventListener":116}],115:[function(require,module,exports){"use strict";var _AbstractEventListener;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CancelTourOnEventListener=void 0;var CancelTourOnEventListener=function(_AbstractEventListene){function CancelTourOnEventListener(eventName){var _this,cssSelector=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,CancelTourOnEventListener),(_this=_possibleConstructorReturn(this,_getPrototypeOf(CancelTourOnEventListener).call(this))).eventName=eventName,_this.cssSelector=cssSelector,_this}return _inherits(CancelTourOnEventListener,_AbstractEventListene),_createClass(CancelTourOnEventListener,[{key:"onBindListener",value:function onBindListener(){var _this2=this;$(document).on(this.eventName,this.cssSelector,function(e){return _this2.performAction(e)})}},{key:"onUnbindListener",value:function onUnbindListener(){var _this3=this;$(document).off(this.eventName,this.cssSelector,function(e){return _this3.performAction(e)})}},{key:"onPerformAction",value:function onPerformAction(e){this.getBuilder().getTourBuilder().getTour().cancel()}}]),CancelTourOnEventListener}(require("./AbstractEventListener").AbstractEventListener);exports.CancelTourOnEventListener=CancelTourOnEventListener},{"./AbstractEventListener":113}],116:[function(require,module,exports){"use strict";var _AbstractEventListener;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralEventListener=void 0;var GeneralEventListener=function(_AbstractEventListene){function GeneralEventListener(eventName,cssSelector,action){var _this;return _classCallCheck(this,GeneralEventListener),(_this=_possibleConstructorReturn(this,_getPrototypeOf(GeneralEventListener).call(this))).eventName=eventName,_this.cssSelector=cssSelector,_this.action=action,_this}return _inherits(GeneralEventListener,_AbstractEventListene),_createClass(GeneralEventListener,[{key:"onBindListener",value:function onBindListener(){var _this2=this;$(document).on(this.eventName,this.cssSelector,function(e){return _this2.performAction(e)})}},{key:"onUnbindListener",value:function onUnbindListener(){var _this3=this;$(document).off(this.eventName,this.cssSelector,function(e){return _this3.performAction(e)})}},{key:"onPerformAction",value:function onPerformAction(e){this.action(this.getBuilder(),e)}}]),GeneralEventListener}(require("./AbstractEventListener").AbstractEventListener);exports.GeneralEventListener=GeneralEventListener},{"./AbstractEventListener":113}],117:[function(require,module,exports){"use strict";var _AbstractEventListener;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadStepOnEventListener=void 0;var LoadStepOnEventListener=function(_AbstractEventListene){function LoadStepOnEventListener(targetStep,eventName){var _this,cssSelector=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return _classCallCheck(this,LoadStepOnEventListener),(_this=_possibleConstructorReturn(this,_getPrototypeOf(LoadStepOnEventListener).call(this))).targetStep=targetStep,_this.eventName=eventName,_this.cssSelector=cssSelector,_this}return _inherits(LoadStepOnEventListener,_AbstractEventListene),_createClass(LoadStepOnEventListener,[{key:"onBindListener",value:function onBindListener(){var _this2=this;$(document).on(this.eventName,this.cssSelector,function(e){return _this2.performAction(e)})}},{key:"onUnbindListener",value:function onUnbindListener(){var _this3=this;$(document).off(this.eventName,this.cssSelector,function(e){return _this3.performAction(e)})}},{key:"onPerformAction",value:function onPerformAction(e){var tour;this.targetStep.getTourBuilder().getTour().show(this.targetStep.getStepIndex())}}]),LoadStepOnEventListener}(require("./AbstractEventListener").AbstractEventListener);exports.LoadStepOnEventListener=LoadStepOnEventListener},{"./AbstractEventListener":113}],118:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddingCategoryUrlsAutomatically=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_DevToolsStepFactory=require("../step-factory/DevToolsStepFactory"),_LoadStepOnEventListener=require("../event-listeners/LoadStepOnEventListener"),_EventType=require("../../common/EventType"),_UpdateDevToolsUrlCommand=require("../command/dev-tools/UpdateDevToolsUrlCommand"),_CustomStepInfoKey=require("../enum/CustomStepInfoKey");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var AddingCategoryUrlsAutomatically=function(_AbstractGuide){function AddingCategoryUrlsAutomatically(){return _classCallCheck(this,AddingCategoryUrlsAutomatically),_possibleConstructorReturn(this,_getPrototypeOf(AddingCategoryUrlsAutomatically).apply(this,arguments))}return _inherits(AddingCategoryUrlsAutomatically,_AbstractGuide),_createClass(AddingCategoryUrlsAutomatically,[{key:"getId",value:function getId(){return _GuideId.GuideId.ADDING_CATEGORY_URLS_AUTOMATICALLY}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),devTools=_DevToolsStepFactory.DevToolsStepFactory.getInstance(),addUrlsAutomatically=setting.get(_SettingKey.SettingKey.CATEGORY_ADD_CATEGORY_URLS_WITH_SELECTOR).setSkippable(!1).addRule(new _FormItemRule.FormItemRule("checked")).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy),listPageUrl=setting.get(_SettingKey.SettingKey.CATEGORY_LIST_PAGE_URL).addRule(new _FormItemRule.FormItemRule("url")).addRequiredStep(addUrlsAutomatically),devToolsIframeCategoryLink=devTools.get(_SettingKey.SettingKey.CATEGORY_LIST_URL_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME).addRequiredStep(addUrlsAutomatically,listPageUrl).addBeforeShowCommand(new _UpdateDevToolsUrlCommand.UpdateDevToolsUrlCommand(_SettingKey.SettingKey.CATEGORY_LIST_PAGE_URL)).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.DEV_TOOLS_CLICK_CATEGORY_LINK);builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_CATEGORY)).addStep(addUrlsAutomatically).addStep(listPageUrl).addStep(setting.get(_SettingKey.SettingKey.CATEGORY_LIST_URL_SELECTORS).addRequiredStep(addUrlsAutomatically,listPageUrl).addEventListener(new _LoadStepOnEventListener.LoadStepOnEventListener(devToolsIframeCategoryLink,_EventType.EventType.devToolsOpened))).addStep(setting.getInner(_SettingKey.SettingKey.CATEGORY_LIST_URL_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS).addRequiredStep(addUrlsAutomatically,listPageUrl)).addStep(devToolsIframeCategoryLink).addStep(devTools.get(_SettingKey.SettingKey.CATEGORY_LIST_URL_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR).addRequiredStep(addUrlsAutomatically,listPageUrl)).addStep(setting.getInner(_SettingKey.SettingKey.CATEGORY_LIST_URL_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_ADD_CATEGORY_URLS).addRequiredStep(addUrlsAutomatically,listPageUrl)).addStep(setting.get(_SettingKey.SettingKey.CATEGORY_MAP).setSkippable(!1).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.OBSERVE_ADDED_CATEGORY_URLS))}}]),AddingCategoryUrlsAutomatically}(_AbstractGuide2.AbstractGuide);exports.AddingCategoryUrlsAutomatically=AddingCategoryUrlsAutomatically},{"../../common/EventType":10,"../../common/enum/InnerItemSelector":23,"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../command/dev-tools/UpdateDevToolsUrlCommand":101,"../enum/CustomStepInfoKey":110,"../enum/GuideId":112,"../event-listeners/LoadStepOnEventListener":117,"../step-factory/DevToolsStepFactory":141,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],119:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreatingPostCategoriesAutomatically=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_DevToolsStepFactory=require("../step-factory/DevToolsStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId"),_CustomStepInfoKey=require("../enum/CustomStepInfoKey"),_LoadStepOnEventListener=require("../event-listeners/LoadStepOnEventListener"),_EventType=require("../../common/EventType"),_UpdateDevToolsUrlCommand=require("../command/dev-tools/UpdateDevToolsUrlCommand"),_CancelTourOnEventListener=require("../event-listeners/CancelTourOnEventListener");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var CreatingPostCategoriesAutomatically=function(_AbstractGuide){function CreatingPostCategoriesAutomatically(){return _classCallCheck(this,CreatingPostCategoriesAutomatically),_possibleConstructorReturn(this,_getPrototypeOf(CreatingPostCategoriesAutomatically).apply(this,arguments))}return _inherits(CreatingPostCategoriesAutomatically,_AbstractGuide),_createClass(CreatingPostCategoriesAutomatically,[{key:"getId",value:function getId(){return _GuideId.GuideId.CREATING_POST_CATEGORIES_AUTOMATICALLY}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),setting=_SettingStepFactory.SettingStepFactory.getInstance(),devTools=_DevToolsStepFactory.DevToolsStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),categoryNameSelectorsTestButton=setting.getInner(_SettingKey.SettingKey.POST_CATEGORY_NAME_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_TEST),selectionBehavior=devTools.get(_SettingKey.SettingKey.POST_CATEGORY_NAME_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_SELECTION_BEHAVIOR);builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_POST)).addStep(setting.get(_SettingKey.SettingKey.TEST_URL_POST)).addStep(setting.get(_SettingKey.SettingKey.POST_CATEGORY_NAME_SELECTORS).addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.optionsBoxOpened)).addEventListener(new _LoadStepOnEventListener.LoadStepOnEventListener(selectionBehavior,_EventType.EventType.devToolsOpened))).addStep(setting.getInner(_SettingKey.SettingKey.POST_CATEGORY_NAME_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS)).addStep(selectionBehavior).addStep(devTools.get(_SettingKey.SettingKey.POST_CATEGORY_NAME_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME).addBeforeShowCommand(new _UpdateDevToolsUrlCommand.UpdateDevToolsUrlCommand(_SettingKey.SettingKey.TEST_URL_POST)).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.DEV_TOOLS_CLICK_CATEGORY_NAME)).addStep(devTools.get(_SettingKey.SettingKey.POST_CATEGORY_NAME_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR)).addStep(categoryNameSelectorsTestButton).addStep(setting.getInner(_SettingKey.SettingKey.POST_CATEGORY_NAME_SELECTORS,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).addRequiredStep(categoryNameSelectorsTestButton)).addStep(setting.get(_SettingKey.SettingKey.POST_CATEGORY_ADD_HIERARCHICAL)).addStep(setting.get(_SettingKey.SettingKey.POST_CATEGORY_DO_NOT_ADD_CATEGORY_IN_MAP)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),CreatingPostCategoriesAutomatically}(_AbstractGuide2.AbstractGuide);exports.CreatingPostCategoriesAutomatically=CreatingPostCategoriesAutomatically},{"../../common/EventType":10,"../../common/enum/InnerItemSelector":23,"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../command/dev-tools/UpdateDevToolsUrlCommand":101,"../enum/CustomStepInfoKey":110,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../event-listeners/CancelTourOnEventListener":115,"../event-listeners/LoadStepOnEventListener":117,"../step-factory/DevToolsStepFactory":141,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],120:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DisplayGuides=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageTypeUtils=require("../../common/PageTypeUtils"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DisplayGuides=function(_AbstractGuide){function DisplayGuides(){return _classCallCheck(this,DisplayGuides),_possibleConstructorReturn(this,_getPrototypeOf(DisplayGuides).apply(this,arguments))}return _inherits(DisplayGuides,_AbstractGuide),_createClass(DisplayGuides,[{key:"getId",value:function getId(){return _GuideId.GuideId.DISPLAY_GUIDES}},{key:"getStartPageType",value:function getStartPageType(){return _PageTypeUtils.PageTypeUtils.getPageType()}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var general=_GeneralStepFactory.GeneralStepFactory.getInstance();builder.addStep(general.get(_GeneralStepId.GeneralStepId.BUTTON_DISPLAY_GUIDES))}}]),DisplayGuides}(_AbstractGuide2.AbstractGuide);exports.DisplayGuides=DisplayGuides},{"../../common/PageTypeUtils":15,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"./base/AbstractGuide":135}],121:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManuallySavingPosts=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_GeneralStepId=require("../enum/GeneralStepId"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../common/validation/enum/RuleIdentifier");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var ManuallySavingPosts=function(_AbstractGuide){function ManuallySavingPosts(){return _classCallCheck(this,ManuallySavingPosts),_possibleConstructorReturn(this,_getPrototypeOf(ManuallySavingPosts).apply(this,arguments))}return _inherits(ManuallySavingPosts,_AbstractGuide),_createClass(ManuallySavingPosts,[{key:"getId",value:function getId(){return _GuideId.GuideId.MANUALLY_SAVING_POSTS}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.TOOLS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),setting=_SettingStepFactory.SettingStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),postUrls=setting.get(_SettingKey.SettingKey.WPCC_TOOLS_POST_URLS).setSkippable(!1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1")));builder.addStep(tab.get(_TabKey.TabKey.TOOLS_TAB_MANUAL_CRAWLING)).addStep(setting.get(_SettingKey.SettingKey.WPCC_TOOLS_SITE_ID)).addStep(setting.get(_SettingKey.SettingKey.WPCC_TOOLS_CATEGORY_ID)).addStep(postUrls).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_MANUAL_CRAWLING_TOOL_CRAWL_NOW).addRequiredStep(postUrls).setSkippable(!1)).addStep(general.get(_GeneralStepId.GeneralStepId.MANUAL_CRAWLING_TOOL_RESULTS_CONTAINER))}}]),ManuallySavingPosts}(_AbstractGuide2.AbstractGuide);exports.ManuallySavingPosts=ManuallySavingPosts},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/enum/RuleIdentifier":35,"../../common/validation/form-item/FormItemRule":36,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],122:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManuallyUpdatingPosts=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_GeneralStepId=require("../enum/GeneralStepId"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../common/validation/enum/RuleIdentifier"),_ElementVisibleCheckerCommand=require("../command/checker/element/ElementVisibleCheckerCommand");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var ManuallyUpdatingPosts=function(_AbstractGuide){function ManuallyUpdatingPosts(){return _classCallCheck(this,ManuallyUpdatingPosts),_possibleConstructorReturn(this,_getPrototypeOf(ManuallyUpdatingPosts).apply(this,arguments))}return _inherits(ManuallyUpdatingPosts,_AbstractGuide),_createClass(ManuallyUpdatingPosts,[{key:"getId",value:function getId(){return _GuideId.GuideId.MANUALLY_UPDATING_POSTS}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.TOOLS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),setting=_SettingStepFactory.SettingStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),postId=setting.get(_SettingKey.SettingKey.WPCC_TOOLS_RECRAWL_POST_ID).setSkippable(!1).addRule(new _FormItemRule.FormItemRule(_RuleIdentifier.RuleIdentifier.INT)),recrawlButton=general.get(_GeneralStepId.GeneralStepId.BTN_MANUAL_RECRAWLING_TOOL_RECRAWL).setNextable(!1).setSkippable(!1).addDesiredStateCheckerCommand(new _ElementVisibleCheckerCommand.ElementVisibleCheckerCommand("#".concat(_TabKey.TabKey.TOOLS_TAB_MANUAL_RECRAWLING," form .test-results")));builder.addStep(tab.get(_TabKey.TabKey.TOOLS_TAB_MANUAL_RECRAWLING)).addStep(postId).addStep(recrawlButton.addRequiredStep(postId)).addStep(general.get(_GeneralStepId.GeneralStepId.MANUAL_RECRAWLING_TOOL_RESULTS_CONTAINER).addRequiredStep(recrawlButton))}}]),ManuallyUpdatingPosts}(_AbstractGuide2.AbstractGuide);exports.ManuallyUpdatingPosts=ManuallyUpdatingPosts},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/enum/RuleIdentifier":35,"../../common/validation/form-item/FormItemRule":36,"../command/checker/element/ElementVisibleCheckerCommand":95,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],123:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemovingLinksInPostContent=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var RemovingLinksInPostContent=function(_AbstractGuide){function RemovingLinksInPostContent(){return _classCallCheck(this,RemovingLinksInPostContent),_possibleConstructorReturn(this,_getPrototypeOf(RemovingLinksInPostContent).apply(this,arguments))}return _inherits(RemovingLinksInPostContent,_AbstractGuide),_createClass(RemovingLinksInPostContent,[{key:"getId",value:function getId(){return _GuideId.GuideId.REMOVING_LINKS_IN_POST_CONTENT}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance();builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_TEMPLATES)).addStep(setting.get(_SettingKey.SettingKey.POST_REMOVE_LINKS_FROM_SHORT_CODES).addRule(new _FormItemRule.FormItemRule("checked")).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),RemovingLinksInPostContent}(_AbstractGuide2.AbstractGuide);exports.RemovingLinksInPostContent=RemovingLinksInPostContent},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],124:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemovingUnnecessaryElementsFromPost=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_DevToolsStepFactory=require("../step-factory/DevToolsStepFactory"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_LoadStepOnEventListener=require("../event-listeners/LoadStepOnEventListener"),_EventType=require("../../common/EventType"),_GeneralStepId=require("../enum/GeneralStepId"),_CustomStepInfoKey=require("../enum/CustomStepInfoKey"),_UpdateDevToolsUrlCommand=require("../command/dev-tools/UpdateDevToolsUrlCommand");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var RemovingUnnecessaryElementsFromPost=function(_AbstractGuide){function RemovingUnnecessaryElementsFromPost(){return _classCallCheck(this,RemovingUnnecessaryElementsFromPost),_possibleConstructorReturn(this,_getPrototypeOf(RemovingUnnecessaryElementsFromPost).apply(this,arguments))}return _inherits(RemovingUnnecessaryElementsFromPost,_AbstractGuide),_createClass(RemovingUnnecessaryElementsFromPost,[{key:"getId",value:function getId(){return _GuideId.GuideId.REMOVING_UNNECESSARY_ELEMENTS_FROM_POST}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),devTools=_DevToolsStepFactory.DevToolsStepFactory.getInstance(),selectionBehavior=devTools.get(_SettingKey.SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_SELECTION_BEHAVIOR).addBeforeShowCommand(new _UpdateDevToolsUrlCommand.UpdateDevToolsUrlCommand(_SettingKey.SettingKey.TEST_URL_POST)),testButton=setting.getInner(_SettingKey.SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_TEST);builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_POST)).addStep(setting.get(_SettingKey.SettingKey.TEST_URL_POST)).addStep(setting.get(_SettingKey.SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS).addEventListener(new _LoadStepOnEventListener.LoadStepOnEventListener(selectionBehavior,_EventType.EventType.devToolsOpened))).addStep(setting.getInner(_SettingKey.SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS)).addStep(selectionBehavior).addStep(devTools.get(_SettingKey.SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.DEV_TOOLS_CLICK_UNNECESSARY_ELEMENT)).addStep(devTools.get(_SettingKey.SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR)).addStep(testButton).addStep(setting.getInner(_SettingKey.SettingKey.POST_UNNECESSARY_ELEMENT_SELECTORS,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).addRequiredStep(testButton).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.OBSERVE_FOUND_UNNECESSARY_ELEMENTS)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),RemovingUnnecessaryElementsFromPost}(_AbstractGuide2.AbstractGuide);exports.RemovingUnnecessaryElementsFromPost=RemovingUnnecessaryElementsFromPost},{"../../common/EventType":10,"../../common/enum/InnerItemSelector":23,"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../command/dev-tools/UpdateDevToolsUrlCommand":101,"../enum/CustomStepInfoKey":110,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../event-listeners/LoadStepOnEventListener":117,"../step-factory/DevToolsStepFactory":141,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],125:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavingFeaturedImages=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../common/validation/enum/RuleIdentifier"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_DevToolsStepFactory=require("../step-factory/DevToolsStepFactory"),_GeneralStepId=require("../enum/GeneralStepId"),_LoadStepOnEventListener=require("../event-listeners/LoadStepOnEventListener"),_EventType=require("../../common/EventType"),_CancelTourOnEventListener=require("../event-listeners/CancelTourOnEventListener"),_TestResultsVisibleCheckerCommand=require("../command/checker/element/TestResultsVisibleCheckerCommand"),_CustomStepInfoKey=require("../enum/CustomStepInfoKey");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SavingFeaturedImages=function(_AbstractGuide){function SavingFeaturedImages(){return _classCallCheck(this,SavingFeaturedImages),_possibleConstructorReturn(this,_getPrototypeOf(SavingFeaturedImages).apply(this,arguments))}return _inherits(SavingFeaturedImages,_AbstractGuide),_createClass(SavingFeaturedImages,[{key:"getId",value:function getId(){return _GuideId.GuideId.SAVING_FEATURED_IMAGES}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),setting=_SettingStepFactory.SettingStepFactory.getInstance(),devTools=_DevToolsStepFactory.DevToolsStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),saveFeaturedImages=setting.get(_SettingKey.SettingKey.POST_SAVE_THUMBNAILS_IF_NOT_EXIST).addRule(new _FormItemRule.FormItemRule(_RuleIdentifier.RuleIdentifier.CHECKED)).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy),devToolsIframe=devTools.get(_SettingKey.SettingKey.POST_THUMBNAIL_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME).addRequiredStep(saveFeaturedImages).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.DEV_TOOLS_CLICK_FEATURED_IMAGE),testButton=setting.getInner(_SettingKey.SettingKey.POST_THUMBNAIL_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_TEST).addRequiredStep(saveFeaturedImages).addDesiredStateCheckerCommand(new _TestResultsVisibleCheckerCommand.TestResultsVisibleCheckerCommand);builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_POST)).addStep(saveFeaturedImages).addStep(setting.get(_SettingKey.SettingKey.POST_THUMBNAIL_SELECTORS).addRequiredStep(saveFeaturedImages).addEventListener(new _LoadStepOnEventListener.LoadStepOnEventListener(devToolsIframe,_EventType.EventType.devToolsOpened)).addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.optionsBoxOpened))).addStep(setting.getInner(_SettingKey.SettingKey.POST_THUMBNAIL_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS).addRequiredStep(saveFeaturedImages)).addStep(devToolsIframe).addStep(devTools.get(_SettingKey.SettingKey.POST_THUMBNAIL_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR).addRequiredStep(saveFeaturedImages)).addStep(testButton).addStep(setting.getInner(_SettingKey.SettingKey.POST_THUMBNAIL_SELECTORS,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).addRequiredStep(saveFeaturedImages,testButton).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.OBSERVE_FOUND_FEATURED_IMAGE_URL)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),SavingFeaturedImages}(_AbstractGuide2.AbstractGuide);exports.SavingFeaturedImages=SavingFeaturedImages},{"../../common/EventType":10,"../../common/enum/InnerItemSelector":23,"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/enum/RuleIdentifier":35,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../command/checker/element/TestResultsVisibleCheckerCommand":96,"../enum/CustomStepInfoKey":110,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../event-listeners/CancelTourOnEventListener":115,"../event-listeners/LoadStepOnEventListener":117,"../step-factory/DevToolsStepFactory":141,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],126:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavingImagesInPostContent=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SavingImagesInPostContent=function(_AbstractGuide){function SavingImagesInPostContent(){return _classCallCheck(this,SavingImagesInPostContent),_possibleConstructorReturn(this,_getPrototypeOf(SavingImagesInPostContent).apply(this,arguments))}return _inherits(SavingImagesInPostContent,_AbstractGuide),_createClass(SavingImagesInPostContent,[{key:"getId",value:function getId(){return _GuideId.GuideId.SAVING_IMAGES_IN_POST_CONTENT}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance();builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_POST)).addStep(setting.get(_SettingKey.SettingKey.POST_SAVE_ALL_IMAGES_IN_CONTENT).setSkippable(!1).addRule(new _FormItemRule.FormItemRule("checked")).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),SavingImagesInPostContent}(_AbstractGuide2.AbstractGuide);exports.SavingImagesInPostContent=SavingImagesInPostContent},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],127:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavingPostsAutomatically=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_SettingKey=require("../../common/enum/SettingKey"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId"),_RedirectPage=require("../command/redirect/RedirectPage"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingInnerKey=require("../../common/enum/SettingInnerKey"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_DevToolsStepFactory=require("../step-factory/DevToolsStepFactory"),_CustomStepInfoKey=require("../enum/CustomStepInfoKey"),_UpdateDevToolsUrlCommand=require("../command/dev-tools/UpdateDevToolsUrlCommand"),_MenuLinkStepFactory=require("../step-factory/MenuLinkStepFactory"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy"),_LoadStepOnEventListener=require("../event-listeners/LoadStepOnEventListener"),_EventType=require("../../common/EventType"),_RuleIdentifier=require("../../common/validation/enum/RuleIdentifier"),_PageTypeUtils=require("../../common/PageTypeUtils");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SavingPostsAutomatically=function(_AbstractGuide){function SavingPostsAutomatically(){return _classCallCheck(this,SavingPostsAutomatically),_possibleConstructorReturn(this,_getPrototypeOf(SavingPostsAutomatically).apply(this,arguments))}return _inherits(SavingPostsAutomatically,_AbstractGuide),_createClass(SavingPostsAutomatically,[{key:"getId",value:function getId(){return _GuideId.GuideId.SAVING_POSTS_AUTOMATICALLY}},{key:"getStartPageType",value:function getStartPageType(){return _PageTypeUtils.PageTypeUtils.getPageType()}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),devTools=_DevToolsStepFactory.DevToolsStepFactory.getInstance(),menuLink=_MenuLinkStepFactory.MenuLinkStepFactory.getInstance(),devToolsIframePostTitle=devTools.get(_SettingKey.SettingKey.POST_TITLE_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME).addBeforeShowCommand(new _UpdateDevToolsUrlCommand.UpdateDevToolsUrlCommand(_SettingKey.SettingKey.TEST_URL_POST)).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.DEV_TOOLS_CLICK_POST_TITLE),devToolsIframePostContent=devTools.get(_SettingKey.SettingKey.POST_CONTENT_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME).addBeforeShowCommand(new _UpdateDevToolsUrlCommand.UpdateDevToolsUrlCommand(_SettingKey.SettingKey.TEST_URL_POST)).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.DEV_TOOLS_CLICK_POST_CONTENT),postLinkSelectorsTestButton=setting.getInner(_SettingKey.SettingKey.CATEGORY_POST_LINK_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_TEST),postTitleSelectorsTestButton=setting.getInner(_SettingKey.SettingKey.POST_TITLE_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_TEST),postContentSelectorsTestButton=setting.getInner(_SettingKey.SettingKey.POST_CONTENT_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_TEST),generalActiveScheduling=setting.get(_SettingKey.SettingKey.WPCC_IS_SCHEDULING_ACTIVE).addRule(new _FormItemRule.FormItemRule("checked")).setSkippable(!1).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy);builder.addStep((this.getStartPageType()===_PageType.PageType.SITE_LISTING?general.get(_GeneralStepId.GeneralStepId.BTN_ADD_NEW_SITE):menuLink.get(_PageType.PageType.ADD_NEW_SITE)).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.LETS_GET_YOU_STARTED_ADD_NEW_SITE).setSkippable(!1).setNextable(!1)).setPage(_RedirectPage.RedirectPage.fromPageType(_PageType.PageType.SITE_SETTINGS)).addStep(general.get(_GeneralStepId.GeneralStepId.INPUT_SITE_TITLE)).addStep(setting.get(_SettingKey.SettingKey.MAIN_PAGE_URL)).addStep(setting.get(_SettingKey.SettingKey.ACTIVE).setSkippable(!1).addRule(new _FormItemRule.FormItemRule(_RuleIdentifier.RuleIdentifier.CHECKED)).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)).addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_CATEGORY)).addStep(setting.getInner(_SettingKey.SettingKey.CATEGORY_MAP,_SettingInnerKey.SettingInnerKey.URL).setSkippable(!1)).addStep(setting.get(_SettingKey.SettingKey.TEST_URL_CATEGORY).setSkippable(!1)).addStep(setting.getInner(_SettingKey.SettingKey.CATEGORY_POST_LINK_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS)).addStep(devTools.get(_SettingKey.SettingKey.CATEGORY_POST_LINK_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME).addBeforeShowCommand(new _UpdateDevToolsUrlCommand.UpdateDevToolsUrlCommand(_SettingKey.SettingKey.TEST_URL_CATEGORY)).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.DEV_TOOLS_CLICK_POST_LINK)).addStep(devTools.get(_SettingKey.SettingKey.CATEGORY_POST_LINK_SELECTORS,_SettingKey.SettingKey.DEV_TOOLS_CSS_SELECTOR)).addStep(devTools.get(_SettingKey.SettingKey.CATEGORY_POST_LINK_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR)).addStep(postLinkSelectorsTestButton).addStep(setting.getInner(_SettingKey.SettingKey.CATEGORY_POST_LINK_SELECTORS,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.OBSERVE_FOUND_POST_URLS).addRequiredStep(postLinkSelectorsTestButton)).addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_POST)).addStep(setting.get(_SettingKey.SettingKey.TEST_URL_POST).setSkippable(!1)).addStep(setting.get(_SettingKey.SettingKey.POST_TITLE_SELECTORS).addEventListener(new _LoadStepOnEventListener.LoadStepOnEventListener(devToolsIframePostTitle,_EventType.EventType.devToolsOpened))).addStep(setting.getInner(_SettingKey.SettingKey.POST_TITLE_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS)).addStep(devToolsIframePostTitle).addStep(devTools.get(_SettingKey.SettingKey.POST_TITLE_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR)).addStep(postTitleSelectorsTestButton).addStep(setting.getInner(_SettingKey.SettingKey.POST_TITLE_SELECTORS,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.OBSERVE_FOUND_POST_TITLE).addRequiredStep(postTitleSelectorsTestButton)).addStep(setting.get(_SettingKey.SettingKey.POST_CONTENT_SELECTORS).addEventListener(new _LoadStepOnEventListener.LoadStepOnEventListener(devToolsIframePostContent,_EventType.EventType.devToolsOpened))).addStep(setting.getInner(_SettingKey.SettingKey.POST_CONTENT_SELECTORS,_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS)).addStep(devToolsIframePostContent).addStep(devTools.get(_SettingKey.SettingKey.POST_CONTENT_SELECTORS,_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR)).addStep(postContentSelectorsTestButton).addStep(setting.getInner(_SettingKey.SettingKey.POST_CONTENT_SELECTORS,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).addRequiredStep(postContentSelectorsTestButton)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_PUBLISH_UPDATE).setSkippable(!1).setNextable(!1)).addStep(menuLink.get(_PageType.PageType.GENERAL_SETTINGS)).setPage(_RedirectPage.RedirectPage.fromPageType(_PageType.PageType.GENERAL_SETTINGS)).addStep(generalActiveScheduling).addStep(setting.get(_SettingKey.SettingKey.WPCC_INTERVAL_URL_COLLECTION).addRequiredStep(generalActiveScheduling)).addStep(setting.get(_SettingKey.SettingKey.WPCC_INTERVAL_POST_CRAWL).addRequiredStep(generalActiveScheduling)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_SAVE_GENERAL_SETTINGS).setCompletable(!1).setNextable(!1).setSkippable(!1)).addStep(menuLink.get(_PageType.PageType.DASHBOARD)).setPage(_RedirectPage.RedirectPage.fromPageType(_PageType.PageType.DASHBOARD)).addStep(general.get(_GeneralStepId.GeneralStepId.DASHBOARD_ACTIVE_SITES_SECTION)).addStep(general.get(_GeneralStepId.GeneralStepId.DASHBOARD_WHATS_HAPPENING_SECTION)).addStep(general.get(_GeneralStepId.GeneralStepId.DASHBOARD_LAST_CRAWLED_POSTS_SECTION)).addStep(general.get(_GeneralStepId.GeneralStepId.DASHBOARD_REFRESH_INPUT))}}]),SavingPostsAutomatically}(_AbstractGuide2.AbstractGuide);exports.SavingPostsAutomatically=SavingPostsAutomatically},{"../../common/EventType":10,"../../common/PageTypeUtils":15,"../../common/enum/InnerItemSelector":23,"../../common/enum/PageType":27,"../../common/enum/SettingInnerKey":28,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/enum/RuleIdentifier":35,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../command/dev-tools/UpdateDevToolsUrlCommand":101,"../command/redirect/RedirectPage":105,"../enum/CustomStepInfoKey":110,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../event-listeners/LoadStepOnEventListener":117,"../step-factory/DevToolsStepFactory":141,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/MenuLinkStepFactory":144,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],128:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavingWooCommerceProducts=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../common/validation/enum/RuleIdentifier"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy"),_GeneralStepId=require("../enum/GeneralStepId"),_GeneralCheckerCommand=require("../command/checker/GeneralCheckerCommand"),_WooCommerceSettings=require("../../post-settings/WooCommerceSettings"),_ValueEqualsAdvanceStrategy=require("../advance-strategy/ValueEqualsAdvanceStrategy"),_SettingInnerKey=require("../../common/enum/SettingInnerKey"),_CustomStepInfoKey=require("../enum/CustomStepInfoKey");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SavingWooCommerceProducts=function(_AbstractGuide){function SavingWooCommerceProducts(){return _classCallCheck(this,SavingWooCommerceProducts),_possibleConstructorReturn(this,_getPrototypeOf(SavingWooCommerceProducts).apply(this,arguments))}return _inherits(SavingWooCommerceProducts,_AbstractGuide),_createClass(SavingWooCommerceProducts,[{key:"getId",value:function getId(){return _GuideId.GuideId.SAVING_WOOCOMMERCE_PRODUCTS}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),setting=_SettingStepFactory.SettingStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),useCustomGeneralSettings=setting.get(_SettingKey.SettingKey.DO_NOT_USE_GENERAL_SETTINGS).addRule(new _FormItemRule.FormItemRule(_RuleIdentifier.RuleIdentifier.CHECKED)).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy),postType=setting.get(_SettingKey.SettingKey.WPCC_POST_TYPE).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.VALID_VAL,"product"))).setAdvanceStrategy(new _ValueEqualsAdvanceStrategy.ValueEqualsAdvanceStrategy("product")).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.POST_TYPE_WOOCOMMERCE_PRODUCT),publishButton=general.get(_GeneralStepId.GeneralStepId.BTN_PUBLISH_UPDATE).addDesiredStateCheckerCommand(new _GeneralCheckerCommand.GeneralCheckerCommand(function(){return _WooCommerceSettings.WooCommerceSettings.isWooCommerceSettingsAvailable()})).setSkippable(!1).setNextable(!1);builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_MAIN)).addStep(useCustomGeneralSettings).addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_GENERAL_SETTINGS).addRequiredStep(useCustomGeneralSettings)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_LOAD_GENERAL_SETTINGS).addRequiredStep(useCustomGeneralSettings)).addStep(postType.addRequiredStep(useCustomGeneralSettings)).addStep(publishButton.addRequiredStep(postType)).addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_CATEGORY).addRequiredStep(publishButton)).addStep(setting.getInner(_SettingKey.SettingKey.CATEGORY_MAP,_SettingInnerKey.SettingInnerKey.CATEGORY_ID).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.CATEGORY_MAP_WOOCOMMERCE_CATEGORY)).addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_POST).addRequiredStep(publishButton)).addStep(general.get(_GeneralStepId.GeneralStepId.SECTION_WOOCOMMERCE)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS).addRequiredStep(publishButton))}}]),SavingWooCommerceProducts}(_AbstractGuide2.AbstractGuide);exports.SavingWooCommerceProducts=SavingWooCommerceProducts},{"../../common/enum/PageType":27,"../../common/enum/SettingInnerKey":28,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/enum/RuleIdentifier":35,"../../common/validation/form-item/FormItemRule":36,"../../post-settings/WooCommerceSettings":173,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../advance-strategy/ValueEqualsAdvanceStrategy":76,"../command/checker/GeneralCheckerCommand":93,"../enum/CustomStepInfoKey":110,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],129:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShowingIframesInPostContent=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId"),_RedirectPage=require("../command/redirect/RedirectPage"),_MenuLinkStepFactory=require("../step-factory/MenuLinkStepFactory"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var ShowingIframesInPostContent=function(_AbstractGuide){function ShowingIframesInPostContent(){return _classCallCheck(this,ShowingIframesInPostContent),_possibleConstructorReturn(this,_getPrototypeOf(ShowingIframesInPostContent).apply(this,arguments))}return _inherits(ShowingIframesInPostContent,_AbstractGuide),_createClass(ShowingIframesInPostContent,[{key:"getId",value:function getId(){return _GuideId.GuideId.SHOWING_IFRAMES_IN_POST_CONTENT}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),menuLink=_MenuLinkStepFactory.MenuLinkStepFactory.getInstance();builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_TEMPLATES)).addStep(setting.get(_SettingKey.SettingKey.POST_CONVERT_IFRAMES_TO_SHORT_CODE).setSkippable(!1).addRule(new _FormItemRule.FormItemRule("checked")).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS)).addStep(menuLink.get(_PageType.PageType.GENERAL_SETTINGS)).setPage(_RedirectPage.RedirectPage.fromPageType(_PageType.PageType.GENERAL_SETTINGS)).addStep(tab.get(_TabKey.TabKey.GENERAL_SETTINGS_TAB_POST)).addStep(setting.get(_SettingKey.SettingKey.WPCC_ALLOWED_IFRAME_SHORT_CODE_DOMAINS)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_SAVE_GENERAL_SETTINGS))}}]),ShowingIframesInPostContent}(_AbstractGuide2.AbstractGuide);exports.ShowingIframesInPostContent=ShowingIframesInPostContent},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../command/redirect/RedirectPage":105,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/MenuLinkStepFactory":144,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],130:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShowingLazyLoadedImages=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_CancelTourOnEventListener=require("../event-listeners/CancelTourOnEventListener"),_EventType=require("../../common/EventType"),_SettingInnerKey=require("../../common/enum/SettingInnerKey"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_GeneralStepId=require("../enum/GeneralStepId"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../common/validation/enum/RuleIdentifier"),_Option=require("../tether-options/Option"),_CustomStepInfoKey=require("../enum/CustomStepInfoKey");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var ShowingLazyLoadedImages=function(_AbstractGuide){function ShowingLazyLoadedImages(){return _classCallCheck(this,ShowingLazyLoadedImages),_possibleConstructorReturn(this,_getPrototypeOf(ShowingLazyLoadedImages).apply(this,arguments))}return _inherits(ShowingLazyLoadedImages,_AbstractGuide),_createClass(ShowingLazyLoadedImages,[{key:"getId",value:function getId(){return _GuideId.GuideId.SHOWING_LAZY_LOADED_IMAGES}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),testButton1=setting.getInner(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES,_InnerItemSelector.InnerItemSelector.BUTTON_TEST),testButton2=setting.getInner(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES,_InnerItemSelector.InnerItemSelector.BUTTON_TEST),selector=setting.getInner(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES,_SettingInnerKey.SettingInnerKey.SELECTOR).setSkippable(!1).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_SELECTOR).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.VALID_VAL,"img"))),attribute1=setting.getInner(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES,_SettingInnerKey.SettingInnerKey.ATTRIBUTE_1).setSkippable(!1).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_ATTR1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.VALID_VAL,"src"))),attribute2=setting.getInner(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES,_SettingInnerKey.SettingInnerKey.ATTRIBUTE_2).setSkippable(!1).setTetherOption(_Option.Option.BOTTOM_LEFT__TOP_RIGHT).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_ATTR2).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1")));builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_POST)).addStep(setting.get(_SettingKey.SettingKey.TEST_URL_POST)).addStep(setting.get(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES).addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.devToolsOpened))).addStep(selector).addStep(attribute1.addRequiredStep(selector)).addStep(testButton1).addStep(setting.getInner(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_TEST_RESULTS_1).addRequiredStep(testButton1)).addStep(attribute2.addRequiredStep(attribute1)).addStep(testButton2).addStep(setting.getInner(_SettingKey.SettingKey.POST_EXCHANGE_ELEMENT_ATTRIBUTES,_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.SHOW_LAZY_LOADED_IMAGES_TEST_RESULTS_2).addRequiredStep(testButton2)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),ShowingLazyLoadedImages}(_AbstractGuide2.AbstractGuide);exports.ShowingLazyLoadedImages=ShowingLazyLoadedImages},{"../../common/EventType":10,"../../common/enum/InnerItemSelector":23,"../../common/enum/PageType":27,"../../common/enum/SettingInnerKey":28,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/enum/RuleIdentifier":35,"../../common/validation/form-item/FormItemRule":36,"../enum/CustomStepInfoKey":110,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../event-listeners/CancelTourOnEventListener":115,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"../tether-options/Option":147,"./base/AbstractGuide":135}],131:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestingSiteSettings=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var TestingSiteSettings=function(_AbstractGuide){function TestingSiteSettings(){return _classCallCheck(this,TestingSiteSettings),_possibleConstructorReturn(this,_getPrototypeOf(TestingSiteSettings).apply(this,arguments))}return _inherits(TestingSiteSettings,_AbstractGuide),_createClass(TestingSiteSettings,[{key:"getId",value:function getId(){return _GuideId.GuideId.TESTING_SITE_SETTINGS}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_TESTER}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var general=_GeneralStepFactory.GeneralStepFactory.getInstance(),testButton=general.get(_GeneralStepId.GeneralStepId.TESTER_BTN_TEST).setSkippable(!1).setNextable(!1);builder.addStep(general.get(_GeneralStepId.GeneralStepId.TESTER_SELECT_SITE_NAME)).addStep(general.get(_GeneralStepId.GeneralStepId.TESTER_SELECT_TEST_TYPE)).addStep(general.get(_GeneralStepId.GeneralStepId.TESTER_CONTAINER_TEST_URL)).addStep(testButton).addStep(general.get(_GeneralStepId.GeneralStepId.TESTER_TEST_RESULTS_CONTAINER).addRequiredStep(testButton))}}]),TestingSiteSettings}(_AbstractGuide2.AbstractGuide);exports.TestingSiteSettings=TestingSiteSettings},{"../../common/enum/PageType":27,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"./base/AbstractGuide":135}],132:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpdatingPostsAutomatically=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_SettingKey=require("../../common/enum/SettingKey"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId"),_MenuLinkStepFactory=require("../step-factory/MenuLinkStepFactory"),_RedirectPage=require("../command/redirect/RedirectPage"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var UpdatingPostsAutomatically=function(_AbstractGuide){function UpdatingPostsAutomatically(){return _classCallCheck(this,UpdatingPostsAutomatically),_possibleConstructorReturn(this,_getPrototypeOf(UpdatingPostsAutomatically).apply(this,arguments))}return _inherits(UpdatingPostsAutomatically,_AbstractGuide),_createClass(UpdatingPostsAutomatically,[{key:"getId",value:function getId(){return _GuideId.GuideId.UPDATING_POSTS_AUTOMATICALLY}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),menuLink=_MenuLinkStepFactory.MenuLinkStepFactory.getInstance(),generalActiveRecrawling=setting.get(_SettingKey.SettingKey.WPCC_IS_RECRAWLING_ACTIVE).addRule(new _FormItemRule.FormItemRule("checked")).setSkippable(!1).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy);builder.addStep(setting.get(_SettingKey.SettingKey.ACTIVE_RECRAWLING).setSkippable(!1).addRule(new _FormItemRule.FormItemRule("checked"))).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS)).addStep(menuLink.get(_PageType.PageType.GENERAL_SETTINGS)).setPage(_RedirectPage.RedirectPage.fromPageType(_PageType.PageType.GENERAL_SETTINGS)).addStep(generalActiveRecrawling).addStep(setting.get(_SettingKey.SettingKey.WPCC_INTERVAL_POST_RECRAWL).addRequiredStep(generalActiveRecrawling)).addStep(setting.get(_SettingKey.SettingKey.WPCC_MIN_TIME_BETWEEN_TWO_RECRAWLS_IN_MIN)).addStep(setting.get(_SettingKey.SettingKey.WPCC_RECRAWL_POSTS_NEWER_THAN_IN_MIN)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_SAVE_GENERAL_SETTINGS).setCompletable(!1).setNextable(!1).setSkippable(!1))}}]),UpdatingPostsAutomatically}(_AbstractGuide2.AbstractGuide);exports.UpdatingPostsAutomatically=UpdatingPostsAutomatically},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../command/redirect/RedirectPage":105,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MenuLinkStepFactory":144,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],133:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UsingCookies=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_GeneralStepId=require("../enum/GeneralStepId");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var UsingCookies=function(_AbstractGuide){function UsingCookies(){return _classCallCheck(this,UsingCookies),_possibleConstructorReturn(this,_getPrototypeOf(UsingCookies).apply(this,arguments))}return _inherits(UsingCookies,_AbstractGuide),_createClass(UsingCookies,[{key:"getId",value:function getId(){return _GuideId.GuideId.USING_COOKIES}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance();builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_MAIN).setSkippable(!1)).addStep(setting.get(_SettingKey.SettingKey.COOKIES)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),UsingCookies}(_AbstractGuide2.AbstractGuide);exports.UsingCookies=UsingCookies},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],134:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UsingCustomGeneralSettings=void 0;var _AbstractGuide2=require("./base/AbstractGuide"),_GuideId=require("../enum/GuideId"),_PageType=require("../../common/enum/PageType"),_SettingStepFactory=require("../step-factory/SettingStepFactory"),_GeneralStepFactory=require("../step-factory/GeneralStepFactory"),_MainTabStepFactory=require("../step-factory/MainTabStepFactory"),_TabKey=require("../../common/enum/TabKey"),_SettingKey=require("../../common/enum/SettingKey"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_GeneralStepId=require("../enum/GeneralStepId");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var UsingCustomGeneralSettings=function(_AbstractGuide){function UsingCustomGeneralSettings(){return _classCallCheck(this,UsingCustomGeneralSettings),_possibleConstructorReturn(this,_getPrototypeOf(UsingCustomGeneralSettings).apply(this,arguments))}return _inherits(UsingCustomGeneralSettings,_AbstractGuide),_createClass(UsingCustomGeneralSettings,[{key:"getId",value:function getId(){return _GuideId.GuideId.USING_CUSTOM_GENERAL_SETTINGS}},{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),doNotUseGeneralSettings=setting.get(_SettingKey.SettingKey.DO_NOT_USE_GENERAL_SETTINGS).setSkippable(!1).addRule(new _FormItemRule.FormItemRule("checked")).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy),settingsTab=tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_GENERAL_SETTINGS).setMustBeEnabled(!0).setSkippable(!1).addRequiredStep(doNotUseGeneralSettings);builder.addStep(tab.get(_TabKey.TabKey.SITE_SETTINGS_TAB_MAIN)).addStep(doNotUseGeneralSettings).addStep(settingsTab).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_LOAD_GENERAL_SETTINGS).addRequiredStep(settingsTab)).addStep(general.get(_GeneralStepId.GeneralStepId.TAB_CONTENT_GENERAL_SETTINGS).addRequiredStep(settingsTab)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS))}}]),UsingCustomGeneralSettings}(_AbstractGuide2.AbstractGuide);exports.UsingCustomGeneralSettings=UsingCustomGeneralSettings},{"../../common/enum/PageType":27,"../../common/enum/SettingKey":29,"../../common/enum/TabKey":30,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../enum/GeneralStepId":111,"../enum/GuideId":112,"../step-factory/GeneralStepFactory":142,"../step-factory/MainTabStepFactory":143,"../step-factory/SettingStepFactory":145,"./base/AbstractGuide":135}],135:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractGuide=void 0;var _TourBuilder=require("../../builder/tours/TourBuilder"),_RedirectPage=require("../../command/redirect/RedirectPage");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var AbstractGuide=function(){function AbstractGuide(){_classCallCheck(this,AbstractGuide),this.tourBuilder=null}return _createClass(AbstractGuide,[{key:"getName",value:function getName(){return this.getGuideInfo().name||window.wpcc.no_name}},{key:"getDescription",value:function getDescription(){return this.getGuideInfo().desc||null}},{key:"getTourBuilder",value:function getTourBuilder(){return null===this.tourBuilder&&(this.tourBuilder=new _TourBuilder.TourBuilder(this.getName(),this.getId(),this.getDescription()).setPage(_RedirectPage.RedirectPage.fromPageType(this.getStartPageType())),this.prepareTourBuilder(this.tourBuilder)),this.tourBuilder}},{key:"getSummaryAsHtml",value:function getSummaryAsHtml(){return this.getTourBuilder().getSummaryAsHtml()}},{key:"start",value:function start(argument_0){var index=0<arguments.length&&void 0!==argument_0?argument_0:0,tourBuilder=this.getTourBuilder(),maxIndex=tourBuilder.getStepCount()-1;maxIndex<0?console.warn("This guide does not have any steps."):(maxIndex<index&&(console.warn("Index ".concat(index," is greater than the maximum available index ").concat(maxIndex,". ")+"Guide will start at index 0."),index=0),tourBuilder.getTour().show(index))}},{key:"getGuideInfo",value:function getGuideInfo(){return window.wpcc.guide_info[this.getId()]||{}}}]),AbstractGuide}();exports.AbstractGuide=AbstractGuide},{"../../builder/tours/TourBuilder":89,"../../command/redirect/RedirectPage":105}],136:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractTranslatingPostsGuide=void 0;var _AbstractGuide2=require("./AbstractGuide"),_PageType=require("../../../common/enum/PageType"),_SettingStepFactory=require("../../step-factory/SettingStepFactory"),_MainTabStepFactory=require("../../step-factory/MainTabStepFactory"),_GeneralStepFactory=require("../../step-factory/GeneralStepFactory"),_MenuLinkStepFactory=require("../../step-factory/MenuLinkStepFactory"),_SettingKey=require("../../../common/enum/SettingKey"),_FormItemRule=require("../../../common/validation/form-item/FormItemRule"),_CheckboxSettingAdvanceStrategy=require("../../advance-strategy/CheckboxSettingAdvanceStrategy"),_GeneralStepId=require("../../enum/GeneralStepId"),_RedirectPage=require("../../command/redirect/RedirectPage"),_TabKey=require("../../../common/enum/TabKey"),_RuleIdentifier=require("../../../common/validation/enum/RuleIdentifier"),_ValueEqualsAdvanceStrategy=require("../../advance-strategy/ValueEqualsAdvanceStrategy"),_InnerItemSelector=require("../../../common/enum/InnerItemSelector"),_Option=require("../../tether-options/Option"),_CustomStepInfoKey=require("../../enum/CustomStepInfoKey");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var AbstractTranslatingPostsGuide=function(_AbstractGuide){function AbstractTranslatingPostsGuide(){var _this;return _classCallCheck(this,AbstractTranslatingPostsGuide),(_this=_possibleConstructorReturn(this,_getPrototypeOf(AbstractTranslatingPostsGuide).apply(this,arguments))).selectedTransServiceStep=null,_this}return _inherits(AbstractTranslatingPostsGuide,_AbstractGuide),_createClass(AbstractTranslatingPostsGuide,[{key:"getStartPageType",value:function getStartPageType(){return _PageType.PageType.SITE_SETTINGS}},{key:"prepareTourBuilder",value:function prepareTourBuilder(builder){var _this2=this,setting=_SettingStepFactory.SettingStepFactory.getInstance(),tab=_MainTabStepFactory.MainTabStepFactory.getInstance(),general=_GeneralStepFactory.GeneralStepFactory.getInstance(),menuLink=_MenuLinkStepFactory.MenuLinkStepFactory.getInstance();builder.addStep(setting.get(_SettingKey.SettingKey.ACTIVE_TRANSLATION).addRule(new _FormItemRule.FormItemRule("checked")).setSkippable(!1).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS)).addStep(menuLink.get(_PageType.PageType.GENERAL_SETTINGS)).setPage(_RedirectPage.RedirectPage.fromPageType(_PageType.PageType.GENERAL_SETTINGS)).addStep(tab.get(_TabKey.TabKey.GENERAL_SETTINGS_TAB_TRANSLATION)).addStep(setting.get(_SettingKey.SettingKey.WPCC_IS_TRANSLATION_ACTIVE).setSkippable(!1).addRule(new _FormItemRule.FormItemRule("checked")).setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)).addStep(this.getSelectedTranslationServiceStep());var credentialSteps=this.getApiCredentialsSteps();credentialSteps.forEach(function(v){return v.addRequiredStep(_this2.getSelectedTranslationServiceStep())}),builder.addStep.apply(builder,_toConsumableArray(credentialSteps));var testText=setting.getInner(this.getTestKey(),_InnerItemSelector.InnerItemSelector.TEST_TRANSLATION_OPTIONS_TEXTAREA,null).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1"))).setTetherOption(_Option.Option.TOP_LEFT__BOTTOM_LEFT).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.TRANSLATION_TEST_TEXT).setSkippable(!1),testButton=setting.getInner(this.getTestKey(),_InnerItemSelector.InnerItemSelector.BUTTON_TEST,null).setTetherOption(_Option.Option.TOP_LEFT__BOTTOM_LEFT);builder.addStep(setting.get(this.getFromKey()).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.TRANSLATION_FROM_LANGUAGE).addRequiredStep(this.getSelectedTranslationServiceStep())).addStep(setting.get(this.getToKey()).setDetailsFromCustomKey(_CustomStepInfoKey.CustomStepInfoKey.TRANSLATION_TO_LANGUAGE).addRequiredStep(this.getSelectedTranslationServiceStep())).addStep(testText.addRequiredStep(this.getSelectedTranslationServiceStep())).addStep(testButton.addRequiredStep(testText)).addStep(setting.getInner(this.getTestKey(),_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,null).addRequiredStep(testButton)).addStep(general.get(_GeneralStepId.GeneralStepId.BTN_SAVE_GENERAL_SETTINGS))}},{key:"getSelectedTranslationServiceStep",value:function getSelectedTranslationServiceStep(){return null===this.selectedTransServiceStep&&(this.selectedTransServiceStep=_SettingStepFactory.SettingStepFactory.getInstance().get(_SettingKey.SettingKey.WPCC_SELECTED_TRANSLATION_SERVICE).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.VALID_VAL,this.getTranslationServiceKey())).addErrorMessage(_RuleIdentifier.RuleIdentifier.VALID_VAL,window.wpcc.please_select_x.replace("%s",this.getTranslationServiceName))).setAdvanceStrategy(new _ValueEqualsAdvanceStrategy.ValueEqualsAdvanceStrategy(this.getTranslationServiceKey())).setSkippable(!1)),this.selectedTransServiceStep}}]),AbstractTranslatingPostsGuide}(_AbstractGuide2.AbstractGuide);exports.AbstractTranslatingPostsGuide=AbstractTranslatingPostsGuide},{"../../../common/enum/InnerItemSelector":23,"../../../common/enum/PageType":27,"../../../common/enum/SettingKey":29,"../../../common/enum/TabKey":30,"../../../common/validation/enum/RuleIdentifier":35,"../../../common/validation/form-item/FormItemRule":36,"../../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../../advance-strategy/ValueEqualsAdvanceStrategy":76,"../../command/redirect/RedirectPage":105,"../../enum/CustomStepInfoKey":110,"../../enum/GeneralStepId":111,"../../step-factory/GeneralStepFactory":142,"../../step-factory/MainTabStepFactory":143,"../../step-factory/MenuLinkStepFactory":144,"../../step-factory/SettingStepFactory":145,"../../tether-options/Option":147,"./AbstractGuide":135}],137:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslatingWithAmazonTranslate=void 0;var _GuideId=require("../../enum/GuideId"),_AbstractTranslatingPostsGuide=require("../base/AbstractTranslatingPostsGuide"),_SettingKey=require("../../../common/enum/SettingKey"),_SettingStepFactory=require("../../step-factory/SettingStepFactory"),_FormItemRule=require("../../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../../common/validation/enum/RuleIdentifier");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var TranslatingWithAmazonTranslate=function(_AbstractTranslatingP){function TranslatingWithAmazonTranslate(){return _classCallCheck(this,TranslatingWithAmazonTranslate),_possibleConstructorReturn(this,_getPrototypeOf(TranslatingWithAmazonTranslate).apply(this,arguments))}return _inherits(TranslatingWithAmazonTranslate,_AbstractTranslatingP),_createClass(TranslatingWithAmazonTranslate,[{key:"getId",value:function getId(){return _GuideId.GuideId.TRANSLATING_WITH_AMAZON_TRANSLATE}},{key:"getFromKey",value:function getFromKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_FROM}},{key:"getToKey",value:function getToKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_TO}},{key:"getTestKey",value:function getTestKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_TEST}},{key:"getTranslationServiceKey",value:function getTranslationServiceKey(){return"amazon_translate"}},{key:"getTranslationServiceName",value:function getTranslationServiceName(){return"Amazon Translate"}},{key:"getApiCredentialsSteps",value:function getApiCredentialsSteps(){var setting=_SettingStepFactory.SettingStepFactory.getInstance();return[setting.get(_SettingKey.SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_ACCESS_KEY).addRequiredStep(this.getSelectedTranslationServiceStep()).setSkippable(!1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1"))),setting.get(_SettingKey.SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_SECRET).addRequiredStep(this.getSelectedTranslationServiceStep()).setSkippable(!1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1"))),setting.get(_SettingKey.SettingKey.WPCC_TRANSLATION_AMAZON_TRANSLATE_REGION).addRequiredStep(this.getSelectedTranslationServiceStep()).setSkippable(!1)]}}]),TranslatingWithAmazonTranslate}(_AbstractTranslatingPostsGuide.AbstractTranslatingPostsGuide);exports.TranslatingWithAmazonTranslate=TranslatingWithAmazonTranslate},{"../../../common/enum/SettingKey":29,"../../../common/validation/enum/RuleIdentifier":35,"../../../common/validation/form-item/FormItemRule":36,"../../enum/GuideId":112,"../../step-factory/SettingStepFactory":145,"../base/AbstractTranslatingPostsGuide":136}],138:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslatingWithGoogleCloudTranslation=void 0;var _GuideId=require("../../enum/GuideId"),_AbstractTranslatingPostsGuide=require("../base/AbstractTranslatingPostsGuide"),_SettingKey=require("../../../common/enum/SettingKey"),_SettingStepFactory=require("../../step-factory/SettingStepFactory"),_FormItemRule=require("../../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../../common/validation/enum/RuleIdentifier");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var TranslatingWithGoogleCloudTranslation=function(_AbstractTranslatingP){function TranslatingWithGoogleCloudTranslation(){return _classCallCheck(this,TranslatingWithGoogleCloudTranslation),_possibleConstructorReturn(this,_getPrototypeOf(TranslatingWithGoogleCloudTranslation).apply(this,arguments))}return _inherits(TranslatingWithGoogleCloudTranslation,_AbstractTranslatingP),_createClass(TranslatingWithGoogleCloudTranslation,[{key:"getId",value:function getId(){return _GuideId.GuideId.TRANSLATING_WITH_GOOGLE_CLOUD_TRANSLATION}},{key:"getFromKey",value:function getFromKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_FROM}},{key:"getToKey",value:function getToKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_TO}},{key:"getTestKey",value:function getTestKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_TEST}},{key:"getTranslationServiceKey",value:function getTranslationServiceKey(){return"google_translate"}},{key:"getTranslationServiceName",value:function getTranslationServiceName(){return"Google Cloud Translation"}},{key:"getApiCredentialsSteps",value:function getApiCredentialsSteps(){var setting=_SettingStepFactory.SettingStepFactory.getInstance();return[setting.get(_SettingKey.SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_PROJECT_ID).addRequiredStep(this.getSelectedTranslationServiceStep()).setSkippable(!1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1"))),setting.get(_SettingKey.SettingKey.WPCC_TRANSLATION_GOOGLE_TRANSLATE_API_KEY).addRequiredStep(this.getSelectedTranslationServiceStep()).setSkippable(!1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1")))]}}]),TranslatingWithGoogleCloudTranslation}(_AbstractTranslatingPostsGuide.AbstractTranslatingPostsGuide);exports.TranslatingWithGoogleCloudTranslation=TranslatingWithGoogleCloudTranslation},{"../../../common/enum/SettingKey":29,"../../../common/validation/enum/RuleIdentifier":35,"../../../common/validation/form-item/FormItemRule":36,"../../enum/GuideId":112,"../../step-factory/SettingStepFactory":145,"../base/AbstractTranslatingPostsGuide":136}],139:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslatingWithMicrosoftTranslatorText=void 0;var _GuideId=require("../../enum/GuideId"),_AbstractTranslatingPostsGuide=require("../base/AbstractTranslatingPostsGuide"),_SettingKey=require("../../../common/enum/SettingKey"),_SettingStepFactory=require("../../step-factory/SettingStepFactory"),_FormItemRule=require("../../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../../common/validation/enum/RuleIdentifier");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var TranslatingWithMicrosoftTranslatorText=function(_AbstractTranslatingP){function TranslatingWithMicrosoftTranslatorText(){return _classCallCheck(this,TranslatingWithMicrosoftTranslatorText),_possibleConstructorReturn(this,_getPrototypeOf(TranslatingWithMicrosoftTranslatorText).apply(this,arguments))}return _inherits(TranslatingWithMicrosoftTranslatorText,_AbstractTranslatingP),_createClass(TranslatingWithMicrosoftTranslatorText,[{key:"getId",value:function getId(){return _GuideId.GuideId.TRANSLATING_WITH_MICROSOFT_TRANSLATOR_TEXT}},{key:"getFromKey",value:function getFromKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_FROM}},{key:"getToKey",value:function getToKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_TO}},{key:"getTestKey",value:function getTestKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_TEST}},{key:"getTranslationServiceKey",value:function getTranslationServiceKey(){return"microsoft_translator_text"}},{key:"getTranslationServiceName",value:function getTranslationServiceName(){return"Microsoft Translator Text"}},{key:"getApiCredentialsSteps",value:function getApiCredentialsSteps(){var setting;return[_SettingStepFactory.SettingStepFactory.getInstance().get(_SettingKey.SettingKey.WPCC_TRANSLATION_MICROSOFT_TRANSLATOR_TEXT_CLIENT_SECRET).addRequiredStep(this.getSelectedTranslationServiceStep()).setSkippable(!1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1")))]}}]),TranslatingWithMicrosoftTranslatorText}(_AbstractTranslatingPostsGuide.AbstractTranslatingPostsGuide);exports.TranslatingWithMicrosoftTranslatorText=TranslatingWithMicrosoftTranslatorText},{"../../../common/enum/SettingKey":29,"../../../common/validation/enum/RuleIdentifier":35,"../../../common/validation/form-item/FormItemRule":36,"../../enum/GuideId":112,"../../step-factory/SettingStepFactory":145,"../base/AbstractTranslatingPostsGuide":136}],140:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslatingWithYandexTranslate=void 0;var _GuideId=require("../../enum/GuideId"),_AbstractTranslatingPostsGuide=require("../base/AbstractTranslatingPostsGuide"),_SettingKey=require("../../../common/enum/SettingKey"),_SettingStepFactory=require("../../step-factory/SettingStepFactory"),_FormItemRule=require("../../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../../common/validation/enum/RuleIdentifier");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var TranslatingWithYandexTranslate=function(_AbstractTranslatingP){function TranslatingWithYandexTranslate(){return _classCallCheck(this,TranslatingWithYandexTranslate),_possibleConstructorReturn(this,_getPrototypeOf(TranslatingWithYandexTranslate).apply(this,arguments))}return _inherits(TranslatingWithYandexTranslate,_AbstractTranslatingP),_createClass(TranslatingWithYandexTranslate,[{key:"getId",value:function getId(){return _GuideId.GuideId.TRANSLATING_WITH_YANDEX_TRANSLATE}},{key:"getFromKey",value:function getFromKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_FROM}},{key:"getToKey",value:function getToKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_TO}},{key:"getTestKey",value:function getTestKey(){return _SettingKey.SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_TEST}},{key:"getTranslationServiceKey",value:function getTranslationServiceKey(){return"yandex_translate"}},{key:"getTranslationServiceName",value:function getTranslationServiceName(){return"Yandex Translate"}},{key:"getApiCredentialsSteps",value:function getApiCredentialsSteps(){var setting;return[_SettingStepFactory.SettingStepFactory.getInstance().get(_SettingKey.SettingKey.WPCC_TRANSLATION_YANDEX_TRANSLATE_API_KEY).addRequiredStep(this.getSelectedTranslationServiceStep()).setSkippable(!1).addRule(_FormItemRule.FormItemRule.fromRuleMap((new Map).set(_RuleIdentifier.RuleIdentifier.TEXT_LENGTH,"1,-1")))]}}]),TranslatingWithYandexTranslate}(_AbstractTranslatingPostsGuide.AbstractTranslatingPostsGuide);exports.TranslatingWithYandexTranslate=TranslatingWithYandexTranslate},{"../../../common/enum/SettingKey":29,"../../../common/validation/enum/RuleIdentifier":35,"../../../common/validation/form-item/FormItemRule":36,"../../enum/GuideId":112,"../../step-factory/SettingStepFactory":145,"../base/AbstractTranslatingPostsGuide":136}],141:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevToolsStepFactory=void 0;var _WPCCrawler=require("../../common/WPCCrawler"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_SettingKey=require("../../common/enum/SettingKey"),_DevToolsStepBuilder=require("../builder/steps/DevToolsStepBuilder"),_AbstractStepFactory2=require("./base/AbstractStepFactory"),_Option=require("../tether-options/Option"),_ActivateHoverSelectCommand=require("../command/dev-tools/ActivateHoverSelectCommand"),_ClickAdvanceStrategy=require("../advance-strategy/ClickAdvanceStrategy"),_CancelTourOnEventListener=require("../event-listeners/CancelTourOnEventListener"),_EventType=require("../../common/EventType");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DevToolsStepFactory=function(_AbstractStepFactory){function DevToolsStepFactory(){var _this;return _classCallCheck(this,DevToolsStepFactory),(_this=_possibleConstructorReturn(this,_getPrototypeOf(DevToolsStepFactory).call(this))).preparers=new Map,_this.preparers.set(_SettingKey.SettingKey.DEV_TOOLS_USE_IMMEDIATELY,function(step){return step.addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.devToolsClosed)).targetSettingKey(_SettingKey.SettingKey.DEV_TOOLS_USE_IMMEDIATELY,!0)}).set(_SettingKey.SettingKey.DEV_TOOLS_TEST_BUTTON_BEHAVIOR,function(step){return step.addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.devToolsClosed)).targetSettingKey(_SettingKey.SettingKey.DEV_TOOLS_TEST_BUTTON_BEHAVIOR,!0)}).set(_InnerItemSelector.InnerItemSelector.DEV_TOOLS_IFRAME,function(step){return step.setTetherOption(_Option.Option.TOP_RIGHT__TOP_RIGHT).addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.devToolsClosed)).addBeforeShowCommand(new _ActivateHoverSelectCommand.ActivateHoverSelectCommand)}).set(_InnerItemSelector.InnerItemSelector.DEV_TOOLS_BTN_USE_SELECTOR,function(step){return step.setNextable(!1).setSkippable(!1).setAdvanceStrategy(new _ClickAdvanceStrategy.ClickAdvanceStrategy)}).set(_SettingKey.SettingKey.DEV_TOOLS_CSS_SELECTOR,function(step){return step.addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.devToolsClosed))}),_this}return _inherits(DevToolsStepFactory,_AbstractStepFactory),_createClass(DevToolsStepFactory,[{key:"get",value:function get(mainSettingKey,devToolsKey){var step=new _DevToolsStepBuilder.DevToolsStepBuilder(mainSettingKey);return Object.values(_SettingKey.SettingKey).includes(devToolsKey)?step.targetSettingKey(devToolsKey).setTitle(this.getSettingKeyTitle(devToolsKey)).setContent(this.getSettingKeyContent(devToolsKey)):(step.targetInnerItem(devToolsKey),this.setWithInnerKeyInfo(step,mainSettingKey,devToolsKey)),this.preparers.has(devToolsKey)&&this.preparers.get(devToolsKey)(step),step}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(DevToolsStepFactory.name,function(){return new DevToolsStepFactory})}}]),DevToolsStepFactory}(_AbstractStepFactory2.AbstractStepFactory);exports.DevToolsStepFactory=DevToolsStepFactory},{"../../common/EventType":10,"../../common/WPCCrawler":22,"../../common/enum/InnerItemSelector":23,"../../common/enum/SettingKey":29,"../advance-strategy/ClickAdvanceStrategy":74,"../builder/steps/DevToolsStepBuilder":82,"../command/dev-tools/ActivateHoverSelectCommand":98,"../event-listeners/CancelTourOnEventListener":115,"../tether-options/Option":147,"./base/AbstractStepFactory":146}],142:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralStepFactory=void 0;var _AbstractStepFactory2=require("./base/AbstractStepFactory"),_WPCCrawler=require("../../common/WPCCrawler"),_GeneralStepId=require("../enum/GeneralStepId"),_GeneralStepBuilder=require("../builder/steps/GeneralStepBuilder"),_AutoStartAtNextStepEventListener=require("../event-listeners/AutoStartAtNextStepEventListener"),_Option=require("../tether-options/Option"),_EventAdvanceStrategy=require("../advance-strategy/EventAdvanceStrategy"),_EventType=require("../../common/EventType"),_TesterPageResultsVisibleCheckerCommand=require("../command/checker/element/TesterPageResultsVisibleCheckerCommand"),_ClickAdvanceStrategy=require("../advance-strategy/ClickAdvanceStrategy"),_WooCommerceSettingsVariables=require("../../post-settings/WooCommerceSettingsVariables");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var GeneralStepFactory=function(_AbstractStepFactory){function GeneralStepFactory(){var _this;return _classCallCheck(this,GeneralStepFactory),(_this=_possibleConstructorReturn(this,_getPrototypeOf(GeneralStepFactory).call(this))).registry=new Map,_this.registry.set(_GeneralStepId.GeneralStepId.BTN_ADD_NEW_SITE,function(){return new _GeneralStepBuilder.GeneralStepBuilder(".page-title-action").addEventListener(new _AutoStartAtNextStepEventListener.AutoStartAtNextStepEventListener("click",".page-title-action"))}).set(_GeneralStepId.GeneralStepId.INPUT_SITE_TITLE,function(){return new _GeneralStepBuilder.GeneralStepBuilder('[name="post_title"]')}).set(_GeneralStepId.GeneralStepId.BTN_PUBLISH_UPDATE,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#publish").addEventListener(new _AutoStartAtNextStepEventListener.AutoStartAtNextStepEventListener("click","#publish")).setTetherOption(_Option.Option.MIDDLE_LEFT__MIDDLE_RIGHT)}).set(_GeneralStepId.GeneralStepId.BTN_QUICK_SAVE_SITE_SETTINGS,function(){return new _GeneralStepBuilder.GeneralStepBuilder(".quick-save-container .quick-save").setNextable(!1).setSkippable(!1).setTetherOption(_Option.Option.TOP_LEFT__BOTTOM_RIGHT).setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.siteSettingsQuickSaved,null,function(){return!0}))}).set(_GeneralStepId.GeneralStepId.BTN_LOAD_GENERAL_SETTINGS,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#btn-load-general-settings").setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.generalSettingsLoaded,null,function(){return!0}))}).set(_GeneralStepId.GeneralStepId.TAB_CONTENT_GENERAL_SETTINGS,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#tab-general-settings").setTetherOption(_Option.Option.TOP_MIDDLE__BOTTOM_MIDDLE)}).set(_GeneralStepId.GeneralStepId.SECTION_WOOCOMMERCE,function(){return new _GeneralStepBuilder.GeneralStepBuilder(_WooCommerceSettingsVariables.WooCommerceSettingsVariables.getInstance().selectorOptionsContainer).setTetherOption(_Option.Option.TOP_MIDDLE__BOTTOM_MIDDLE)}).set(_GeneralStepId.GeneralStepId.BTN_SAVE_GENERAL_SETTINGS,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#submit-top").setTetherOption(_Option.Option.MIDDLE_LEFT__MIDDLE_RIGHT).addEventListener(new _AutoStartAtNextStepEventListener.AutoStartAtNextStepEventListener("click","#submit-top"))}).set(_GeneralStepId.GeneralStepId.DASHBOARD_ACTIVE_SITES_SECTION,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#section-active-sites").setTetherOption(_Option.Option.TOP_MIDDLE__TOP_MIDDLE)}).set(_GeneralStepId.GeneralStepId.DASHBOARD_WHATS_HAPPENING_SECTION,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#section-whats-happening").setTetherOption(_Option.Option.TOP_RIGHT__TOP_LEFT)}).set(_GeneralStepId.GeneralStepId.DASHBOARD_LAST_CRAWLED_POSTS_SECTION,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#section-last-crawled-posts").setTetherOption(_Option.Option.TOP_LEFT__TOP_RIGHT)}).set(_GeneralStepId.GeneralStepId.DASHBOARD_REFRESH_INPUT,function(){return new _GeneralStepBuilder.GeneralStepBuilder('input[name="refresh"]').setTetherOption(_Option.Option.BOTTOM_LEFT__TOP_LEFT).setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.dashboardRefreshCountdownStarted,null,function(){return!0}))}).set(_GeneralStepId.GeneralStepId.TESTER_SELECT_SITE_NAME,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#tester-form .input-group.site")}).set(_GeneralStepId.GeneralStepId.TESTER_SELECT_TEST_TYPE,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#tester-form .input-group.test-type")}).set(_GeneralStepId.GeneralStepId.TESTER_CONTAINER_TEST_URL,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#url-input-group")}).set(_GeneralStepId.GeneralStepId.TESTER_BTN_TEST,function(){return new _GeneralStepBuilder.GeneralStepBuilder('#tester-form button[type="submit"]').setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.siteTesterTestFinished,null,function(){return!0})).addDesiredStateCheckerCommand(new _TesterPageResultsVisibleCheckerCommand.TesterPageResultsVisibleCheckerCommand)}).set(_GeneralStepId.GeneralStepId.TESTER_TEST_RESULTS_CONTAINER,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#test-results").setTetherOption(_Option.Option.TOP_RIGHT__TOP_RIGHT)}).set(_GeneralStepId.GeneralStepId.BTN_MANUAL_CRAWLING_TOOL_CRAWL_NOW,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#tool-manual-crawl .crawl-now").setAdvanceStrategy(new _ClickAdvanceStrategy.ClickAdvanceStrategy)}).set(_GeneralStepId.GeneralStepId.MANUAL_CRAWLING_TOOL_RESULTS_CONTAINER,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#container-url-queue-manual-crawl")}).set(_GeneralStepId.GeneralStepId.BTN_MANUAL_RECRAWLING_TOOL_RECRAWL,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#tab-manual-recrawling button.recrawl").setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.toolTestResultsLoaded,null,function(){return!0}))}).set(_GeneralStepId.GeneralStepId.MANUAL_RECRAWLING_TOOL_RESULTS_CONTAINER,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#tab-manual-recrawling .test-results").setTetherOption(_Option.Option.TOP_LEFT__BOTTOM_LEFT).setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.testResultsBeforeHidden,null,function(){return!0}))}).set(_GeneralStepId.GeneralStepId.BUTTON_DISPLAY_GUIDES,function(){return new _GeneralStepBuilder.GeneralStepBuilder("#wpcc-guides .btn-show-guides").setAdvanceStrategy(new _ClickAdvanceStrategy.ClickAdvanceStrategy).setTetherOption(_Option.Option.TOP_LEFT__BOTTOM_RIGHT)}),_this}return _inherits(GeneralStepFactory,_AbstractStepFactory),_createClass(GeneralStepFactory,[{key:"get",value:function get(id){if(!this.registry.has(id))throw"The registry does not have ".concat(id,". You must register it.");var info=window.wpcc.g_step_info[id]||{};return this.registry.get(id)().setTitle(info.name||null).setContent(info.desc||null)}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(GeneralStepFactory.name,function(){return new GeneralStepFactory})}}]),GeneralStepFactory}(_AbstractStepFactory2.AbstractStepFactory);exports.GeneralStepFactory=GeneralStepFactory},{"../../common/EventType":10,"../../common/WPCCrawler":22,"../../post-settings/WooCommerceSettingsVariables":174,"../advance-strategy/ClickAdvanceStrategy":74,"../advance-strategy/EventAdvanceStrategy":75,"../builder/steps/GeneralStepBuilder":83,"../command/checker/element/TesterPageResultsVisibleCheckerCommand":97,"../enum/GeneralStepId":111,"../event-listeners/AutoStartAtNextStepEventListener":114,"../tether-options/Option":147,"./base/AbstractStepFactory":146}],143:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MainTabStepFactory=void 0;var _AbstractStepFactory2=require("./base/AbstractStepFactory"),_WPCCrawler=require("../../common/WPCCrawler"),_MainTabStepBuilder=require("../builder/steps/tab/MainTabStepBuilder");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MainTabStepFactory=function(_AbstractStepFactory){function MainTabStepFactory(){return _classCallCheck(this,MainTabStepFactory),_possibleConstructorReturn(this,_getPrototypeOf(MainTabStepFactory).apply(this,arguments))}return _inherits(MainTabStepFactory,_AbstractStepFactory),_createClass(MainTabStepFactory,[{key:"get",value:function get(key){return new _MainTabStepBuilder.MainTabStepBuilder(key).setContent(this.getTranslation("tab_step_contents",key)).setMustBeEnabled(!0)}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(MainTabStepFactory.name,function(){return new MainTabStepFactory})}}]),MainTabStepFactory}(_AbstractStepFactory2.AbstractStepFactory);exports.MainTabStepFactory=MainTabStepFactory},{"../../common/WPCCrawler":22,"../builder/steps/tab/MainTabStepBuilder":88,"./base/AbstractStepFactory":146}],144:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuLinkStepFactory=void 0;var _AbstractStepFactory2=require("./base/AbstractStepFactory"),_WPCCrawler=require("../../common/WPCCrawler"),_MenuLinkStepBuilder=require("../builder/steps/MenuLinkStepBuilder"),_AutoStartAtNextStepEventListener=require("../event-listeners/AutoStartAtNextStepEventListener");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MenuLinkStepFactory=function(_AbstractStepFactory){function MenuLinkStepFactory(){return _classCallCheck(this,MenuLinkStepFactory),_possibleConstructorReturn(this,_getPrototypeOf(MenuLinkStepFactory).apply(this,arguments))}return _inherits(MenuLinkStepFactory,_AbstractStepFactory),_createClass(MenuLinkStepFactory,[{key:"get",value:function get(pageType){var step=new _MenuLinkStepBuilder.MenuLinkStepBuilder(pageType);step.addEventListener(new _AutoStartAtNextStepEventListener.AutoStartAtNextStepEventListener("click",step.getTargetElementSelector()));var info=this.getTranslationObject("page_step_info")[pageType]||{};return info.name&&step.setTitle(info.name),info.desc&&step.setContent(info.desc),step}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(MenuLinkStepFactory.name,function(){return new MenuLinkStepFactory})}}]),MenuLinkStepFactory}(_AbstractStepFactory2.AbstractStepFactory);exports.MenuLinkStepFactory=MenuLinkStepFactory},{"../../common/WPCCrawler":22,"../builder/steps/MenuLinkStepBuilder":84,"../event-listeners/AutoStartAtNextStepEventListener":114,"./base/AbstractStepFactory":146}],145:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingStepFactory=void 0;var _SettingStepBuilder=require("../builder/steps/setting/SettingStepBuilder"),_SettingKey=require("../../common/enum/SettingKey"),_FormItemRule=require("../../common/validation/form-item/FormItemRule"),_RuleIdentifier=require("../../common/validation/enum/RuleIdentifier"),_AbstractStepFactory2=require("./base/AbstractStepFactory"),_Utils=require("../../common/Utils"),_WPCCrawler=require("../../common/WPCCrawler"),_CheckboxSettingAdvanceStrategy=require("../advance-strategy/CheckboxSettingAdvanceStrategy"),_SettingInnerKey=require("../../common/enum/SettingInnerKey"),_InnerItemSelector=require("../../common/enum/InnerItemSelector"),_DevToolsVisibleAdvanceStrategy=require("../advance-strategy/lightbox/DevToolsVisibleAdvanceStrategy"),_ClickAdvanceStrategy=require("../advance-strategy/ClickAdvanceStrategy"),_EventAdvanceStrategy=require("../advance-strategy/EventAdvanceStrategy"),_EventType=require("../../common/EventType"),_TestResultsVisibleCheckerCommand=require("../command/checker/element/TestResultsVisibleCheckerCommand"),_Option=require("../tether-options/Option"),_CancelTourOnEventListener=require("../event-listeners/CancelTourOnEventListener");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SettingStepFactory=function(_AbstractStepFactory){function SettingStepFactory(){var _this;return _classCallCheck(this,SettingStepFactory),(_this=_possibleConstructorReturn(this,_getPrototypeOf(SettingStepFactory).call(this))).mainPreparers=new Map,_this.innerSettingPreparers=new Map,_this.generalInnerSettingPreparers=new Map,_this.defineMainPreparers(),_this.defineInnerSettingPreparers(),_this.defineGeneralInnerSettingPreparers(),_this}return _inherits(SettingStepFactory,_AbstractStepFactory),_createClass(SettingStepFactory,[{key:"defineMainPreparers",value:function defineMainPreparers(){this.mainPreparers.set(_SettingKey.SettingKey.MAIN_PAGE_URL,function(step){return step.setSkippable(!1).addRule(new _FormItemRule.FormItemRule("url").addErrorMessage(_RuleIdentifier.RuleIdentifier.URL,_Utils.Utils.trans("enter_valid_url")))}).set(_SettingKey.SettingKey.ACTIVE,function(step){return step.setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)}).set(_SettingKey.SettingKey.ACTIVE_RECRAWLING,function(step){return step.setAdvanceStrategy(new _CheckboxSettingAdvanceStrategy.CheckboxSettingAdvanceStrategy)}).set(_SettingKey.SettingKey.CATEGORY_MAP,function(step){return step.setTetherOption(_Option.Option.TOP_MIDDLE__BOTTOM_MIDDLE)}).set(_SettingKey.SettingKey.TEST_URL_CATEGORY,function(step){return step.addRule(new _FormItemRule.FormItemRule("url").addErrorMessage(_RuleIdentifier.RuleIdentifier.URL,_Utils.Utils.trans("enter_valid_url")))}).set(_SettingKey.SettingKey.TEST_URL_POST,function(step){return step.addRule(new _FormItemRule.FormItemRule("url").addErrorMessage(_RuleIdentifier.RuleIdentifier.URL,_Utils.Utils.trans("enter_valid_url")))}).set(_SettingKey.SettingKey.WPCC_TOOLS_POST_URLS,function(step){return step.setTetherOption(_Option.Option.TOP_LEFT__BOTTOM_LEFT)})}},{key:"defineInnerSettingPreparers",value:function defineInnerSettingPreparers(){this.getInnerSettingPreparerRegistry(_SettingKey.SettingKey.CATEGORY_MAP).set(_SettingInnerKey.SettingInnerKey.URL,function(step){return step.addRule(new _FormItemRule.FormItemRule("len:1,-1|unique_cat_urls",_SettingInnerKey.SettingInnerKey.URL))})}},{key:"defineGeneralInnerSettingPreparers",value:function defineGeneralInnerSettingPreparers(){this.generalInnerSettingPreparers.set(_InnerItemSelector.InnerItemSelector.BUTTON_DEV_TOOLS,function(step){return step.setAdvanceStrategy(new _DevToolsVisibleAdvanceStrategy.DevToolsVisibleAdvanceStrategy).addEventListener(new _CancelTourOnEventListener.CancelTourOnEventListener(_EventType.EventType.optionsBoxOpened))}).set(_InnerItemSelector.InnerItemSelector.BUTTON_TEST,function(step){return step.setAdvanceStrategy(new _ClickAdvanceStrategy.ClickAdvanceStrategy).addDesiredStateCheckerCommand(new _TestResultsVisibleCheckerCommand.TestResultsVisibleCheckerCommand).setNextable(!1).setSkippable(!1)}).set(_InnerItemSelector.InnerItemSelector.BUTTON_ADD_CATEGORY_URLS,function(step){return step.setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.testResultsLoaded,null,function(){return!0})).addDesiredStateCheckerCommand(new _TestResultsVisibleCheckerCommand.TestResultsVisibleCheckerCommand).setNextable(!1).setSkippable(!1)}).set(_InnerItemSelector.InnerItemSelector.TEST_RESULTS_CONTAINER,function(step){return step.setTetherOption(_Option.Option.TOP_MIDDLE__BOTTOM_MIDDLE).setAdvanceStrategy(new _EventAdvanceStrategy.EventAdvanceStrategy(_EventType.EventType.testResultsBeforeHidden,null,function(){return!0}))})}},{key:"get",value:function get(key){var step=new _SettingStepBuilder.SettingStepBuilder(key).setContent(this.getSettingKeyContent(key)).setTitle(this.getSettingKeyTitle(key));return this.mainPreparers.has(key)&&this.mainPreparers.get(key)(step),step}},{key:"getInner",value:function getInner(key,innerKey,argument_2){var groupIndex=2<arguments.length&&void 0!==argument_2?argument_2:0,step=this.get(key);Object.values(_SettingInnerKey.SettingInnerKey).includes(innerKey)?step.targetInnerKey(innerKey,groupIndex):step.targetInnerItem(innerKey,groupIndex),this.generalInnerSettingPreparers.has(innerKey)&&this.generalInnerSettingPreparers.get(innerKey)(step);var innerRegistry=this.getInnerSettingPreparerRegistry(key);return innerRegistry.has(innerKey)&&innerRegistry.get(innerKey)(step),this.setWithInnerKeyInfo(step,key,innerKey),step}},{key:"getInnerSettingPreparerRegistry",value:function getInnerSettingPreparerRegistry(key){return this.getInnerRegistry(this.innerSettingPreparers,key)}},{key:"getInnerRegistry",value:function getInnerRegistry(registry,key){return registry.has(key)||registry.set(key,new Map),registry.get(key)}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(SettingStepFactory.name,function(){return new SettingStepFactory})}}]),SettingStepFactory}(_AbstractStepFactory2.AbstractStepFactory);exports.SettingStepFactory=SettingStepFactory},{"../../common/EventType":10,"../../common/Utils":21,"../../common/WPCCrawler":22,"../../common/enum/InnerItemSelector":23,"../../common/enum/SettingInnerKey":28,"../../common/enum/SettingKey":29,"../../common/validation/enum/RuleIdentifier":35,"../../common/validation/form-item/FormItemRule":36,"../advance-strategy/CheckboxSettingAdvanceStrategy":73,"../advance-strategy/ClickAdvanceStrategy":74,"../advance-strategy/EventAdvanceStrategy":75,"../advance-strategy/lightbox/DevToolsVisibleAdvanceStrategy":78,"../builder/steps/setting/SettingStepBuilder":86,"../command/checker/element/TestResultsVisibleCheckerCommand":96,"../event-listeners/CancelTourOnEventListener":115,"../tether-options/Option":147,"./base/AbstractStepFactory":146}],146:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractStepFactory=void 0;var AbstractStepFactory=function(){function AbstractStepFactory(){_classCallCheck(this,AbstractStepFactory)}return _createClass(AbstractStepFactory,[{key:"getTranslation",value:function getTranslation(objectKey,transKey){return this.getTranslationObject(objectKey)[transKey]||""}},{key:"getTranslationObject",value:function getTranslationObject(objectKey){return window.wpcc[objectKey]||{}}},{key:"setWithInnerKeyInfo",value:function setWithInnerKeyInfo(step,key,innerKey){var info=this.getInnerKeyInfo(key,innerKey);return info.name&&step.setTitle(info.name),info.desc&&step.setContent(info.desc),this}},{key:"getInnerKeyInfo",value:function getInnerKeyInfo(key,innerKey){var info=this.getTranslationObject("isk_step_info")["".concat(key,"-").concat(innerKey)]||null;return(info=info||(this.getTranslationObject("isk_step_def_info")[innerKey]||null))||{}}},{key:"getSettingKeyTitle",value:function getSettingKeyTitle(key){return this.getTranslation("sk_step_titles",key)}},{key:"getSettingKeyContent",value:function getSettingKeyContent(key){return this.getTranslation("sk_step_contents",key)}}]),AbstractStepFactory}();exports.AbstractStepFactory=AbstractStepFactory},{}],147:[function(require,module,exports){"use strict";var Option;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Option=void 0,function(Option){Option[Option.BOTTOM_LEFT__TOP_LEFT=0]="BOTTOM_LEFT__TOP_LEFT",Option[Option.BOTTOM_LEFT__TOP_RIGHT=1]="BOTTOM_LEFT__TOP_RIGHT",Option[Option.MIDDLE_RIGHT__MIDDLE_LEFT=2]="MIDDLE_RIGHT__MIDDLE_LEFT",Option[Option.MIDDLE_LEFT__MIDDLE_RIGHT=3]="MIDDLE_LEFT__MIDDLE_RIGHT",Option[Option.TOP_RIGHT__BOTTOM_LEFT=4]="TOP_RIGHT__BOTTOM_LEFT",Option[Option.TOP_RIGHT__TOP_RIGHT=5]="TOP_RIGHT__TOP_RIGHT",Option[Option.TOP_RIGHT__TOP_LEFT=6]="TOP_RIGHT__TOP_LEFT",Option[Option.TOP_LEFT__TOP_RIGHT=7]="TOP_LEFT__TOP_RIGHT",Option[Option.TOP_LEFT__BOTTOM_RIGHT=8]="TOP_LEFT__BOTTOM_RIGHT",Option[Option.TOP_LEFT__BOTTOM_LEFT=9]="TOP_LEFT__BOTTOM_LEFT",Option[Option.TOP_MIDDLE__BOTTOM_MIDDLE=10]="TOP_MIDDLE__BOTTOM_MIDDLE",Option[Option.TOP_MIDDLE__TOP_MIDDLE=11]="TOP_MIDDLE__TOP_MIDDLE"}((exports.Option=Option)||(exports.Option=Option={}))},{}],148:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TetherOptions=void 0;var _WPCCrawler=require("../../common/WPCCrawler"),_Option=require("./Option");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TetherOptions=function(){function TetherOptions(){_classCallCheck(this,TetherOptions),this.optionMap=new Map,this.optionMap.set(_Option.Option.BOTTOM_LEFT__TOP_LEFT,{attachment:"top left",targetAttachment:"bottom left",constraints:[],offset:"-20px 20px"}).set(_Option.Option.BOTTOM_LEFT__TOP_RIGHT,{attachment:"top right",targetAttachment:"bottom left",constraints:[],offset:"-20px -48px"}).set(_Option.Option.TOP_RIGHT__BOTTOM_LEFT,{attachment:"bottom left",targetAttachment:"top right",constraints:[],offset:"20px 0",targetOffset:"0 -48px"}).set(_Option.Option.MIDDLE_LEFT__MIDDLE_RIGHT,{attachment:"middle right",targetAttachment:"middle left",constraints:[],offset:"0 20px"}).set(_Option.Option.MIDDLE_RIGHT__MIDDLE_LEFT,{attachment:"middle left",targetAttachment:"middle right",constraints:[],offset:"0 -20px"}).set(_Option.Option.TOP_RIGHT__TOP_RIGHT,{attachment:"top right",targetAttachment:"top right",constraints:[],offset:"20px -20px"}).set(_Option.Option.TOP_LEFT__TOP_RIGHT,{attachment:"top right",targetAttachment:"top left",constraints:[],offset:"20px 20px"}).set(_Option.Option.TOP_LEFT__BOTTOM_RIGHT,{attachment:"bottom right",targetAttachment:"top left",constraints:[],offset:"-28px 20px"}).set(_Option.Option.TOP_LEFT__BOTTOM_LEFT,{attachment:"bottom left",targetAttachment:"top left",constraints:[],offset:"20px 0"}).set(_Option.Option.TOP_RIGHT__TOP_LEFT,{attachment:"top left",targetAttachment:"top right",constraints:[],offset:"20px -20px"}).set(_Option.Option.TOP_MIDDLE__BOTTOM_MIDDLE,{attachment:"bottom middle",targetAttachment:"top middle",constraints:[],offset:"20px 0"}).set(_Option.Option.TOP_MIDDLE__TOP_MIDDLE,{attachment:"top middle",targetAttachment:"top middle",constraints:[],offset:"20px 0"})}return _createClass(TetherOptions,[{key:"getOption",value:function getOption(option){return this.optionMap.has(option)?this.optionMap.get(option):null}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(TetherOptions.name,function(){return new TetherOptions})}},{key:"get",value:function get(option){return this.getInstance().getOption(option)}}]),TetherOptions}();exports.TetherOptions=TetherOptions},{"../../common/WPCCrawler":22,"./Option":147}],149:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TypeGuard=void 0;var TypeGuard=function(){function TypeGuard(){_classCallCheck(this,TypeGuard)}return _createClass(TypeGuard,null,[{key:"isNeedMainTabKey",value:function isNeedMainTabKey(obj){return void 0!==obj.setMainTabKey}},{key:"isNeedOptionsBoxTabKey",value:function isNeedOptionsBoxTabKey(obj){return void 0!==obj.setOptionsBoxTabKey}},{key:"isNeedStepBuilder",value:function isNeedStepBuilder(obj){return void 0!==obj.setBuilder}},{key:"isNeedStepInfo",value:function isNeedStepInfo(obj){return void 0!==obj.setStepInfo}},{key:"isHasSettingKey",value:function isHasSettingKey(obj){return void 0!==obj.getSettingKey}},{key:"isNeedSettingKey",value:function isNeedSettingKey(obj){return void 0!==obj.setSettingKey}},{key:"isHasMainTabKey",value:function isHasMainTabKey(obj){return void 0!==obj.getMainTabKey}},{key:"isHasOptionsBoxTabKey",value:function isHasOptionsBoxTabKey(obj){return void 0!==obj.getOptionsBoxTabKey}},{key:"isHasOptionsBoxButton",value:function isHasOptionsBoxButton(obj){return void 0!==obj.getOptionsBoxButton}},{key:"isPromiseHandler",value:function isPromiseHandler(obj){return void 0!==obj.setPromiseCallbacks}},{key:"isValidatable",value:function isValidatable(obj){return void 0!==obj.validate&&void 0!==obj.addRule}}]),TypeGuard}();exports.TypeGuard=TypeGuard},{}],150:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlUtils=void 0;var _urlParse=_interopRequireDefault(require("url-parse"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var UrlUtils=function(){function UrlUtils(){_classCallCheck(this,UrlUtils)}return _createClass(UrlUtils,null,[{key:"isSame",value:function isSame(url1,url2,argument_2){var sameHash=2<arguments.length&&void 0!==argument_2&&argument_2;if("string"==typeof url1&&(url1=this.parseUrl(url1)),"string"==typeof url2&&(url2=this.parseUrl(url2)),url1.pathname!==url2.pathname)return!1;if(sameHash&&url1.hash!==url2.hash)return!1;var query1=url1.query,query2=url2.query;if(Object.getOwnPropertyNames(query1).length!==Object.getOwnPropertyNames(query2).length)return!1;for(var paramName in query1)if(query1.hasOwnProperty(paramName)&&query1[paramName]!==query2[paramName])return!1;return!0}},{key:"parseUrl",value:function parseUrl(url){return new _urlParse.default(url,!0)}}]),UrlUtils}();exports.UrlUtils=UrlUtils},{"url-parse":5}],151:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionsBox=void 0;var _TestDataPreparer=require("../post-settings/TestDataPreparer"),_Notifier=require("../common/Notifier"),_NotificationType=require("../common/enum/NotificationType"),_OptionsBoxVariables=require("./OptionsBoxVariables"),_TabFactory=require("./TabFactory"),_TabName=require("./enums/TabName"),_ObjectSerializer=require("../common/ObjectSerializer"),_Utils=require("../common/Utils"),_OptionsBoxConfig=require("./OptionsBoxConfig"),_OptionsBoxType=require("./enums/OptionsBoxType"),_EventType=require("../common/EventType"),_Tooltip=require("../common/tooltip/Tooltip"),_WPCCrawler=require("../common/WPCCrawler"),_KeyboardEventHelper=require("../common/KeyboardEventHelper"),_KeyboardKey=require("../common/enum/KeyboardKey");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var OptionsBox=function(){function OptionsBox(){_classCallCheck(this,OptionsBox),this.$currentButton=null,this.$latestTestButtonClickEvent=null,this.contentRetrievalInProgress=!1,this.tabHandlers=[],this.allTabHandlers=[],this.allTabHandlerNames=[],this.config=null,this.scrollPos=null,this.prevBoxType=null,this.boxTypeTabNames=(new Map).set(_OptionsBoxType.OptionsBoxType.DEF,[_TabName.TabName.FIND_REPLACE,_TabName.TabName.GENERAL,_TabName.TabName.CALCULATIONS,_TabName.TabName.TEMPLATES,_TabName.TabName.NOTES,_TabName.TabName.IMPORT_EXPORT]).set(_OptionsBoxType.OptionsBoxType.FILE,[_TabName.TabName.FILE_FIND_REPLACE,_TabName.TabName.FILE_OPERATIONS,_TabName.TabName.FILE_TEMPLATES,_TabName.TabName.NOTES,_TabName.TabName.IMPORT_EXPORT]),this.testDataPreparer=_TestDataPreparer.TestDataPreparer.getInstance(),this.obv=_OptionsBoxVariables.OptionsBoxVariables.getInstance(),this.isAvailable()&&this.init()}return _createClass(OptionsBox,[{key:"init",value:function init(){var _this=this;_ObjectSerializer.ObjectSerializer.getInstance(),$(document).on("mouseup",this.obv.optionsBoxMainContainerSelector,function(e){return _this.onClickOutside(e)}),$(document).on("keyup",function(e){var key;new _KeyboardEventHelper.KeyboardEventHelper(e).getKey()===_KeyboardKey.KeyboardKey.ESCAPE&&_this.close()}),$(document).on("click",this.obv.optionsBoxButtonSelector,function(e){return _this.showBox(e)}),$(document).on("click",this.obv.tabHandleSelector,function(e){return _this.onClickTab(e)}),$(this.obv.optionsBoxMainContainerSelector).on("click",this.obv.selectorTestButton,function(e){return _this.onClickTestButton(e)}),$(this.obv.selectorTestDataPresenterContainer).on("click","."+this.obv.classInvalidateTestData,function(e){return _this.onClickInvalidateTestData(e)}),$(this.obv.selectorTestDataPresenterContainer).on("click","."+this.obv.classTestDataPresenterHeader,function(e){return _this.onClickTestDataPresenterHeader(e)}),this.config=_OptionsBoxConfig.OptionsBoxConfig.getInstance(),this.initAllTabHandlers(),this.initAllOptionsBoxButtonTooltips()}},{key:"onClickOutside",value:function onClickOutside(event){$(event.target).hasClass(this.obv.optionsBoxMainContainerClass)&&this.close()}},{key:"close",value:function close(){var $container=$(this.obv.optionsBoxMainContainerSelector);$container.length&&($container.hasClass("hidden")||($container.addClass("hidden"),this.saveState(),flashBackground(this.$currentButton),window.$lastClickedOptionsBoxButton=null,window.optionsBox=void 0,$(document).trigger(_EventType.EventType.optionsBoxClosed),$(window).scrollTop(this.scrollPos)))}},{key:"showBox",value:function showBox(event){this.scrollPos=$(window).scrollTop(),(window.optionsBox=this).setTitle(this.getTargetOptionLabel(event)),this.setTargetInputDetails(this.getTargetInputContainer(event)),this.$currentButton=$(event.target).closest(this.obv.optionsBoxButtonSelector),_OptionsBoxConfig.OptionsBoxConfig.getInstance().prepare(this.$currentButton.data("settings")),this.config=_OptionsBoxConfig.OptionsBoxConfig.getInstance(),this.prepareTheBoxAccordingToType(),this.restoreState(),window.$lastClickedOptionsBoxButton=this.$currentButton,this.triggerTabActivatedEventForCurrentTab(),$(this.obv.optionsBoxMainContainerSelector).removeClass("hidden"),$(document).trigger(_EventType.EventType.optionsBoxOpened)}},{key:"prepareTheBoxAccordingToType",value:function prepareTheBoxAccordingToType(){var _this2=this;if(this.config.type!==this.prevBoxType){this.prevBoxType=this.config.type,this.tabHandlers=this.boxTypeTabNames.get(this.config.type).map(function(name){return _TabFactory.TabFactory.getInstance().getTabInstance(name)}),$(this.obv.tabContainerSelector+" .nav-tab").addClass("hidden"),$(this.obv.tabContentsSelector).addClass("hidden"),this.tabHandlers.length&&$("#"+this.tabHandlers[0].tabId).removeClass("hidden");var activeTabIds=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.tabHandlers[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var handler=_step.value;activeTabIds.push(handler.tabId)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}if(activeTabIds.length){var selectorValidTabs=activeTabIds.map(function(id){return _this2.obv.tabContainerSelector+' [data-tab="#'+id+'"]'}).join(", ");$(selectorValidTabs).removeClass("hidden"),this.activateTab("#"+activeTabIds[0])}}}},{key:"initAllTabHandlers",value:function initAllTabHandlers(){var tabNames=[],handler,tabId,name;this.boxTypeTabNames.forEach(function(v,k){v.map(function(tabName){-1<tabNames.indexOf(tabName)||tabNames.push(tabName)})}),this.allTabHandlers=tabNames.map(function(name){return _TabFactory.TabFactory.getInstance().getTabInstance(name)});for(var $container=this.getBoxContainer(),names=[],i=0;i<this.allTabHandlers.length;i++)tabId=(handler=this.allTabHandlers[i]).tabId,name=$container.find('[data-tab="#'+tabId+'"]').text(),names.push(name);this.allTabHandlerNames=names}},{key:"getTargetOptionLabel",value:function getTargetOptionLabel(event){return $(event.target).closest("tr").find("td:first-child label").text()}},{key:"getTargetInputContainer",value:function getTargetInputContainer(event){return $(event.target).closest(".input-group").find(".input-container").first()}},{key:"setTitle",value:function setTitle(name){$(this.obv.titleSelector).text(name)}},{key:"setTargetInputDetails",value:function setTargetInputDetails($inputContainer){var $el,type,res,detailArr=[];$inputContainer.find(':input:not([type="hidden"])').each(function(i,el){switch($el=$(el),type=$el.attr("type")){case"checkbox":res='<span class="dashicons dashicons-'+($el[0].checked?"yes":"no")+'"></span>';break;default:res=$el.val()||null}null!==res&&res.length&&detailArr.push(res)});var result=detailArr.reduce(function(acc,curr){return acc+'<div class="val"><span>'+(72<curr.length?curr.substring(0,69)+"...":curr)+"</span></div>"},"");$(this.obv.inputDetailsSelector).html(result)}},{key:"restoreState",value:function restoreState(){this.$latestTestButtonClickEvent=null,this.contentRetrievalInProgress=!1,this.fillTestDataPresenter(this.getMainTestButtonResults()),this.getBoxContainer().find(".test-results > .hide-test-results:first-child").trigger("click");var stateVal=this.getOptionsBoxInput().val().toString()||null;null!==stateVal&&stateVal.length||(stateVal="{}");var data={};try{data=JSON.parse(stateVal),this.restoreTabStates(data)}catch(e){console.error("State could not be parsed.",stateVal)}}},{key:"restoreTabStates",value:function restoreTabStates(state){for(var currentTabHandler,i=0;i<this.tabHandlers.length;i++)(currentTabHandler=this.tabHandlers[i]).restoreState(state[currentTabHandler.stateKey]||{},this.config.getTabSettings(currentTabHandler.stateKey)||{})}},{key:"saveState",value:function saveState(){for(var state={},currentTabHandler,i=0;i<this.tabHandlers.length;i++)state[(currentTabHandler=this.tabHandlers[i]).stateKey]=currentTabHandler.saveState()||{};return state.box={type:this.config.type},this.setCurrentOptionsBoxButtonSummary(state),this.getOptionsBoxInput().val(JSON.stringify(state)),state}},{key:"activateTab",value:function activateTab(tabSelector){var $boxContainer;this.deactivateAllTabs(),this.getBoxContainer().find(tabSelector).removeClass("hidden"),this.getTabContainer().find('[data-tab="'+tabSelector+'"]').addClass("nav-tab-active"),this.currentActiveTabId=tabSelector.replace("#",""),this.triggerTabActivatedEventForCurrentTab()}},{key:"deactivateAllTabs",value:function deactivateAllTabs(){this.getBoxContainer().find(".tab").addClass("hidden"),this.getTabContainer().find("a").removeClass("nav-tab-active")}},{key:"onClickTab",value:function onClickTab(event){event.preventDefault(),this.activateTab($(event.target).closest(".nav-tab").data("tab"))}},{key:"getTabContainer",value:function getTabContainer(){return $(this.obv.tabContainerSelector)}},{key:"getBoxContainer",value:function getBoxContainer(){return $(this.obv.optionsBoxMainContainerSelector)}},{key:"getOptionsBoxInput",value:function getOptionsBoxInput(){return this.$currentButton.find("input[type=hidden]").first()}},{key:"onClickTestButton",value:function onClickTestButton(e){e.preventDefault(),this.$latestTestButtonClickEvent=e;var $testButton=$(e.target).closest("button"),dataToBeTested;$testButton.addClass("loading"),null!==this.getDataToBeTested()?(this.saveState(),$testButton.removeClass("loading")):e.stopPropagation()}},{key:"getDataToBeTested",value:function getDataToBeTested(){var _this3=this,$testButton=this.getMainTestButton(),prevResults=this.getMainTestButtonResults();if(null!=prevResults&&"undefined"!==prevResults)return prevResults;var data=this.testDataPreparer.prepareTestData($testButton);if(null===data)return _Notifier.Notifier.getInstance().notifyRegular($(this.$latestTestButtonClickEvent.target),window.wpcc.test_data_not_retrieved),console.error("Test data could not be retrieved."),!1;if(this.contentRetrievalInProgress)return null;this.contentRetrievalInProgress=!0;var $dataPresenterHeader=this.getDataPresenterHeader();return $dataPresenterHeader.addClass("loading"),$.post(window.ajaxurl,{wcc_nonce:this.obv.$wccNonce.val(),action:window.pageActionKey,data:data}).done(function(response){if(void 0===response||!response||void 0===response.view)return _Notifier.Notifier.getInstance().notifyRegular($(_this3.$latestTestButtonClickEvent.target),window.wpcc.content_retrieval_response_not_valid,_NotificationType.NotificationType.ERROR),void console.error("Response of content retrieval process is not valid.");var $view,results=$("<div>"+response.view+"</div>").find("ul").data("results");$testButton.data("results",results),_this3.fillTestDataPresenter(results),$(_this3.$latestTestButtonClickEvent.target).trigger("click")}).fail(function(response){_Notifier.Notifier.getInstance().notifyRegular($(_this3.$latestTestButtonClickEvent.target),window.wpcc.test_data_retrieval_failed,_NotificationType.NotificationType.ERROR),console.error(response)}).always(function(){_this3.contentRetrievalInProgress=!1,$dataPresenterHeader.removeClass("loading")}),null}},{key:"getMainTestButton",value:function getMainTestButton(){return this.$currentButton.closest(".input-group").find(".wcc-test")}},{key:"getMainTestButtonResults",value:function getMainTestButtonResults(){return this.getMainTestButton().data("results")}},{key:"fillTestDataPresenter",value:function fillTestDataPresenter(data){var $presenter=this.getTestDataPresenterContainer();$presenter.data("results",data||[]);var $dataContainer=$presenter.find(".data").first();$dataContainer.empty();var $number=$presenter.find(".number").first(),$invalidate=$presenter.find(".invalidate").first();if(null==data)return $number.text(0),void $invalidate.addClass("hidden");for(var $ul=$("<ul />"),i=0;i<data.length;i++)$("<li><code>"+_Utils.Utils.escapeHtml(data[i])+"</code></li>").appendTo($ul);$ul.appendTo($dataContainer),$number.text(data.length),$invalidate.removeClass("hidden")}},{key:"getTestDataPresenterContainer",value:function getTestDataPresenterContainer(){return $(this.obv.selectorTestDataPresenterContainer).first()}},{key:"onClickInvalidateTestData",value:function onClickInvalidateTestData(e){e.stopPropagation(),this.fillTestDataPresenter(null),this.getMainTestButton().data("results",null)}},{key:"getDataPresenterHeader",value:function getDataPresenterHeader(){return $(this.obv.selectorTestDataPresenterHeader).first()}},{key:"onClickTestDataPresenterHeader",value:function onClickTestDataPresenterHeader(e){var $dataContainer=$(this.obv.selectorTestDataContainer).first();$dataContainer.hasClass("hidden")?$dataContainer.removeClass("hidden"):$dataContainer.addClass("hidden")}},{key:"setCurrentOptionsBoxButtonSummary",value:function setCurrentOptionsBoxButtonSummary(state){var result=this.getOptionsBoxButtonSummaryFromState(state);this.setOptionsBoxButtonSummary(this.$currentButton,result)}},{key:"getOptionsBoxButtonSummaryFromState",value:function getOptionsBoxButtonSummaryFromState(state){var handler,stateKey,name,value,i,tabState;if($.isEmptyObject(state))return null;var result="",colors=[];for(i=0;i<this.allTabHandlers.length;i++)handler=this.allTabHandlers[i],name=this.allTabHandlerNames[i],stateKey=handler.stateKey,state.hasOwnProperty(stateKey)&&(tabState=state[stateKey],0<(value=handler.getConfiguredOptionCount(tabState))&&(result+=window.wpccTooltipDisabled?name+": "+value+"\n":'<li><span class="name">'+name+'</span>: <span class="value">'+value+"</span></li>",colors.push(handler.color)));return result.length?{title:result=window.wpccTooltipDisabled?result.replace(/\n$/,""):"<ul class='options-box-summary'>"+result+"</ul>",colors:colors}:null}},{key:"setOptionsBoxButtonSummary",value:function setOptionsBoxButtonSummary($optionsBoxButton,value){if(null===(value=value||null))$optionsBoxButton.removeClass("has-config"),_Tooltip.Tooltip.for($optionsBoxButton).destroy().apply();else{$optionsBoxButton.addClass("has-config"),$optionsBoxButton.data(_Tooltip.Tooltip.TOOLTIP_DATA_ATTR_NAME,_Tooltip.Tooltip.TOOLTIP_ATTRIBUTE_VALUE),$optionsBoxButton.data("html","true"),$optionsBoxButton.attr("title",value.title),_Tooltip.Tooltip.for($optionsBoxButton).fixTitle().apply();var colors=value.colors;1===colors.length&&colors.push(colors[0]);var colorString=colors.join(", ");$optionsBoxButton.find(".summary-colors").css("background-image","linear-gradient(to right, "+colorString+")")}}},{key:"initAllOptionsBoxButtonTooltips",value:function initAllOptionsBoxButtonTooltips(){var _this4=this;$(this.obv.optionsBoxButtonSelector).each(function(i,el){var $button=$(el),stateVal=$button.find("input[type=hidden]").first().val()||null;if(null!==stateVal&&stateVal.length)try{var state=JSON.parse(stateVal),summary=_this4.getOptionsBoxButtonSummaryFromState(state);_this4.setOptionsBoxButtonSummary($button,summary)}catch(e){console.error("State could not be parsed.",stateVal,$button),_Notifier.Notifier.getInstance().notifyRegular($button,window.wpcc.state_not_parsed,_NotificationType.NotificationType.ERROR)}})}},{key:"triggerTabActivatedEventForCurrentTab",value:function triggerTabActivatedEventForCurrentTab(){null!==this.currentActiveTabId&&$(document).trigger(_EventType.EventType.optionsBoxTabActivated,this.currentActiveTabId)}},{key:"isOpen",value:function isOpen(){return null!==this.getCurrentOptionsBoxButton()}},{key:"getCurrentOptionsBoxButton",value:function getCurrentOptionsBoxButton(){return window.$lastClickedOptionsBoxButton||null}},{key:"isAvailable",value:function isAvailable(){return 0<$("#".concat(this.obv.optionsBoxMainContainerId)).length}}],[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(OptionsBox.name,function(){return new OptionsBox})}}]),OptionsBox}();exports.OptionsBox=OptionsBox},{"../common/EventType":10,"../common/KeyboardEventHelper":12,"../common/Notifier":13,"../common/ObjectSerializer":14,"../common/Utils":21,"../common/WPCCrawler":22,"../common/enum/KeyboardKey":24,"../common/enum/NotificationType":26,"../common/tooltip/Tooltip":32,"../post-settings/TestDataPreparer":172,"./OptionsBoxConfig":152,"./OptionsBoxVariables":153,"./TabFactory":154,"./enums/OptionsBoxType":155,"./enums/TabName":156}],152:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionsBoxConfig=void 0;var _OptionsBoxType=require("./enums/OptionsBoxType");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var OptionsBoxConfig=function(){function OptionsBoxConfig(){_classCallCheck(this,OptionsBoxConfig),this.keyBox="box",this.keyTabs="tabs",this.keyType="type"}return _createClass(OptionsBoxConfig,[{key:"prepare",value:function prepare(config){this.config=config,this.prepareType()}},{key:"getTabSettings",value:function getTabSettings(tabKey){return this.objectGet(this.config,this.keyTabs+"."+tabKey)}},{key:"prepareType",value:function prepareType(){var type=this.objectGet(this.config,this.keyBox+"."+this.keyType);this._type=Object.values(_OptionsBoxType.OptionsBoxType).includes(type)?type:_OptionsBoxType.OptionsBoxType.DEF}},{key:"objectGet",value:function objectGet(obj,key){return key.split(".").reduce(function(acc,current){if(null!==acc)return acc.hasOwnProperty(current)?acc[current]:null},obj)||null}},{key:"type",get:function get(){return this._type}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new OptionsBoxConfig),this.instance}}]),OptionsBoxConfig}();(exports.OptionsBoxConfig=OptionsBoxConfig).instance=null},{"./enums/OptionsBoxType":155}],153:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionsBoxVariables=void 0;var _WPCCrawler=require("../common/WPCCrawler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var OptionsBoxVariables=function(){function OptionsBoxVariables(){_classCallCheck(this,OptionsBoxVariables),this.optionsBoxButtonSelector=".wcc-options-box",this.optionsBoxMainContainerId="options-box-container",this.optionsBoxMainContainerClass="options-box-container",this.optionsBoxMainContainerSelector="."+this.optionsBoxMainContainerClass,this.optionsBoxSelector=this.optionsBoxMainContainerSelector+" > .options-box",this.optionsBoxSubContainerSelector=this.optionsBoxSelector+" > .box-container",this.noScrollClass="no-scroll",this.titleSelector=this.optionsBoxSelector+" > .box-title",this.inputDetailsSelector=this.optionsBoxSelector+" > .input-details",this.tabContainerSelector=this.optionsBoxSelector+" .nav-tab-wrapper",this.tabHandleSelector=this.tabContainerSelector+" .nav-tab",this.tabContentsSelector=this.optionsBoxSelector+" .tab-content > .tab",this.selectorTestButton=".wcc-test",this.inputName="_options_box",this.selectorExportTextarea="#_options_box_export_settings",this.selectorImportTextarea="#_options_box_import_settings",this.selectorImportSettingsButton=".options-box-import",this.selectorTestDataPresenterContainer="#test-data-presenter",this.classTestDataPresenterHeader="header",this.selectorTestDataPresenterHeader=this.selectorTestDataPresenterContainer+" ."+this.classTestDataPresenterHeader,this.classInvalidateTestData="invalidate",this.selectorInvalidateTestData=this.selectorTestDataPresenterContainer+"."+this.classInvalidateTestData,this.selectorTestDataContainer=this.selectorTestDataPresenterContainer+" .data",this.$wccNonce=$("#wcc_nonce")}return _createClass(OptionsBoxVariables,null,[{key:"getInstance",value:function getInstance(){return _WPCCrawler.WPCCrawler.getInstance().get(OptionsBoxVariables.name,function(){return new OptionsBoxVariables})}}]),OptionsBoxVariables}();exports.OptionsBoxVariables=OptionsBoxVariables},{"../common/WPCCrawler":22}],154:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabFactory=void 0;var _TabName=require("./enums/TabName"),_CalculationsTab=require("./tabs/default/CalculationsTab"),_FindReplaceTab=require("./tabs/default/FindReplaceTab"),_GeneralTab=require("./tabs/default/GeneralTab"),_ImportExportTab=require("./tabs/default/ImportExportTab"),_NotesTab=require("./tabs/default/NotesTab"),_TemplatesTab=require("./tabs/default/TemplatesTab"),_FileFindReplaceTab=require("./tabs/file/FileFindReplaceTab"),_FileOperationsTab=require("./tabs/file/FileOperationsTab"),_FileTemplatesTab=require("./tabs/file/FileTemplatesTab");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TabFactory=function(){function TabFactory(){_classCallCheck(this,TabFactory),this.tabInstances={},this.registry=new Map,this.registerTab(_CalculationsTab.CalculationsTab,_TabName.TabName.CALCULATIONS).registerTab(_FindReplaceTab.FindReplaceTab,_TabName.TabName.FIND_REPLACE).registerTab(_GeneralTab.GeneralTab,_TabName.TabName.GENERAL).registerTab(_ImportExportTab.ImportExportTab,_TabName.TabName.IMPORT_EXPORT).registerTab(_NotesTab.NotesTab,_TabName.TabName.NOTES).registerTab(_TemplatesTab.TemplatesTab,_TabName.TabName.TEMPLATES).registerTab(_FileFindReplaceTab.FileFindReplaceTab,_TabName.TabName.FILE_FIND_REPLACE).registerTab(_FileOperationsTab.FileOperationsTab,_TabName.TabName.FILE_OPERATIONS).registerTab(_FileTemplatesTab.FileTemplatesTab,_TabName.TabName.FILE_TEMPLATES)}return _createClass(TabFactory,[{key:"registerTab",value:function registerTab(tabClass,tabName){return this.registry.has(tabName)||this.registry.set(tabName,tabClass),this}},{key:"getTabInstance",value:function getTabInstance(tabName){if(!this.tabInstances.hasOwnProperty(tabName)){var instance,tabClass;if(this.registry.has(tabName))instance=new(this.registry.get(tabName));this.tabInstances[tabName]=instance}return this.tabInstances[tabName]}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new TabFactory),this.instance}}]),TabFactory}();(exports.TabFactory=TabFactory).instance=null},{"./enums/TabName":156,"./tabs/default/CalculationsTab":159,"./tabs/default/FindReplaceTab":160,"./tabs/default/GeneralTab":161,"./tabs/default/ImportExportTab":162,"./tabs/default/NotesTab":163,"./tabs/default/TemplatesTab":164,"./tabs/file/FileFindReplaceTab":165,"./tabs/file/FileOperationsTab":166,"./tabs/file/FileTemplatesTab":167}],155:[function(require,module,exports){"use strict";var OptionsBoxType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionsBoxType=void 0,function(OptionsBoxType){OptionsBoxType.DEF="default",OptionsBoxType.FILE="file"}((exports.OptionsBoxType=OptionsBoxType)||(exports.OptionsBoxType=OptionsBoxType={}))},{}],156:[function(require,module,exports){"use strict";var TabName;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabName=void 0,function(TabName){TabName[TabName.CALCULATIONS=0]="CALCULATIONS",TabName[TabName.FIND_REPLACE=1]="FIND_REPLACE",TabName[TabName.GENERAL=2]="GENERAL",TabName[TabName.IMPORT_EXPORT=3]="IMPORT_EXPORT",TabName[TabName.NOTES=4]="NOTES",TabName[TabName.TEMPLATES=5]="TEMPLATES",TabName[TabName.FILE_FIND_REPLACE=6]="FILE_FIND_REPLACE",TabName[TabName.FILE_OPERATIONS=7]="FILE_OPERATIONS",TabName[TabName.FILE_TEMPLATES=8]="FILE_TEMPLATES"}((exports.TabName=TabName)||(exports.TabName=TabName={}))},{}],157:[function(require,module,exports){"use strict";var _TabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FindReplaceTabBase=void 0;var FindReplaceTabBase=function(_TabBase){function FindReplaceTabBase(){return _classCallCheck(this,FindReplaceTabBase),_possibleConstructorReturn(this,_getPrototypeOf(FindReplaceTabBase).apply(this,arguments))}return _inherits(FindReplaceTabBase,_TabBase),_createClass(FindReplaceTabBase,[{key:"restoreState",value:function restoreState(state,settings){var _this=this,$settingsContainer=this.getSettingsContainer();this.restoreMultipleInputValues($settingsContainer,state,this.getKeyFindReplaces(),function($currentInputGroup1,value){return _this.setInputGroupValues($currentInputGroup1,value.find,value.replace,value.hasOwnProperty("regex"))})}},{key:"saveState",value:function saveState(){var state=this.getInputValuesAsObject();return state=this.filterMultipleInputState(state,this.getKeyFindReplaces(),function(val){return val.find.length||val.replace.length})}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){return(state[this.getKeyFindReplaces()]||[]).length}},{key:"setInputGroupValues",value:function setInputGroupValues($inputGroup,find,replace,regex){$inputGroup.find('input[name$="[regex]"]').prop("checked",regex),$inputGroup.find('input[name$="[find]"]').val(find),$inputGroup.find('input[name$="[replace]"]').val(replace)}}]),FindReplaceTabBase}(require("./TabBase").TabBase);exports.FindReplaceTabBase=FindReplaceTabBase},{"./TabBase":158}],158:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabBase=void 0;var _OptionsBoxVariables=require("../../OptionsBoxVariables");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TabBase=function(){function TabBase(stateKey,tabId,color){_classCallCheck(this,TabBase),this._stateKey=stateKey,this._tabId=tabId,this._color=color}return _createClass(TabBase,[{key:"setSelectValue",value:function setSelectValue($settingsContainer,key,settings){this._setInputValue($settingsContainer,key,settings,function($input){$input.val($input.find("option").first().val())},function($input,value){$input.val(value)})}},{key:"setInputValue",value:function setInputValue($settingsContainer,key,settings){this._setInputValue($settingsContainer,key,settings,function($input){$input.val("")},function($input,value){$input.val(value)})}},{key:"setCheckboxValue",value:function setCheckboxValue($settingsContainer,key,settings){this._setInputValue($settingsContainer,key,settings,function($input){$input.prop("checked",!1)},function($input,value){$input.prop("checked",!0)})}},{key:"_setInputValue",value:function _setInputValue($settingsContainer,key,settings,resetValueCallback,setValueCallback){var $input=this.getSettingInputWithPartialName($settingsContainer,key);if(null!==$input){var value=settings[key]||null;null===value?resetValueCallback($input):setValueCallback($input,value)}}},{key:"getSettingInputWithPartialName",value:function getSettingInputWithPartialName($settingsContainer,partialName){var $input=$settingsContainer.find('[name$="['+partialName+']"]');return $input.length?$input:null}},{key:"clearInputsInContainer",value:function clearInputsInContainer($container){$container.find(".wcc-remove").each(function(i,el){$(el).trigger("click")})}},{key:"addInputGroupToContainer",value:function addInputGroupToContainer($container){return $container.find(".wcc-add-new").trigger("click"),$container.find(".inputs > .input-group:last-child")}},{key:"getFirstInputGroupInContainer",value:function getFirstInputGroupInContainer($container){return $container.find(".inputs > .input-group:first-child")}},{key:"getVariables",value:function getVariables(){return _OptionsBoxVariables.OptionsBoxVariables.getInstance()}},{key:"getTabContainer",value:function getTabContainer(){return $("#"+this.tabId)}},{key:"getSettingsContainer",value:function getSettingsContainer(){return this.getTabContainer().find(".wcc-settings").first()}},{key:"getInputValuesAsObject",value:function getInputValuesAsObject(){var obj;return(this.getTabContainer().find(":input").serializeObjectNoNull()||{})[this.getVariables().inputName]||{}}},{key:"restoreMultipleInputValues",value:function restoreMultipleInputValues($settingsContainer,state,key,callback){var $inputGroupContainer=$settingsContainer.find('[name^="'+this.getVariables().inputName+"["+key+']"]').closest("td")||null;if(null!==$inputGroupContainer&&$inputGroupContainer.length){this.clearInputsInContainer($inputGroupContainer);var values=state[key]||null;if(null!==values&&values.length)for(var current,$currentInputGroup,isFirst=!0,len=values.length,i=0;i<len;i++)null!==(current=values[i]||null)&&(isFirst?($currentInputGroup=this.getFirstInputGroupInContainer($inputGroupContainer),isFirst=!1):$currentInputGroup=this.addInputGroupToContainer($inputGroupContainer),callback($currentInputGroup,current))}}},{key:"filterMultipleInputState",value:function filterMultipleInputState(state,key,callback){return state[key]=(state[key]||[]).filter(function(val){return callback(val)}),state}},{key:"stateKey",get:function get(){return this._stateKey}},{key:"tabId",get:function get(){return this._tabId}},{key:"color",get:function get(){return this._color}}]),TabBase}();exports.TabBase=TabBase},{"../../OptionsBoxVariables":153}],159:[function(require,module,exports){"use strict";var _TabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CalculationsTab=void 0;var CalculationsTab=function(_TabBase){function CalculationsTab(){var _this;return _classCallCheck(this,CalculationsTab),(_this=_possibleConstructorReturn(this,_getPrototypeOf(CalculationsTab).call(this,"calculations","tab-options-box-calculations","#FFFF00"))).keyDecimalSeparatorAfter="decimal_separator_after",_this.keyUseThousandsSeparator="use_thousands_separator",_this.keyRemoveIfNotNumeric="remove_if_not_numeric",_this.keyPrecision="precision",_this.keyFormulas="formulas",_this}return _inherits(CalculationsTab,_TabBase),_createClass(CalculationsTab,[{key:"restoreState",value:function restoreState(state,settings){var $settingsContainer=this.getSettingsContainer();this.setSelectValue($settingsContainer,this.keyDecimalSeparatorAfter,state),this.setInputValue($settingsContainer,this.keyPrecision,state),this.setCheckboxValue($settingsContainer,this.keyUseThousandsSeparator,state),this.setCheckboxValue($settingsContainer,this.keyRemoveIfNotNumeric,state),this.restoreMultipleInputValues($settingsContainer,state,this.keyFormulas,function($currentInputGroup,value){$currentInputGroup.find('input[name$="[formula]"]').first().val(value.formula||"")})}},{key:"saveState",value:function saveState(){var state=this.getInputValuesAsObject();return state[this.keyFormulas]=state[this.keyFormulas].filter(function(v){return(v.formula||[]).length}),state}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){var total=0;return total+=(state[this.keyFormulas]||[]).length,state.hasOwnProperty(this.keyRemoveIfNotNumeric)&&(total+=1),total}}]),CalculationsTab}(require("../base/TabBase").TabBase);exports.CalculationsTab=CalculationsTab},{"../base/TabBase":158}],160:[function(require,module,exports){"use strict";var _FindReplaceTabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FindReplaceTab=void 0;var FindReplaceTab=function(_FindReplaceTabBase){function FindReplaceTab(){return _classCallCheck(this,FindReplaceTab),_possibleConstructorReturn(this,_getPrototypeOf(FindReplaceTab).call(this,"findReplace","tab-options-box-find-replace","#FF0000"))}return _inherits(FindReplaceTab,_FindReplaceTabBase),_createClass(FindReplaceTab,[{key:"getKeyFindReplaces",value:function getKeyFindReplaces(){return"find_replace"}}]),FindReplaceTab}(require("../base/FindReplaceTabBase").FindReplaceTabBase);exports.FindReplaceTab=FindReplaceTab},{"../base/FindReplaceTabBase":157}],161:[function(require,module,exports){"use strict";var _TabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralTab=void 0;var GeneralTab=function(_TabBase){function GeneralTab(){var _this;return _classCallCheck(this,GeneralTab),(_this=_possibleConstructorReturn(this,_getPrototypeOf(GeneralTab).call(this,"general","tab-options-box-general","#FF7F00"))).keyTreatAsJson="treat_as_json",_this}return _inherits(GeneralTab,_TabBase),_createClass(GeneralTab,[{key:"restoreState",value:function restoreState(state,settings){var $settingsContainer=this.getSettingsContainer();this.setCheckboxValue($settingsContainer,this.keyTreatAsJson,state)}},{key:"saveState",value:function saveState(){return this.getInputValuesAsObject()}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){var total=0;return state.hasOwnProperty(this.keyTreatAsJson)&&(total+=1),total}}]),GeneralTab}(require("../base/TabBase").TabBase);exports.GeneralTab=GeneralTab},{"../base/TabBase":158}],162:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportExportTab=void 0;var _TabBase2=require("../base/TabBase"),_OptionsBox=require("../../OptionsBox"),_EventType=require("../../../common/EventType");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var ImportExportTab=function(_TabBase){function ImportExportTab(){var _this;return _classCallCheck(this,ImportExportTab),_this=_possibleConstructorReturn(this,_getPrototypeOf(ImportExportTab).call(this,"importExport","tab-options-box-import-export","#2196f3")),$(document).on(_EventType.EventType.optionsBoxTabActivated,function(e,tabId){tabId===_this.tabId&&_this.updateExportTextArea()}),$(_this.getVariables().optionsBoxSelector).on("click",_this.getVariables().selectorImportSettingsButton,function(e){_this.importSettings(),_this.updateExportTextArea(),flashBackground($(_this.getVariables().selectorImportTextarea))}),_this}return _inherits(ImportExportTab,_TabBase),_createClass(ImportExportTab,[{key:"restoreState",value:function restoreState(state,settings){}},{key:"saveState",value:function saveState(){return{}}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){return 0}},{key:"importSettings",value:function importSettings(){var $importTextarea=$(this.getVariables().selectorImportTextarea),val=$importTextarea.val().toString();null!=val&&"undefined"!==val&&val.length&&(_OptionsBox.OptionsBox.getInstance().getOptionsBoxInput().val(val),_OptionsBox.OptionsBox.getInstance().restoreState(),$importTextarea.val(""))}},{key:"updateExportTextArea",value:function updateExportTextArea(){_OptionsBox.OptionsBox.getInstance().saveState();var stateStr=_OptionsBox.OptionsBox.getInstance().getOptionsBoxInput().val();$(this.getVariables().selectorExportTextarea).val(stateStr)}}]),ImportExportTab}(_TabBase2.TabBase);exports.ImportExportTab=ImportExportTab},{"../../../common/EventType":10,"../../OptionsBox":151,"../base/TabBase":158}],163:[function(require,module,exports){"use strict";var _TabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotesTab=void 0;var NotesTab=function(_TabBase){function NotesTab(){var _this;return _classCallCheck(this,NotesTab),(_this=_possibleConstructorReturn(this,_getPrototypeOf(NotesTab).call(this,"notes","tab-options-box-notes","#0000FF"))).keyNote="note",_this}return _inherits(NotesTab,_TabBase),_createClass(NotesTab,[{key:"restoreState",value:function restoreState(state,settings){this.setNoteValue(state[this.keyNote]||"")}},{key:"saveState",value:function saveState(){var state=this.getInputValuesAsObject();return state[this.keyNote]=state[this.keyNote]||"",state}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){var value=0;return(state[this.keyNote]||[]).length&&(value+=1),value}},{key:"setNoteValue",value:function setNoteValue(txt){var $note=this.getTabContainer().find('textarea[name$="[note]"]').first()||null;null!==$note&&$note.length&&$note.val(txt)}}]),NotesTab}(require("../base/TabBase").TabBase);exports.NotesTab=NotesTab},{"../base/TabBase":158}],164:[function(require,module,exports){"use strict";var _TabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemplatesTab=void 0;var TemplatesTab=function(_TabBase){function TemplatesTab(){var _this;return _classCallCheck(this,TemplatesTab),(_this=_possibleConstructorReturn(this,_getPrototypeOf(TemplatesTab).call(this,"templates","tab-options-box-templates","#00FF00"))).keyRemoveIfEmpty="remove_if_empty",_this.keyTemplates="templates",_this}return _inherits(TemplatesTab,_TabBase),_createClass(TemplatesTab,[{key:"restoreState",value:function restoreState(state,settings){var _this2=this,$settingsContainer=this.getSettingsContainer();this.setCheckboxValue($settingsContainer,this.keyRemoveIfEmpty,state),this.restoreMultipleInputValues($settingsContainer,state,this.keyTemplates,function($currentInputGroup1,value){return _this2.setInputGroupValues($currentInputGroup1,value)}),this.applySettings(settings)}},{key:"saveState",value:function saveState(){var state=this.getInputValuesAsObject();return state=this.filterMultipleInputState(state,this.keyTemplates,function(val){return(val.template||[]).length})}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){var total=0;return total+=(state[this.keyTemplates]||[]).length,state.hasOwnProperty(this.keyRemoveIfEmpty)&&(total+=1),total}},{key:"setInputGroupValues",value:function setInputGroupValues($inputGroup,template){$inputGroup.find('textarea[name$="[template]"]').val(template.template)}},{key:"applySettings",value:function applySettings(settings){var $buttons=this.getShortCodeButtons(),config,allowedShortCodes=(settings||[]).allowedShortCodes||null;if(null===allowedShortCodes)$buttons.removeClass("hidden");else{$buttons.addClass("hidden");var selector=allowedShortCodes.map(function(key){return'[data-shortcode-name="'+key+'"]'}).join(", ");this.getTabContainer().find(selector).removeClass("hidden")}}},{key:"getShortCodeButtons",value:function getShortCodeButtons(){return this.getTabContainer().find(".short-code-container button")}}]),TemplatesTab}(require("../base/TabBase").TabBase);exports.TemplatesTab=TemplatesTab},{"../base/TabBase":158}],165:[function(require,module,exports){"use strict";var _FindReplaceTabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileFindReplaceTab=void 0;var FileFindReplaceTab=function(_FindReplaceTabBase){function FileFindReplaceTab(){return _classCallCheck(this,FileFindReplaceTab),_possibleConstructorReturn(this,_getPrototypeOf(FileFindReplaceTab).call(this,"fileFindReplace","tab-options-box-file-find-replace","#FF0000"))}return _inherits(FileFindReplaceTab,_FindReplaceTabBase),_createClass(FileFindReplaceTab,[{key:"getKeyFindReplaces",value:function getKeyFindReplaces(){return"file_find_replace"}}]),FileFindReplaceTab}(require("../base/FindReplaceTabBase").FindReplaceTabBase);exports.FileFindReplaceTab=FileFindReplaceTab},{"../base/FindReplaceTabBase":157}],166:[function(require,module,exports){"use strict";var _TabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileOperationsTab=void 0;var FileOperationsTab=function(_TabBase){function FileOperationsTab(){var _this;return _classCallCheck(this,FileOperationsTab),(_this=_possibleConstructorReturn(this,_getPrototypeOf(FileOperationsTab).call(this,"fileOperations","tab-options-box-file-operations","#fffd00"))).keyMove="move",_this.keyCopy="copy",_this}return _inherits(FileOperationsTab,_TabBase),_createClass(FileOperationsTab,[{key:"restoreState",value:function restoreState(state,settings){var $settingsContainer=this.getSettingsContainer(),callback=function callback($currentInputGroup,value){$currentInputGroup.find("input").first().val(value.path||"")};this.restoreMultipleInputValues($settingsContainer,state,this.keyCopy,callback),this.restoreMultipleInputValues($settingsContainer,state,this.keyMove,callback)}},{key:"saveState",value:function saveState(){var state=this.getInputValuesAsObject(),callback=function callback(val){return(val.path||[]).length};return state=this.filterMultipleInputState(state,this.keyCopy,callback),state=this.filterMultipleInputState(state,this.keyMove,callback)}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){var total=0;return total+=(state[this.keyCopy]||[]).length,total+=(state[this.keyMove]||[]).length}}]),FileOperationsTab}(require("../base/TabBase").TabBase);exports.FileOperationsTab=FileOperationsTab},{"../base/TabBase":158}],167:[function(require,module,exports){"use strict";var _TabBase2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileTemplatesTab=void 0;var FileTemplatesTab=function(_TabBase){function FileTemplatesTab(){var _this;return _classCallCheck(this,FileTemplatesTab),(_this=_possibleConstructorReturn(this,_getPrototypeOf(FileTemplatesTab).call(this,"fileTemplates","tab-options-box-file-templates","#00ff1c"))).keyName="templates_file_name",_this.keyTitle="templates_media_title",_this.keyDescription="templates_media_description",_this.keyCaption="templates_media_caption",_this.keyAlt="templates_media_alt_text",_this.selectorAllTemplates="tr.file-template",_this}return _inherits(FileTemplatesTab,_TabBase),_createClass(FileTemplatesTab,[{key:"restoreState",value:function restoreState(state,settings){var $settingsContainer=this.getSettingsContainer(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.getAllKeys()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;this.restoreMultipleInputValues($settingsContainer,state,key,function($currentInputGroup,value){$currentInputGroup.find('textarea[name$="[template]"]').val(value.template)})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.applySettings(settings)}},{key:"saveState",value:function saveState(){var state=this.getInputValuesAsObject(),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=this.getAllKeys()[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var key=_step2.value;state=this.filterMultipleInputState(state,key,function(val){return(val.template||[]).length})}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return state}},{key:"getConfiguredOptionCount",value:function getConfiguredOptionCount(state){var allKeys;return this.getAllKeys().reduce(function(accumulator,currentValue){return accumulator+(state[currentValue]||[]).length},0)}},{key:"applySettings",value:function applySettings(settings){var config,allowedTemplateTypes=(settings||[]).allowedTemplateTypes||null,$tabContainer=this.getTabContainer();if(null!==allowedTemplateTypes&&allowedTemplateTypes.length){$tabContainer.find(this.selectorAllTemplates).addClass("hidden");var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=allowedTemplateTypes[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var id=_step3.value;$tabContainer.find("tr#"+id).removeClass("hidden")}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}else $tabContainer.find(this.selectorAllTemplates).removeClass("hidden")}},{key:"getAllKeys",value:function getAllKeys(){return null===FileTemplatesTab.allKeys&&(FileTemplatesTab.allKeys=[this.keyName,this.keyTitle,this.keyDescription,this.keyCaption,this.keyAlt]),FileTemplatesTab.allKeys}}]),FileTemplatesTab}(require("../base/TabBase").TabBase);(exports.FileTemplatesTab=FileTemplatesTab).allKeys=null},{"../base/TabBase":158}],168:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostList=void 0;var PostList=function(){function PostList(){var _this=this,checkboxes;_classCallCheck(this,PostList),this.$columnActive=$(".column-_active"),this.$columnActiveRecrawling=$(".column-_active_recrawling"),this.$columnActivePostDeleting=$(".column-_active_post_deleting"),[this.$columnActive,this.$columnActiveRecrawling,this.$columnActivePostDeleting].forEach(function($cb){$cb.on("change","input[type=checkbox]",function(e){return _this.handleCheckbox(e)})})}return _createClass(PostList,[{key:"handleCheckbox",value:function handleCheckbox(e){var $self=$(e.target),checked=$self[0].checked,postId=$self.data("post-id");if(null!=postId&&postId){var metaKey=$self.attr("name"),data={};data[metaKey]=checked,$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:"wcc_site_list",post_id:postId,data:data}).done(function(response){response[metaKey]||($self[0].checked=!checked)}).fail(function(response){console.log("Request failed: "+response.responseText),console.log(response),$self[0].checked=!checked})}else console.log("Post ID is not valid: "+postId)}}]),PostList}();exports.PostList=PostList},{}],169:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomShortCodeHandler=void 0;var _CopyToClipboardHandler=require("../common/CopyToClipboardHandler"),_Tooltip=require("../common/tooltip/Tooltip");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CustomShortCodeHandler=function(){function CustomShortCodeHandler(){var _this=this;_classCallCheck(this,CustomShortCodeHandler),this.inputNameCustomShortCodes="_post_custom_content_shortcode_selectors",this.customShortCodeButtonContainerSelector=".custom-short-code-container",this.updateCustomShortCodeButtonContainers();var $customShortCodeInputContainer=this.getCustomShortCodeInputContainer();null!==$customShortCodeInputContainer&&$customShortCodeInputContainer.on("change",'input[name$="[short_code]"]',function(){return _this.updateCustomShortCodeButtonContainers()})}return _createClass(CustomShortCodeHandler,[{key:"updateCustomShortCodeButtonContainers",value:function updateCustomShortCodeButtonContainers(){var $buttonContainers=$(this.customShortCodeButtonContainerSelector)||null;if(null!==$buttonContainers&&$buttonContainers.length){var $buttonContainer=this.getCustomShortCodeButtons()||null,buttonsExist=null!==$buttonContainer&&$buttonContainer.length,$el;$buttonContainers.each(function(i,el){($el=$(el)).html(""),buttonsExist&&$el.append($buttonContainer.clone())});var selector=this.customShortCodeButtonContainerSelector+" button";_Tooltip.Tooltip.initForSelector(selector),_CopyToClipboardHandler.CopyToClipboardHandler.getInstance().initForSelector(selector)}}},{key:"getCustomShortCodeButtons",value:function getCustomShortCodeButtons(){var $container=this.getCustomShortCodeInputContainer();if(null===$container)return null;var names=[],name;$container.find('input[name*="[short_code]"]').each(function(i,el){null!==(name=$(el).val()||null)&&name.length&&names.push(name)});for(var $buttonContainer=$("<div/>"),withBrackets,$button,_i=0,_names=names;_i<_names.length;_i++){var _name=_names[_i];withBrackets="["+_name+"]",$button=$("<button/>").addClass("button").attr("type","button").attr("data-shortcode-name",_name).attr("data-clipboard-text",withBrackets).attr(_Tooltip.Tooltip.TOOLTIP_ATTRIBUTE_NAME,_Tooltip.Tooltip.TOOLTIP_ATTRIBUTE_VALUE).attr("data-placement","top").attr("title",window.wpcc.custom_short_code+": "+_name).html(withBrackets),$buttonContainer.append($button)}return $buttonContainer}},{key:"getCustomShortCodeInputContainer",value:function getCustomShortCodeInputContainer(){var $anInput=$('input[name^="'+this.inputNameCustomShortCodes+'"]').first()||null;if(null===$anInput||!$anInput.length)return null;var $container=$anInput.closest(".inputs")||null;return null!==$container&&$container.length?$container:null}}],[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new CustomShortCodeHandler),this.instance}}]),CustomShortCodeHandler}();(exports.CustomShortCodeHandler=CustomShortCodeHandler).instance=null},{"../common/CopyToClipboardHandler":7,"../common/tooltip/Tooltip":32}],170:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostSettings=void 0;var _Notifier=require("../common/Notifier"),_InputGroupHandler=require("../common/InputGroupHandler"),_PostSettingsVariables=require("./PostSettingsVariables"),_WooCommerceSettings=require("./WooCommerceSettings"),_NotificationType=require("../common/enum/NotificationType"),_SectionNavigationHandler=require("../common/SectionNavigationHandler"),_CopyToClipboardHandler=require("../common/CopyToClipboardHandler"),_CustomShortCodeHandler=require("./CustomShortCodeHandler"),_DependantHandler=require("../common/DependantHandler"),_NotificationPosition=require("../common/enum/NotificationPosition"),_TabAndNavigationHandler=require("../common/TabAndNavigationHandler"),_SortableHandler=require("../common/SortableHandler"),_TestHandler=require("../common/TestHandler"),_TestDataPreparer=require("./TestDataPreparer"),_Tooltip=require("../common/tooltip/Tooltip"),_DocsLinkProvider=require("../common/DocsLinkProvider"),_EventType=require("../common/EventType"),_KeyboardEventHelper=require("../common/KeyboardEventHelper"),_KeyboardKey=require("../common/enum/KeyboardKey");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var PostSettings=function(){function PostSettings(){var _this=this;_classCallCheck(this,PostSettings),this.psv=_PostSettingsVariables.PostSettingsVariables.getInstance(),this.notifier=_Notifier.Notifier.getInstance(),this.inputGroupHandler=_InputGroupHandler.InputGroupHandler.getInstance(),this.tabHandler=_TabAndNavigationHandler.TabAndNavigationHandler.getInstance(),this.initSelectOptions(),_Tooltip.Tooltip.initAll(),_SectionNavigationHandler.SectionNavigationHandler.getInstance().initNavigations(),_CustomShortCodeHandler.CustomShortCodeHandler.getInstance(),_TestHandler.TestHandler.getInstance(),_DependantHandler.DependantHandler.getInstance(),_DocsLinkProvider.DocsLinkProvider.getInstance().init(),this.psv.$containerMetaBox.on("click",this.psv.selectorLoadTranslationLanguages,function(e){return _this.onLoadRefreshClearTranslationLanguages(e)}),this.psv.$containerMetaBox.on("click",this.psv.selectorClearTranslationLanguages,function(e){return _this.onLoadRefreshClearTranslationLanguages(e)}),this.psv.$containerMetaBox.on("click",".info-button",function(e){return _this.onClickInfoButton(e)}),this.psv.$containerMetaBox.on("click",".toggle-info-texts",function(e){return _this.onClickToggleInfoTexts(e)}),"function"==typeof window.Clipboard&&this.initCopyToClipboard(),this.psv.$containerMetaBox.on("click",".input-button-container > button",function(e){return e.preventDefault()}),$(document).on("click",this.psv.selectorLoadGeneralSettingsButton,function(e){return _this.handleLoadClearGeneralSettings(e)}),$(document).on("click",this.psv.selectorClearGeneralSettingsButton,function(e){return _this.handleLoadClearGeneralSettings(e)}),_SortableHandler.SortableHandler.getInstance(),$('textarea[readonly="readonly"]').on("focus",function(e){return _this.onFocusReadonlyTextArea(e)}),this.psv.$form.on("submit",function(e){return _this.onSubmitForm(e)}),$(document).on("change",this.psv.selectorCategoryMap+" select",function(e){return _this.onChangeCategory(e)}),$(document).on("click",this.psv.selectorQuickSaveButton,function(e){return _this.quickSave(e)}),this.psv.$containerMetaBox.on("keydown","input, select",function(e){var key;new _KeyboardEventHelper.KeyboardEventHelper(e).getKey()===_KeyboardKey.KeyboardKey.ENTER&&_this.quickSave(e)}),this.inputGroupHandler.registerModifier(function($inputGroup){$inputGroup.hasClass("category-map")&&_this.setCategoryTaxonomyNameForSelect($inputGroup.find("select"))}),_WooCommerceSettings.WooCommerceSettings.getInstance()}return _createClass(PostSettings,[{key:"onChangeCategory",value:function onChangeCategory(e){var $self=$(e.target);this.setCategoryTaxonomyNameForSelect($self)}},{key:"setCategoryTaxonomyNameForSelect",value:function setCategoryTaxonomyNameForSelect($selectEl){var $selectedOption=$selectEl.find(":selected")||null;if(null!==$selectedOption&&$selectedOption.length){var taxonomy=$selectedOption.data("taxonomy")||null;$selectEl.closest(".input-container").find("input.category-taxonomy").val(taxonomy)}}},{key:"quickSave",value:function quickSave(e){var _this2=this,$importTextArea=$("#_post_import_settings")||null;if(null!==$importTextArea&&$importTextArea.length){var val=$importTextArea.val()||null;if(null!==val&&val.length)return void this.psv.$form.find('input[type="submit"]').trigger("click")}var $button=$(this.psv.selectorQuickSaveButton);if(0<$button.length&&($button=$button.first(),e.preventDefault(),!$button.hasClass("loading"))){var postId=$button.data("post-id")||null;if(null!==postId&&postId)if(this.beforeFormSubmit(e)){var serializedFormValues=this.getFormValuesSerialized();if(null!==serializedFormValues&&serializedFormValues.length){var successClasses="flip",errorClasses="shake",loadingClasses="bounce infinite loading";$button.removeClass("flip").removeClass("shake").addClass(loadingClasses),$.post(window.ajaxurl,{wcc_nonce:this.psv.$wccNonce.val(),action:window.pageActionKey,data:{cmd:"saveSiteSettings",postId:postId,settings:serializedFormValues}}).done(function(response){var success=response.success,message=response.message;if(success){$button.removeClass(loadingClasses).addClass("flip"),_this2.notifier.notifyRegular($button,window.wpcc.settings_saved,_NotificationType.NotificationType.SUCCESS,_NotificationPosition.NotificationPosition.LEFT);var settingsForExport=response.settingsForExport||null;if(null!==settingsForExport&&settingsForExport.length){var $exportTextArea=$(_this2.psv.selectorExportSettingsTextArea)||null;null!==$exportTextArea&&$exportTextArea.val(settingsForExport)}$(document).trigger(jQuery.Event(_EventType.EventType.siteSettingsQuickSaved))}else _this2.notifier.notifyRegular($button,message,_NotificationType.NotificationType.ERROR,_NotificationPosition.NotificationPosition.LEFT)}).fail(function(response){$button.removeClass(loadingClasses).addClass("shake"),_this2.notifier.notifyRegular($button,window.wpcc.an_error_occurred,_NotificationType.NotificationType.ERROR,_NotificationPosition.NotificationPosition.LEFT)}).always(function(){$button.removeClass(loadingClasses)})}else this.notifier.notifyRegular($button,window.wpcc.settings_not_retrieved,_NotificationType.NotificationType.ERROR,_NotificationPosition.NotificationPosition.LEFT)}else $(document).find("html, body").stop().animate({scrollTop:20},500,"swing");else this.notifier.notifyRegular($button,window.wpcc.post_id_not_found,_NotificationType.NotificationType.ERROR,_NotificationPosition.NotificationPosition.LEFT)}}},{key:"onSubmitForm",value:function onSubmitForm(e){this.beforeFormSubmit(e)}},{key:"beforeFormSubmit",value:function beforeFormSubmit(e){var isValid=this.validateForm(e);void 0!==window.optionsBox&&window.optionsBox.close();var $hiddenActiveTabInput=$(this.psv.selectorInputURLHash);return $hiddenActiveTabInput.length&&$hiddenActiveTabInput.val(window.location.hash+"|"+document.documentElement.scrollTop),isValid}},{key:"validateForm",value:function validateForm(e){var _this3=this,$importInput=$(this.psv.selectorInputImport);if(!($importInput.length&&0<$importInput.val().length)){var $categoryMapContainer=$(this.psv.selectorCategoryMap),$inputMainUrl=$("#_main_page_url"),$passwordsContainer=$(this.psv.selectorInputContainerPasswords),errorElements=[];this.psv.$errorAlert.addClass("hidden");var hasError=!1;if(this.tabHandler.removeErrorsFromAllTabs(),$categoryMapContainer.length){var urls=[],errorCategoryMap=!1;$categoryMapContainer.find(".input-group").each(function(i,el){$(el).removeClass(_this3.psv.clsHasError)}),$categoryMapContainer.find("input[type=text]").each(function(i,el){var $self=$(el);-1==urls.indexOf($self.val())?urls.push($self.val()):($self.closest(".input-group").addClass(_this3.psv.clsHasError),errorCategoryMap=errorCategoryMap||!0),$self.val().length||($self.closest(".input-group").addClass(_this3.psv.clsHasError),errorCategoryMap=errorCategoryMap||!0)}),errorCategoryMap&&(hasError=!0,errorElements.push($categoryMapContainer))}if($inputMainUrl.length&&($inputMainUrl.closest(".input-group").removeClass(this.psv.clsHasError),$inputMainUrl.val().length||(hasError=!0,$inputMainUrl.closest(".input-group").addClass(this.psv.clsHasError),errorElements.push($inputMainUrl))),$passwordsContainer.length){var cbChangePassword=$("#_wpcc_change_password");if(null!=cbChangePassword&&cbChangePassword[0].checked){$passwordsContainer.each(function(i,el){$(el).closest(".input-group").removeClass(_this3.psv.clsHasError)});var passwordOld=null,password1=null,password2=null;$passwordsContainer.find("input[type=password]").each(function(i,el){var $self=$(el);null==passwordOld?passwordOld=!0:null==password1?password1=$self.val():null==password2&&(password2=$self.val(),password1!=password2&&($self.closest(".input-group").addClass(_this3.psv.clsHasError),password1=password2=null,hasError=!0,errorElements.push($self)))})}}return!hasError||(setTimeout(function(){for(var i in errorElements)errorElements.hasOwnProperty(i)&&_this3.tabHandler.setTabError(errorElements[i],!0)},1),this.psv.$errorAlert.removeClass("hidden"),e.preventDefault(),!1)}this.tabHandler.removeErrorsFromAllTabs()}},{key:"getFormValuesSerialized",value:function getFormValuesSerialized(){var tinymceImpl=("function"==typeof window.tinymce?window.tinymce:window.tinyMCE)||null,$el,$editorWrapper,name,content,editor;null!==tinymceImpl&&$("textarea.wp-editor-area").each(function(i,el){$el=$(el),($editorWrapper=$el.closest(".wp-editor-wrap")).hasClass("html-active")||(name=$el.attr("name"),null!==(editor=tinymceImpl.get(name)||null)&&(content=editor.getContent(),$el.val(content)))});return this.psv.$form.serialize()||null}},{key:"onFocusReadonlyTextArea",value:function onFocusReadonlyTextArea(e){var $self=$(e.target);$self.trigger("select"),$self.on("mouseup",function(){return $self.off("mouseup"),!1})}},{key:"handleLoadClearGeneralSettings",value:function handleLoadClearGeneralSettings(e){var _this4=this;e.preventDefault();var $self=$(e.target),id=$self.attr("id");if(!$self.hasClass("loading")){$self.addClass("loading");var cmdClear="clearGeneralSettings",cmdLoad="loadGeneralSettings",command="#"+id==this.psv.selectorClearGeneralSettingsButton?cmdClear:cmdLoad;$.post(window.ajaxurl,{wcc_nonce:this.psv.$wccNonce.val(),action:window.pageActionKey,data:{cmd:command}}).done(function(response){var view=response.view;$(_this4.psv.selectorTabGeneralSettings).html(view).find("[type=checkbox]").trigger("change"),_SortableHandler.SortableHandler.getInstance().initSortablesInContainer(_this4.psv.selectorTabGeneralSettings),_DependantHandler.DependantHandler.getInstance().handleElementDependantsInContainer($(_this4.psv.selectorTabGeneralSettings)),command==cmdLoad&&$(document).trigger(jQuery.Event(_EventType.EventType.generalSettingsLoaded))}).fail(function(response){console.log(response)}).always(function(){$self.removeClass("loading")})}}},{key:"initCopyToClipboard",value:function initCopyToClipboard(){var selector=".input-button-container > button";_CopyToClipboardHandler.CopyToClipboardHandler.getInstance().initForSelector(selector)}},{key:"onClickToggleInfoTexts",value:function onClickToggleInfoTexts(e){var _this5=this;e.preventDefault(),this.psv.infoTextsHidden&&_DocsLinkProvider.DocsLinkProvider.getInstance().addDocsLinkForAllSettingKeys(),this.psv.$containerMetaBox.find(".info-text").each(function(i,el){_this5.psv.infoTextsHidden?$(el).removeClass("hidden"):$(el).addClass("hidden")}),this.psv.infoTextsHidden=!this.psv.infoTextsHidden}},{key:"onClickInfoButton",value:function onClickInfoButton(e){e.preventDefault();var $self=$(e.target).closest(".info-button"),$infoText=$self.parent().find(".info-text").first();if($infoText.hasClass("hidden")){var $label=$self.parent().find("label").first();$label.length&&_DocsLinkProvider.DocsLinkProvider.getInstance().addDocsLinkForSettingKey($label.attr("for")),$infoText.removeClass("hidden")}else $infoText.addClass("hidden")}},{key:"onLoadRefreshClearTranslationLanguages",value:function onLoadRefreshClearTranslationLanguages(e){var _this6=this;e.preventDefault();var $self=$(e.target),data=$self.data("wcc"),serviceType=data.serviceType,requestType=data.requestType,preparedAjaxData={};preparedAjaxData.serviceType=serviceType,preparedAjaxData.requestType=requestType,preparedAjaxData.isOption=$(".wcc-general-settings").length?1:0,preparedAjaxData=_TestDataPreparer.TestDataPreparer.getInstance().addTranslationOptions(null,preparedAjaxData,!0),$self.addClass("loading"),$.post(window.ajaxurl,{wcc_nonce:this.psv.$wccNonce.val(),action:window.pageActionKey,data:preparedAjaxData}).done(function(response){if(null==response||!response||null==response.view||null!=response.errors&&response.errors.length){if(_this6.notifier.notify($self,window.wpcc.an_error_occurred),console.log(response),null!=response.view){var $resultContainer=$self.closest("td").find(".test-results"),$contentContainer;$resultContainer.find(".content").html(response.view),$resultContainer.removeClass("hidden")}}else{var $viewFrom=$(response.view.from),$viewTo=$(response.view.to),keyFrom=$viewFrom.find("select").first().attr("name"),keyTo=$viewTo.find("select").first().attr("name");$("label[for='"+keyFrom+"']").closest("tr").find("td:nth-child(2)").html(response.view.from),$("label[for='"+keyTo+"']").closest("tr").find("td:nth-child(2)").html(response.view.to),_this6.flashBackground($("#"+keyFrom)),_this6.flashBackground($("#"+keyTo))}}).fail(function(response){_this6.notifier.notify($self,window.wpcc.an_error_occurred+": "+response.responseText),console.log(response)}).always(function(){$self.removeClass("loading")})}},{key:"initSelectOptions",value:function initSelectOptions(){"function"==typeof $.fn.select2&&$("select[multiple]").select2({theme:"classic",width:"100%"})}},{key:"flashBackground",value:function flashBackground($element){$element.stop().css("background-color","#b8ea84").animate({backgroundColor:"#FFFFFF"},1e3)}}],[{key:"getInstance",value:function getInstance(){return this.instance||(this.instance=new PostSettings),this.instance}}]),PostSettings}();(exports.PostSettings=PostSettings).instance=null},{"../common/CopyToClipboardHandler":7,"../common/DependantHandler":8,"../common/DocsLinkProvider":9,"../common/EventType":10,"../common/InputGroupHandler":11,"../common/KeyboardEventHelper":12,"../common/Notifier":13,"../common/SectionNavigationHandler":16,"../common/SortableHandler":17,"../common/TabAndNavigationHandler":18,"../common/TestHandler":20,"../common/enum/KeyboardKey":24,"../common/enum/NotificationPosition":25,"../common/enum/NotificationType":26,"../common/tooltip/Tooltip":32,"./CustomShortCodeHandler":169,"./PostSettingsVariables":171,"./TestDataPreparer":172,"./WooCommerceSettings":173}],171:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostSettingsVariables=void 0;var PostSettingsVariables=function(){function PostSettingsVariables(){_classCallCheck(this,PostSettingsVariables),this.selectorContainerMetaBox=".wcc-settings-meta-box",this.selectorContainerTabs=".wcc-settings-meta-box > .nav-tab-wrapper",this.selectorAdminBar="#wpadminbar",this.$containerMetaBox=$(this.selectorContainerMetaBox),this.$containerTabs=$(this.selectorContainerTabs),this.$form=$("#post"),this.$errorAlert=$("#wcc-alert"),this.$wccNonce=$("#wcc_nonce"),this.$adminBar=$(this.selectorAdminBar),this.selectorCategoryMap="#category-map",this.selectorTabMain="#tab-main",this.selectorTabPost="#tab-post",this.selectorTabCategory="#tab-category",this.selectorTabGsPost="#tab-gs-post",this.selectorTabGeneralSettings="#tab-general-settings",this.selectorTestButton=".wcc-test",this.selectorInputContainerPasswords=".input-container-passwords",this.selectorLoadGeneralSettingsButton="#btn-load-general-settings",this.selectorClearGeneralSettingsButton="#btn-clear-general-settings",this.selectorInputImport="#_post_import_settings",this.selectorLoadTranslationLanguages=".load-languages",this.selectorClearTranslationLanguages=".clear-languages",this.selectorInputURLHash="input[name='url_hash']",this.inputNameCookies="_cookies",this.baseHtmlManipulationInputNames=["find_replace_raw_html","find_replace_first_load","find_replace_element_attributes","exchange_element_attributes","remove_element_attributes","find_replace_element_html","unnecessary_element_selectors"],this.selectorOriginalTestResults=".original-results",this.selectorButtonSeeUnmodifiedTestResults=this.selectorOriginalTestResults+" .see-unmodified-results",this.selectorInvalidateCacheButton=".invalidate-cache-for-this-url",this.selectorInvalidateAllCachesButton=".invalidate-all-test-url-caches",this.selectorQuickSaveButton=".quick-save-container .quick-save",this.selectorExportSettingsTextArea="#_post_export_settings",this.clsHasError="has-error",this.$inputAction=$("#hiddenaction"),this.infoTextsHidden=!0,this.classFixed="wpcc-fixed",this.selectorFixable=".fixable",this.selectorCheckboxFixTabs="#_fix_tabs",this.selectorCheckboxFixContentNavigation="#_fix_content_navigation"}return _createClass(PostSettingsVariables,null,[{key:"getInstance",value:function getInstance(){return null===this.instance&&(this.instance=new PostSettingsVariables),this.instance}}]),PostSettingsVariables}();(exports.PostSettingsVariables=PostSettingsVariables).instance=null},{}],172:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestDataPreparer=void 0;var _Notifier=require("../common/Notifier"),_PostSettingsVariables=require("./PostSettingsVariables"),_Utils=require("../common/Utils");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TestDataPreparer=function(){function TestDataPreparer(){_classCallCheck(this,TestDataPreparer),this.notifier=_Notifier.Notifier.getInstance(),this.psv=_PostSettingsVariables.PostSettingsVariables.getInstance(),window.$lastClickedOptionsBoxButton=null}return _createClass(TestDataPreparer,[{key:"prepareTestData",value:function prepareTestData($testButton){var mData=$testButton.data("wcc")||null;if(null==mData||!mData)return null;var data=null;try{data=JSON.parse(JSON.stringify(mData))||null}catch(e){}if(null==data||"string"==typeof data)return console.error("Test button data could not be parsed to JSON. Data: ",mData),null;data=this.addSettingsToAjaxData(data);var $inputs=$testButton.closest(".input-group").find(":input[name]");if(!$inputs.length)return null;var allSelectorsRequired=!0,requiredElExpr=mData.requiredSelectors;if(null!=requiredElExpr&&(allSelectorsRequired=!1,requiredElExpr.length)){requiredElExpr=" "+requiredElExpr.replace(/([()&|])/g," $1 ").replace(/\s{2,}/g," ").replace(/\&/g,"&&").replace(/\|/g,"||").trim()+" ";var selectorMatches=requiredElExpr.match(/([#\[\]=\^~.a-z0-9_\-"']+)\s?/g),evalStr=requiredElExpr,currentSelector,$el,valueExists,requiredEls=[];for(var i in selectorMatches)selectorMatches.hasOwnProperty(i)&&(currentSelector=selectorMatches[i].trim(),currentSelector.length&&($el=$(currentSelector).first(),valueExists=$el.length&&null!=$el.val()&&$el.val().length,!valueExists&&$el.length&&requiredEls.push($el),evalStr=evalStr.replace(new RegExp(_Utils.Utils.escapeRegExp(currentSelector)+"\\s","g"),valueExists?"true ":"false ")));if(!eval(evalStr)&&requiredEls.length){var max=requiredEls.length-1,min=0;return this.notifier.notify(requiredEls[Math.floor(Math.random()*(max-min+1))+min],void 0),null}}for(var key in data)if(data.hasOwnProperty(key)&&/Selector$/.test(key)){var $targetEl=$(data[key]);if(allSelectorsRequired&&(null==$targetEl.val()||!$targetEl.val().length))return this.notifier.notify($targetEl,void 0),null;delete data[key],$targetEl.length&&1===$targetEl.length&&(data[key.replace("Selector","")]=$targetEl.val()||null)}if(data.hasOwnProperty("extra")){var extra=data.extra,extraPrepared={},item,val;for(var _key in extra)extra.hasOwnProperty(_key)&&(item=extra[_key],item.hasOwnProperty("selector")&&item.hasOwnProperty("data")&&(val=$(item.selector).data(item.data),null!=val&&"undefined"!==val&&(extraPrepared[_key]=val)));$.isEmptyObject(extraPrepared)?delete data.extra:data.extra=extraPrepared}null!==window.$lastClickedOptionsBoxButton&&(data.optionsBox=window.$lastClickedOptionsBoxButton.find(":input").first().val(),data.fromOptionsBox=1),data.serializedValues=$inputs.serialize();var rawName=$inputs.first().attr("name");data.formItemName=/^([^\[]+)/.exec(rawName)[1]||null;var part=/^[^\[]+([^0-9]+)/.exec(rawName)[1]||"";return 1<part.length&&(part=part.substr(1,part.length-2).replace(/\]\[/g,".").replace(/\[/g,"").replace(/\]/g,""),data.formItemDotKey=part),data=this.addDataForFindReplaceInCustomMetaOrShortCodeTest($testButton,data),data=this.addTranslationOptions($testButton,data),data=this.addSpinningOptions($testButton,data),data}},{key:"addSettingsToAjaxData",value:function addSettingsToAjaxData(data){if(null!=(data=data||null)){data=this.addManipulationOptionsToAjaxData(data)||null;var $cookies=$(this.psv.selectorTabMain).find("label[for="+this.psv.inputNameCookies+"]").closest("tr").find(".inputs")||null;null!==$cookies&&$cookies.length&&(data.cookies=$cookies.find(":input").serialize());var $checkboxCache=$(this.psv.selectorTabMain).find('input[name="_cache_test_url_responses"]')||null;null!==$checkboxCache&&$checkboxCache.length&&(data.cacheTestUrlResponses=$checkboxCache[0].checked?1:0);var $useCustomSettingsCheckbox=$("#_do_not_use_general_settings")||null,useCustomGeneralSettings=!1;null!==$useCustomSettingsCheckbox&&($useCustomSettingsCheckbox.length&&$useCustomSettingsCheckbox[0].checked?(data.customGeneralSettings=$(this.psv.selectorTabGeneralSettings).find(":input").serialize(),useCustomGeneralSettings=!0):data.customGeneralSettings=void 0);var $useUtf8Checkbox=$("#_wpcc_make_sure_encoding_utf8")||null;if(null!==$useUtf8Checkbox&&$useUtf8Checkbox.length&&useCustomGeneralSettings){data.useUtf8=$useUtf8Checkbox.first()[0].checked?1:0;var $convertEncodingCheckbox=$("#_wpcc_convert_charset_to_utf8")||null;data.convertEncodingToUtf8=_Utils.Utils.getCheckboxValue($convertEncodingCheckbox)?1:0}else data.useUtf8=-1,data.convertEncodingToUtf8=-1;return data}console.error("Test data is null.")}},{key:"addManipulationOptionsToAjaxData",value:function addManipulationOptionsToAjaxData(data){if(null==(data=data||null))return data;var $activeTab=$("div.tab:not(.hidden)"),activeTabId;"templates"===$activeTab.attr("id").replace("tab-","").toLowerCase()&&($activeTab=$(this.psv.selectorTabPost));for(var nameMatchRegex=/[^\\[]+/,results={},currentInputName,$input,$inputs,actualName,i=0;i<this.psv.baseHtmlManipulationInputNames.length;i++)currentInputName=this.psv.baseHtmlManipulationInputNames[i],($inputs=($input=$activeTab.find('input[name*="'+currentInputName+'"]').first()).closest(".inputs").find(":input")).length<1||(results[actualName=$input.attr("name").match(nameMatchRegex)[0]]=$inputs.serialize());return data.manipulation_options=results,data}},{key:"addTranslationOptions",value:function addTranslationOptions($testButton,data,argument_2){var addAnyway=2<arguments.length&&void 0!==argument_2&&argument_2;return this.addTransformationOptions($testButton,data,addAnyway,"wcc-test-translation","translation-settings","serializedTranslationOptions")}},{key:"addSpinningOptions",value:function addSpinningOptions($testButton,data,argument_2){var addAnyway=2<arguments.length&&void 0!==argument_2&&argument_2;return this.addTransformationOptions($testButton,data,addAnyway,"wcc-test-spinning","spinning-settings","serializedSpinningOptions")}},{key:"addTransformationOptions",value:function addTransformationOptions($testButton,data,addAnyway,targetButtonClass,settingContainerId,dataKey){if(!addAnyway&&!$testButton.hasClass(targetButtonClass))return data;var $inputs=$("#"+settingContainerId).find(":input")||null;return null!==$inputs&&$inputs.length&&(data[dataKey]=$inputs.serialize()),data}},{key:"addDataForFindReplaceInCustomMetaOrShortCodeTest",value:function addDataForFindReplaceInCustomMetaOrShortCodeTest($testButton,data){var clsCustomMeta="wcc-test-find-replace-in-custom-meta",clsCustomShortCode="wcc-test-find-replace-in-custom-short-code";if(!$testButton.hasClass(clsCustomMeta)&&!$testButton.hasClass(clsCustomShortCode))return data;var isCustomMeta=$testButton.hasClass(clsCustomMeta),targetInputSelector="."+(isCustomMeta?"meta-key":"short-code"),targetInputGroupSelector="."+(isCustomMeta?"selector-custom-post-meta":"selector-custom-shortcode"),$keyInput=$testButton.closest(".input-group").find(".input-container").find(targetInputSelector);if(!$keyInput.length)return data;var key=$keyInput.val()||null;if(null===key||null===key.toString()||!key.toString().length)return data;var found=!1;return $(".input-group"+targetInputGroupSelector+" "+targetInputSelector).each(function(){if(!found){var $self=$(this);if($self.val()==key){var $cssSelectorInput=$self.closest(".input-group").find(".css-selector"),$cssSelectorAttrInput=$self.closest(".input-group").find(".css-selector-attr"),$optionsBoxInput=$self.closest(".input-group").find('[name*="[options_box]"]'),cssSelector=$cssSelectorInput.val(),attr=$cssSelectorAttrInput.val(),optionsBoxData=$optionsBoxInput.length?$optionsBoxInput.val():void 0;null!=cssSelector&&cssSelector.length&&(data.valueSelector=cssSelector,null!=attr&&attr.length&&(data.valueSelectorAttr=attr),void 0!==optionsBoxData&&(data.valueOptionsBoxData=optionsBoxData),found=!0)}}}),found||isCustomMeta&&$(".input-group.custom-post-meta .meta-key").each(function(){if(!found){var $self=$(this);if($self.val()==key){var $valueInput,value=$self.closest(".input-group").find("input[type=text]:not(.meta-key)").val();null!=value&&value.length&&(data.subject=value,found=!0)}}}),data}}],[{key:"getInstance",value:function getInstance(){return null===this.INSTANCE&&(this.INSTANCE=new TestDataPreparer),this.INSTANCE}}]),TestDataPreparer}();exports.TestDataPreparer=TestDataPreparer,TestDataPreparer.INSTANCE=null},{"../common/Notifier":13,"../common/Utils":21,"./PostSettingsVariables":171}],173:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WooCommerceSettings=void 0;var _WooCommerceSettingsVariables=require("./WooCommerceSettingsVariables"),_DependantHandler=require("../common/DependantHandler");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var WooCommerceSettings=function(){function WooCommerceSettings(){var _this=this;_classCallCheck(this,WooCommerceSettings),WooCommerceSettings.isWooCommerceSettingsAvailable()&&(this.wcsv=_WooCommerceSettingsVariables.WooCommerceSettingsVariables.getInstance(),this.handleURLHash(),this.wcsv.$settingsContainer.on("click",".tab-wrapper li > a",function(e){return _this.onClickTab(e)}),$(document).on("change",this.wcsv.selectorSelectProductType,function(e){return _this.onChangeProductTypeSelect(e)}),$(this.wcsv.selectorSelectProductType).trigger("change"))}return _createClass(WooCommerceSettings,[{key:"onChangeProductTypeSelect",value:function onChangeProductTypeSelect(e){var $el=$(e.target);if("external"==$el.val())for(var $cbVirtual,$cbDownloadable,checkboxes,_i=0,_checkboxes=[$(this.wcsv.selectorCheckboxVirtual)||null,$(this.wcsv.selectorCheckboxDownloadable)||null];_i<_checkboxes.length;_i++){var $cb=_checkboxes[_i];null!==$cb&&$cb.length&&($cb[0].checked=!1,$cb.trigger("change"))}_DependantHandler.DependantHandler.getInstance().handleSelectDependants($el),_DependantHandler.DependantHandler.getInstance().handleElementDependantsInContainer($(this.wcsv.$contentContainer))}},{key:"onClickTab",value:function onClickTab(e){e.preventDefault();var $self=$(e.target).closest("a");this.activateTab($self.data("tab"))}},{key:"activateTab",value:function activateTab(tabSelector){var $tab=this.wcsv.$tabContainer.find('[data-tab="'+tabSelector+'"]');if($tab.length){this.wcsv.$contentContainer.find(".tab-content").addClass("hidden"),this.wcsv.$tabContainer.find("li").removeClass("active");var elementId=$tab.data("tab");$(elementId).removeClass("hidden"),$tab.closest("li").addClass("active");var hash=window.location.hash.split("|");hash[1]=elementId,history.replaceState(void 0,void 0,hash.join("|"))}}},{key:"handleURLHash",value:function handleURLHash(){var hash=window.location.hash||null;if(null!==hash&&0===hash.indexOf("#_")){var hashArr=hash.split("|");if(!(hashArr.length<2)){var tabHash=hashArr[1];this.activateTab(tabHash)}}}}],[{key:"getInstance",value:function getInstance(){return null===this.INSTANCE&&(this.INSTANCE=new WooCommerceSettings),this.INSTANCE}},{key:"isWooCommerceSettingsAvailable",value:function isWooCommerceSettingsAvailable(){return 0<$(_WooCommerceSettingsVariables.WooCommerceSettingsVariables.getInstance().selectorOptionsContainer).length}}]),WooCommerceSettings}();(exports.WooCommerceSettings=WooCommerceSettings).INSTANCE=null},{"../common/DependantHandler":8,"./WooCommerceSettingsVariables":174}],174:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WooCommerceSettingsVariables=void 0;var WooCommerceSettingsVariables=function(){function WooCommerceSettingsVariables(){_classCallCheck(this,WooCommerceSettingsVariables),this.selectorSettingsWrapper=".woocommerce-settings-wrapper",this.selectorTabContentWrapper=this.selectorSettingsWrapper+" > .tab-content-wrapper",this.$settingsContainer=$(this.selectorSettingsWrapper),this.$tabContainer=$(this.selectorSettingsWrapper+" > .tab-wrapper"),this.$contentContainer=$(this.selectorTabContentWrapper),this.selectorSelectProductType="#_wc_product_type",this.selectorCheckboxVirtual="#_wc_virtual",this.selectorCheckboxDownloadable="#_wc_downloadable",this.selectorOptionsContainer="#woocommerce-options-container"}return _createClass(WooCommerceSettingsVariables,null,[{key:"getInstance",value:function getInstance(){return null===this.INSTANCE&&(this.INSTANCE=new WooCommerceSettingsVariables),this.INSTANCE}}]),WooCommerceSettingsVariables}();(exports.WooCommerceSettingsVariables=WooCommerceSettingsVariables).INSTANCE=null},{}],175:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SiteTester=void 0;var _TestType=require("./TestType"),_Tooltip=require("../common/tooltip/Tooltip"),_EventType=require("../common/EventType");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SiteTester=function(){function SiteTester(){var _this=this;_classCallCheck(this,SiteTester),this.$testerForm=null,this.$resultsContainer=null,this.$testHistory=null,this.selectorInputSiteId="#site_id",this.selectorInputTestType="#test_type",this.selectorInputTestUrlPart="#test_url_part",this.selectorToggle=".toggle",this.classToggleable="toggleable",this.selectorButtonTestThis="button.test-this",this.idSelectCategoryUrl="category-url",this.idContainerSelectCategoryUrl="category-url-container",this.idUrlInputGroup="url-input-group",this.toggleCache={},this.isTestHistoryHidden=!1,this.$testerForm=$("#tester-form"),this.$resultsContainer=$("#test-results"),this.$testHistory=$("#test-history"),this.$testerForm.on("submit",function(e){return _this.onSubmitTesterForm(e)}),this.$testHistory.on("click",".wcc-remove",function(e){return _this.onRemoveTestHistoryItem(e)}),this.$testHistory.on("click",".delete-all",function(e){return _this.onRemoveAllTestHistoryItems(e)}),this.$testHistory.on("click","h2",function(){return _this.toggleTestHistory()}),this.$testHistory.on("click",".wcc-test",function(e){return _this.onClickTestButtonInTestHistory(e)}),this.$resultsContainer.on("click",".go-to-top",function(e){return _this.onClickGoToTop(e)}),this.$resultsContainer.on("click","#go-to-details",function(e){return _this.onClickGoToDetails(e)}),this.$resultsContainer.on("click",this.selectorButtonTestThis,function(e){return _this.onClickTestThis(e)}),$(document).on("click",this.selectorToggle,function(e){return _this.toggleToggleable(e)}),this.toggleRelatedCategoryUrls(),$(document).on("change",this.selectorInputTestType,function(){return _this.toggleRelatedCategoryUrls()}),$(document).on("change",this.selectorInputSiteId,function(){return _this.toggleRelatedCategoryUrls()})}return _createClass(SiteTester,[{key:"toggleRelatedCategoryUrls",value:function toggleRelatedCategoryUrls(){var selectedType=this.getSelectedTestType();if(this.removeCategoryUrlSelectElement(),selectedType!=_TestType.TestType.POST){var $select=this.getCategoryURLSelectElement();null!==$select&&$("#"+this.idUrlInputGroup).append($select)}}},{key:"removeCategoryUrlSelectElement",value:function removeCategoryUrlSelectElement(){$("#"+this.idContainerSelectCategoryUrl).remove()}},{key:"getCategoryURLSelectElement",value:function getCategoryURLSelectElement(){var selectedId=this.getSelectedSiteId(),$option=$(this.selectorInputSiteId).find('option[value="'+selectedId+'"]')||null;if(null===$option||!$option.length)return null;var categoryUrls=$option.data("category-urls")||null;if(null===categoryUrls||!categoryUrls.length)return null;var $select=$("<select/>").attr("id",this.idSelectCategoryUrl),$div;return $select.append($("<option value=''>"+window.wpcc.select_category_url+"</option>")),categoryUrls.map(function(url){$select.append($("<option/>").val(url).html(url))}),$("<div/>").attr("id",this.idContainerSelectCategoryUrl).append($("<span>"+window.wpcc.or+"</span>")).append($select)}},{key:"getSelectedCategoryUrl",value:function getSelectedCategoryUrl(){var $select=this.getCategoryUrlSelect();if(null===$select||!$select.length)return null;var url=$select.find("option:selected").val()||null;return null!==url&&url.length?url:null}},{key:"getCategoryUrlSelect",value:function getCategoryUrlSelect(){return $("#"+this.idSelectCategoryUrl)||null}},{key:"toggleToggleable",value:function toggleToggleable(e){e.preventDefault();var $self,$next=$(e.target).next()||null;if(null!==$next&&$next.length&&$next.hasClass(this.classToggleable)){var id=$next.attr("id")||null,isHidden;if(null!==id&&id.length)$next.hasClass("hidden")?($next.removeClass("hidden"),this.toggleCache[id]=!0):($next.addClass("hidden"),this.toggleCache[id]=!1)}}},{key:"restoreToggleableStates",value:function restoreToggleableStates(){var $toggleable,isVisible;for(var id in this.toggleCache)this.toggleCache.hasOwnProperty(id)&&null!==($toggleable=$("#"+id)||null)&&$toggleable.length&&((isVisible=this.toggleCache[id])?$toggleable.removeClass("hidden"):$toggleable.addClass("hidden"))}},{key:"onClickTestThis",value:function onClickTestThis(e){e.preventDefault();var $self=$(e.target).closest(this.selectorButtonTestThis);this.$testerForm.find(this.selectorInputTestType).val($self.data("type")).trigger("change"),this.setTestUrlInputValue($self.data("url")),this.$testerForm.trigger("submit")}},{key:"onClickTestButtonInTestHistory",value:function onClickTestButtonInTestHistory(e){e.preventDefault();var $self=$(e.target),data=this.getTestHistoryData($self);if(null!==data&&data.exists){var siteId=data.siteId||null,testKey=data.testKey||null,testUrl=data.testUrl||null;null!==siteId&&null!==testKey&&null!==testUrl&&(this.$testerForm.find(this.selectorInputSiteId).val(siteId).trigger("change"),this.$testerForm.find(this.selectorInputTestType).val(testKey).trigger("change"),this.setTestUrlInputValue(testUrl),this.$testerForm.trigger("submit"))}}},{key:"onClickGoToDetails",value:function onClickGoToDetails(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#details").offset().top-40},"slow")}},{key:"onClickGoToTop",value:function onClickGoToTop(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"slow")}},{key:"onRemoveAllTestHistoryItems",value:function onRemoveAllTestHistoryItems(e){var _this2=this;e.preventDefault(),window.confirm(window.wpcc.delete_all_test_history)&&(this.setHistoryLoading(!0),$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:window.pageActionKey,data:{cmd:"delete_all_test_history"}}).done(function(response){var $newInside=$(response.view).find(".inside").first();_this2.$testHistory.find(".inside").html($newInside.html())}).fail(function(response){console.log(response),_this2.$resultsContainer.html(window.wpcc.an_error_occurred+": "+response.responseText)}).always(function(){_this2.setHistoryLoading(!1)}))}},{key:"onRemoveTestHistoryItem",value:function onRemoveTestHistoryItem(e){var _this3=this;e.preventDefault();var $self=$(e.target),data=this.getTestHistoryData($self);null!==data&&(this.setHistoryLoading(!0),$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:window.pageActionKey,data:{cmd:"delete_history_item",item:data}}).done(function(response){var $newInside=$(response.view).find(".inside").first();_this3.$testHistory.find(".inside").html($newInside.html())}).fail(function(response){console.log(response),_this3.$resultsContainer.html(window.wpcc.an_error_occurred+": "+response.responseText)}).always(function(){_this3.setHistoryLoading(!1)}))}},{key:"onSubmitTesterForm",value:function onSubmitTesterForm(e){var _this4=this;e.preventDefault();var $self=$(e.target),siteId=this.getSelectedSiteId(),testType=this.getSelectedTestType(),selectedCatUrl=this.getSelectedCategoryUrl(),testUrlPart=(null!==selectedCatUrl?selectedCatUrl:$self.find(this.selectorInputTestUrlPart).val())||null;null!==testUrlPart&&testUrlPart.length&&(this.$resultsContainer.html(""),this.$resultsContainer.hasClass("hidden")&&this.$resultsContainer.removeClass("hidden"),this.$resultsContainer.addClass("loading"),$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:window.pageActionKey,data:{site_id:siteId,test_type:testType,test_url_part:testUrlPart}}).done(function(response){_this4.$resultsContainer.html(response.view.replace(/\[\u0000/g,"[\\").replace(/\u0000/g,":")),_this4.restoreToggleableStates();var $newInside=$(response.viewTestHistory).find(".inside").first();_this4.$testHistory.find(".inside").html($newInside.html()),_this4.$testHistory.find(".inside").animate({scrollTop:0},"slow"),flashBackground(_this4.$testHistory.find(".test-history-item:first-child")),_Tooltip.Tooltip.initAll()}).fail(function(response){console.log(response),_this4.$resultsContainer.html(window.wpcc.an_error_occurred+": "+response.responseText)}).always(function(){_this4.$resultsContainer.removeClass("loading"),$(document).trigger(jQuery.Event(_EventType.EventType.siteTesterTestFinished))}))}},{key:"getSelectedTestType",value:function getSelectedTestType(){return $(this.selectorInputTestType+" option:selected").val()}},{key:"getSelectedSiteId",value:function getSelectedSiteId(){return $(this.selectorInputSiteId+" option:selected").val()}},{key:"getTestHistoryData",value:function getTestHistoryData($elementInHistoryItem){var data=$elementInHistoryItem.closest(".test-history-item").data("test");return null===data||"undefined"===data||void 0===data?null:data}},{key:"toggleTestHistory",value:function toggleTestHistory(){this.isTestHistoryHidden?this.showTestHistory():this.hideTestHistory()}},{key:"hideTestHistory",value:function hideTestHistory(){var $inside=this.$testHistory.find(".inside").first(),$toggle=this.$testHistory.find("h2 .toggle").first();$inside.hasClass("hidden")||($inside.addClass("hidden"),$toggle.removeClass("dashicons-arrow-up").addClass("dashicons-arrow-down")),this.isTestHistoryHidden=!0}},{key:"showTestHistory",value:function showTestHistory(){var $inside=this.$testHistory.find(".inside").first(),$toggle=this.$testHistory.find("h2 .toggle").first();$inside.hasClass("hidden")&&($inside.removeClass("hidden"),$toggle.removeClass("dashicons-arrow-down").addClass("dashicons-arrow-up")),this.isTestHistoryHidden=!1}},{key:"setHistoryLoading",value:function setHistoryLoading(isLoading){var $header=this.$testHistory.find("> h2");isLoading?$header.addClass("loading"):$header.removeClass("loading")}},{key:"setTestUrlInputValue",value:function setTestUrlInputValue(testUrl){var $testUrlInput=this.$testerForm.find(this.selectorInputTestUrlPart),categoryUrlSet=!1,$select=this.getCategoryUrlSelect();if(null!==$select&&$select.length){var $option=$select.find("option[value='"+testUrl+"']")||null;null!==$option&&$option.length?($select.val(testUrl),categoryUrlSet=!0):$select.val("")}$testUrlInput.val(categoryUrlSet?"":testUrl)}}]),SiteTester}();exports.SiteTester=SiteTester},{"../common/EventType":10,"../common/tooltip/Tooltip":32,"./TestType":176}],176:[function(require,module,exports){"use strict";var TestType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestType=void 0,function(TestType){TestType.POST="test_post",TestType.CATEGORY="test_category"}((exports.TestType=TestType)||(exports.TestType=TestType={}))},{}],177:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tools=void 0;var _MultiCrawlingTool=require("./multiple-crawling-tool/MultiCrawlingTool"),_ToolsVariables=require("./ToolsVariables"),_ObjectSerializer=require("../common/ObjectSerializer"),_EventType=require("../common/EventType");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Tools=function(){function Tools(){var _this=this;_classCallCheck(this,Tools),this.processing=!1,this.tv=_ToolsVariables.ToolsVariables.getInstance(),_ObjectSerializer.ObjectSerializer.getInstance(),_MultiCrawlingTool.MultiCrawlingTool.getInstance(),$(".tool-form").on("submit",function(e){return _this.handleFormSubmission(e)}),$(".details").on("click",".hide-test-results",function(e){return _this.hideTestResults(e)})}return _createClass(Tools,[{key:"hideTestResults",value:function hideTestResults(e){e.preventDefault();var $self,$container=$(e.target).closest(".test-results");$(document).trigger(jQuery.Event(_EventType.EventType.testResultsBeforeHidden,{container:$container})),$container.addClass("hidden"),$(document).trigger(jQuery.Event(_EventType.EventType.testResultsHidden,{container:$container}))}},{key:"handleFormSubmission",value:function handleFormSubmission(e){var _this2=this;if(e.preventDefault(),!this.processing){this.processing=!0;var $self=$(e.target),$resultContainer=$self.find(".test-results").first(),$contentContainer=$resultContainer.find(".content");$resultContainer.removeClass("hidden").addClass("loading"),$contentContainer.html(""),$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:window.pageActionKey,data:this.getFormData($self)}).done(function(response){response?$contentContainer.html(response.view):$contentContainer.html(window.wpcc.no_result)}).fail(function(response){console.log(response),$contentContainer.html(window.wpcc.an_error_occurred+": "+response.responseText)}).always(function(e){$resultContainer.removeClass("loading"),_this2.processing=!1,$(document).trigger(jQuery.Event(_EventType.EventType.toolTestResultsLoaded))})}}},{key:"getFormData",value:function getFormData($form){var unindexedArray=$form.serializeArray(),indexedArray={};return $.map(unindexedArray,function(n,i){indexedArray[n.name]=n.value}),indexedArray}}]),Tools}();exports.Tools=Tools},{"../common/EventType":10,"../common/ObjectSerializer":14,"./ToolsVariables":178,"./multiple-crawling-tool/MultiCrawlingTool":180}],178:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolsVariables=void 0;var ToolsVariables=function(){function ToolsVariables(){_classCallCheck(this,ToolsVariables),this.selectorToolsContainer="#container-tools",this.selectorTabNavigation=this.selectorToolsContainer+" > .nav-tab-wrapper",this.selectorTabs=this.selectorToolsContainer+" > .tab"}return _createClass(ToolsVariables,null,[{key:"getInstance",value:function getInstance(){return null===this.INSTANCE&&(this.INSTANCE=new ToolsVariables),this.INSTANCE}}]),ToolsVariables}();(exports.ToolsVariables=ToolsVariables).INSTANCE=null},{}],179:[function(require,module,exports){"use strict";var CrawlingType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CrawlingType=void 0,function(CrawlingType){CrawlingType[CrawlingType.CRAWL_NOW=0]="CRAWL_NOW",CrawlingType[CrawlingType.ADD_TO_DATABASE=1]="ADD_TO_DATABASE"}((exports.CrawlingType=CrawlingType)||(exports.CrawlingType=CrawlingType={}))},{}],180:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiCrawlingTool=void 0;var _CrawlingType=require("./CrawlingType"),_PostUrlData=require("../url-data/PostUrlData"),_ToolsVariables=require("../ToolsVariables"),_Utils=require("../../common/Utils"),_CategoryUrlData=require("../url-data/CategoryUrlData"),_Notifier=require("../../common/Notifier"),_NotificationType=require("../../common/enum/NotificationType"),_Tooltip=require("../../common/tooltip/Tooltip");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var MultiCrawlingTool=function(){function MultiCrawlingTool(){var _this=this;_classCallCheck(this,MultiCrawlingTool),this.selectorContainerUrlQueue="#container-url-queue-manual-crawl",this.selectorTableContainerUrlQueue=this.selectorContainerUrlQueue+" .table-container",this.selectorTableUrlQueue="#table-url-queue-manual-crawl",this.selectorToolContainerManualCrawl="#tool-manual-crawl",this.classForm="tool-manual-crawl",this.selectorForm="."+this.classForm,this.classButtonCrawlNow="crawl-now",this.classButtonAddToDatabase="add-to-database",this.selectorButtonCrawlNow=".button."+this.classButtonCrawlNow,this.selectorButtonAddToDatabase=".button."+this.classButtonAddToDatabase,this.selectorButtonDelete=".button.delete",this.selectorButtonRepeat=".button.repeat",this.$urlRowPrototype=null,this.$responseRowPrototype=null,this.classResponse="response",this.classHasResponse="has-response",this.classOpen="open",this.selectorCheckboxClearUrls="#_manual_crawling_tool_clear_after_submit",this.beingProcessedCategoryUrlData=null,this.categoryUrlQueue=[],this.isPaused=!1,this.runningRequestCount=0,this.maxParallelCrawling=1,this.inputNameSiteId="_wpcc_tools_site_id",this.inputNameCategoryId="_wpcc_tools_category_id",this.inputNameCategoryUrls="_category_urls",this.inputNamePostUrls="_post_urls",this.tv=_ToolsVariables.ToolsVariables.getInstance(),this.selectorUrls=this.selectorTableUrlQueue+" tbody > tr.url:not(.prototype)",this.selectorUrlResponses=this.selectorTableUrlQueue+" tbody > tr.url:not(.prototype) + ."+this.classResponse,this.selectorUrlsToBeCrawled=this.selectorTableUrlQueue+" tbody > tr.url:not(.prototype):not(.loading):not(.done)",this.selectorUrlsDone=this.selectorTableUrlQueue+" tbody > tr.url.done:not(.prototype)",this.selectorUrlsBeingCrawled=this.selectorTableUrlQueue+" tbody > tr.url.loading:not(.prototype)",this.selectorStatus=this.selectorContainerUrlQueue+" #status",this.selectorButtonContinue=this.selectorContainerUrlQueue+" .button.continue",this.selectorButtonPause=this.selectorContainerUrlQueue+" .button.pause",this.selectorClearAllUrls=this.selectorTableUrlQueue+" thead th.controls .remove-all",this.selectorInputMaxPostsToBeCrawled=this.selectorToolContainerManualCrawl+" #_max_posts_to_be_crawled",this.selectorInputMaxParallelCrawlingCount=this.selectorToolContainerManualCrawl+" #_max_parallel_crawling_count",this.selectorShowAllResponses=this.selectorContainerUrlQueue+" .show-all-responses",this.selectorHideAllResponses=this.selectorContainerUrlQueue+" .hide-all-responses",$(document).on("click",this.selectorButtonAddToDatabase,function(e){return _this.onClickSubmit(e,_CrawlingType.CrawlingType.ADD_TO_DATABASE)}),$(document).on("click",this.selectorButtonCrawlNow,function(e){return _this.onClickSubmit(e,_CrawlingType.CrawlingType.CRAWL_NOW)}),$(document).on("click",this.selectorContainerUrlQueue+" "+this.selectorButtonDelete,function(e){return _this.onClickDeleteUrl(e)}),$(document).on("click",this.selectorContainerUrlQueue+" "+this.selectorButtonRepeat,function(e){return _this.onClickRepeatCrawling(e)}),$(document).on("click",this.selectorTableUrlQueue+" tbody > tr",function(e){return _this.onClickUrlRow(e)}),$(document).on("click",this.selectorTableUrlQueue+" tbody > tr a",function(e){return e.stopPropagation()}),$(document).on("click",this.selectorButtonContinue,function(){return _this.continueCrawling()}),$(document).on("click",this.selectorButtonPause,function(){return _this.pauseCrawling()}),$(document).on("click",this.selectorClearAllUrls,function(){return _this.clearAllUrls()}),$(document).on("click",this.selectorShowAllResponses,function(){return _this.showAllResponses()}),$(document).on("click",this.selectorHideAllResponses,function(){return _this.hideAllResponses()})}return _createClass(MultiCrawlingTool,[{key:"clearAllUrls",value:function clearAllUrls(){var selector=this.selectorUrlsDone+", "+this.selectorUrlsToBeCrawled+", "+this.selectorUrlsDone+" + tr.response";$(selector).remove(),this.onUpdateUrlTable()}},{key:"onClickSubmit",value:function onClickSubmit(e,type){e.preventDefault(),e.stopPropagation();var $self=$(e.target);_Tooltip.Tooltip.for($self).hide().apply();var urls=this.getEnteredUrls();switch(type){case _CrawlingType.CrawlingType.CRAWL_NOW:this.pauseThreshold=this.getMaxPostsToBeCrawled(),this.crawledUrlCountAfterSubmit=0,this.maxParallelCrawling=this.getMaxParallelCrawlingCount(),0<this.pauseThreshold&&(this.maxParallelCrawling=Math.min(this.maxParallelCrawling,this.pauseThreshold)),this.continueCrawling(),this.retrievePostUrlsFromCategoryUrls(),this.addUrlsToQueueTable(urls),this.crawlNextUrlInQueue(),flashBackground($(this.selectorContainerUrlQueue));break;case _CrawlingType.CrawlingType.ADD_TO_DATABASE:this.handleAddUrlsToDatabase(urls),flashBackground($(this.selectorContainerUrlQueue))}}},{key:"retrievePostUrlsFromCategoryUrls",value:function retrievePostUrlsFromCategoryUrls(){var _this2=this;if(null===this.beingProcessedCategoryUrlData&&this.categoryUrlQueue.length&&!this.isPaused){this.beingProcessedCategoryUrlData=this.categoryUrlQueue.shift(),this.onUpdateUrlTable();var catUrl=this.beingProcessedCategoryUrlData;$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:window.pageActionKey,data:{tool_type:"get_post_urls_from_category_url",category_url:catUrl.url,site_id:catUrl.siteId}}).done(function(response){var results=response.results||[];response.hasInfo&&_this2.showTestResult(response.view);for(var l=results.length,urlDataList=[],currentItem,postUrl,imageUrl,i=0;i<l;i++)null!==(currentItem=results[i]||null)&&(postUrl=currentItem.url||null,imageUrl=currentItem.thumbnail||null,null!==postUrl&&urlDataList.push(new _PostUrlData.PostUrlData(catUrl.siteName,catUrl.siteId,postUrl,catUrl.categoryName,catUrl.categoryId,imageUrl)));if(!urlDataList.length)return _Notifier.Notifier.getInstance().notifyRegular($('label[for="'+_this2.inputNameCategoryUrls+'"]'),window.wpcc.no_urls_found+" "+catUrl.url,_NotificationType.NotificationType.INFO),void _this2.onUpdateUrlTable();_this2.addUrlsToQueueTable(urlDataList),_this2.crawlNextUrlInQueue()}).fail(function(response){_Notifier.Notifier.getInstance().notifyRegular($('label[for="'+_this2.inputNameCategoryUrls+'"]'),window.wpcc.an_error_occurred+" ("+catUrl.url+"): "+response.responseText,_NotificationType.NotificationType.ERROR),console.log(response)}).always(function(e){_this2.beingProcessedCategoryUrlData=null,_this2.retrievePostUrlsFromCategoryUrls(),_this2.updateStatus()})}}},{key:"handleAddUrlsToDatabase",value:function handleAddUrlsToDatabase(urls){var $testResultContainer=this.getTestResultContainer();if(!$testResultContainer.hasClass("loading")){$testResultContainer.removeClass("hidden").addClass("loading");var $contentContainer=$testResultContainer.find(".content").first();$contentContainer.html("");var categoryUrls=this.categoryUrlQueue;this.categoryUrlQueue=[],$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:window.pageActionKey,data:{tool_type:"add_urls_to_database",post_urls:JSON.stringify(urls),category_urls:JSON.stringify(categoryUrls)}}).done(function(response){response?$contentContainer.html(response.view):$contentContainer.html(window.wpcc.no_result)}).fail(function(response){console.log(response),$contentContainer.html(window.wpcc.an_error_occurred+": "+response.responseText)}).always(function(e){$testResultContainer.removeClass("loading")})}}},{key:"onClickUrlRow",value:function onClickUrlRow(e){var $self=$(e.target).closest("tr"),$responseRow=this.getUrlRowResponse($self);null!==$responseRow&&($responseRow.hasClass("hidden")?($responseRow.removeClass("hidden"),$self.addClass(this.classOpen)):($responseRow.addClass("hidden"),$self.removeClass(this.classOpen)))}},{key:"crawlNextUrlInQueue",value:function crawlNextUrlInQueue(){var _this3=this;if(!(this.runningRequestCount>=this.maxParallelCrawling))for(;this.runningRequestCount<this.maxParallelCrawling;){if(this.isPaused)return;if(0<this.pauseThreshold&&this.crawledUrlCountAfterSubmit>=this.pauseThreshold)return this.crawledUrlCountAfterSubmit=0,this.pauseThreshold=0,void this.pauseCrawling();var $urlRow=$(this.selectorUrlsToBeCrawled).first()||null;if(null===$urlRow||!$urlRow.length)return;this.runningRequestCount+=1,this.crawledUrlCountAfterSubmit++,this.crawlUrlRow($urlRow,null,null,function(e){_this3.runningRequestCount-=1,_this3.crawlNextUrlInQueue()})}}},{key:"crawlUrlRow",value:function crawlUrlRow($urlRow,argument_1,argument_2,argument_3,argument_4){var _data,_this4=this,doneCallback=1<arguments.length&&void 0!==argument_1?argument_1:null,failCallback=2<arguments.length&&void 0!==argument_2?argument_2:null,alwaysCallback=3<arguments.length&&void 0!==argument_3?argument_3:null,recrawlIfDuplicate=4<arguments.length&&void 0!==argument_4&&argument_4,urlData=$urlRow.data("urlData")||null,$responseRow=this.getNewResponseRowElement();if(null===urlData)return $responseRow.html(window.wpcc.url_data_not_exist),void this.setUrlRowDone($urlRow);this.setUrlRowLoading($urlRow),this.updateStatus(),$.post(window.ajaxurl,{wcc_nonce:$("#wcc_nonce").val(),action:window.pageActionKey,data:(_data={tool_type:"save_post"},_defineProperty(_data,this.inputNameSiteId,urlData.siteId),_defineProperty(_data,"_wpcc_tools_post_url",urlData.url),_defineProperty(_data,this.inputNameCategoryId,urlData.categoryId),_defineProperty(_data,"_wpcc_tools_featured_image_url",urlData.imageUrl),_defineProperty(_data,"_wpcc_recrawl_if_duplicate",recrawlIfDuplicate?"1":"0"),_data)}).done(function(response){response?_this4.setResponseRowHtml($responseRow,response.view):_this4.setResponseRowHtml($responseRow,window.wpcc.no_result),null!==doneCallback&&doneCallback(response)}).fail(function(response){console.log(response),_this4.setResponseRowHtml($responseRow,window.wpcc.an_error_occurred+": "+response.responseText),null!==failCallback&&failCallback(response)}).always(function(e){$urlRow.after($responseRow),$urlRow.addClass(_this4.classHasResponse).addClass(_this4.classOpen),_this4.setUrlRowDone($urlRow),_this4.updateStatus(),null!==alwaysCallback&&alwaysCallback(e)})}},{key:"setUrlRowLoading",value:function setUrlRowLoading($urlRow){$urlRow.addClass("loading").removeClass("done"),$urlRow.find("td.status").html('<span class="dashicons dashicons-update"></span>'),$urlRow.find(".button.delete").addClass("hidden"),$urlRow.find(".button.repeat").addClass("hidden")}},{key:"setUrlRowDone",value:function setUrlRowDone($urlRow){$urlRow.removeClass("loading").addClass("done"),$urlRow.find("td.status").html('<span class="dashicons dashicons-yes"></span>'),$urlRow.find(".button.delete").removeClass("hidden"),$urlRow.find(".button.repeat").removeClass("hidden")}},{key:"addUrlsToQueueTable",value:function addUrlsToQueueTable(urls){var $tableContainer=$(this.selectorTableContainerUrlQueue).first(),$tbody=$tableContainer.find(" tbody").first();urls=urls||[];var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=urls[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var urlData=_step.value;$tbody.append(this.createUrlRow(urlData))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.onUpdateUrlTable(),urls.length&&(_Tooltip.Tooltip.initAll(),flashBackground($tableContainer)),this.updateStatus()}},{key:"onUpdateUrlTable",value:function onUpdateUrlTable(){var $tableContainer=$(this.selectorTableContainerUrlQueue).first(),$defaultMessage=$(this.selectorContainerUrlQueue).find(".default-message").first(),$notHiddenRows=$(this.selectorTableUrlQueue).find("tbody tr:not(.hidden)")||null;if((null===$notHiddenRows||!$notHiddenRows.length)&&null===this.beingProcessedCategoryUrlData)return $tableContainer.addClass("hidden"),$defaultMessage.removeClass("hidden"),void this.continueCrawling();$tableContainer.removeClass("hidden"),$defaultMessage.addClass("hidden"),this.updateStatus()}},{key:"createUrlRow",value:function createUrlRow(urlData){var $row=this.getNewUrlRowElement();if($row.find(".site").text(urlData.siteName),$row.find(".category").text(urlData.categoryName),urlData.imageUrl.length){var $img=$("<img/>").attr("src",urlData.imageUrl),$a=$("<a/>").attr("href",urlData.imageUrl).attr("target","_blank").attr(_Tooltip.Tooltip.TOOLTIP_ATTRIBUTE_NAME,_Tooltip.Tooltip.TOOLTIP_ATTRIBUTE_VALUE).attr("data-placement","right").attr("data-html","true").attr("title",$img[0].outerHTML);$a.append($img),$row.find(".image").append($a)}return $row.find(".post-url").html('<a target="_blank" href="'+urlData.url+'">'+urlData.url+"</a>"),$row.data("urlData",urlData),$row}},{key:"setResponseRowHtml",value:function setResponseRowHtml($row,html){var $response=$row.find("."+this.classResponse).first();return $response.html(html),$response}},{key:"getNewUrlRowElement",value:function getNewUrlRowElement(){return null===this.$urlRowPrototype&&(this.$urlRowPrototype=$(this.selectorTableUrlQueue).find("tr.prototype.url").first()),this.$urlRowPrototype.clone().removeClass("prototype").removeClass("hidden")}},{key:"getNewResponseRowElement",value:function getNewResponseRowElement(){return null===this.$responseRowPrototype&&(this.$responseRowPrototype=$(this.selectorTableUrlQueue).find("tr.prototype.response").first()),this.$responseRowPrototype.clone().removeClass("prototype").removeClass("hidden")}},{key:"getEnteredUrls",value:function getEnteredUrls(){var urls=[],$form=$(this.selectorForm).first(),serializedValues=$form.serializeObjectNoNull(),siteId=serializedValues[this.inputNameSiteId]||null,categoryId=serializedValues[this.inputNameCategoryId]||null,siteNameSelector=this.selectorForm+" #"+this.inputNameSiteId+' option[value="'+siteId+'"]',siteName=$(siteNameSelector).text()||null,categoryNameSelector=this.selectorForm+" #"+this.inputNameCategoryId+' option[value="'+categoryId+'"]',categoryName=$(categoryNameSelector).text()||null;if(null===siteId||null===categoryId){var inputName=null===siteId?this.inputNameSiteId:this.inputNameCategoryId;return _Notifier.Notifier.getInstance().notifyRegular($('label[for="'+inputName+'"]'),window.wpcc.this_is_not_valid,_NotificationType.NotificationType.WARN),urls}var postAndImageUrls=serializedValues._post_and_featured_image_urls||null;if(null!==postAndImageUrls)for(var l=postAndImageUrls.length,current,postUrl,imageUrl,i=0;i<l;i++)null!==(current=postAndImageUrls[i]||null)&&(postUrl=current.postUrl||null,imageUrl=current.imageUrl||null,null!==postUrl&&this.isValidUrl(postUrl)&&(null===imageUrl||this.isValidUrl(imageUrl)||(imageUrl=null),urls.push(new _PostUrlData.PostUrlData(siteName,siteId,postUrl,categoryName,categoryId,imageUrl))));var nlSeparatedPostUrls=serializedValues[this.inputNamePostUrls]||null;if(null!==nlSeparatedPostUrls)for(var val=nlSeparatedPostUrls.split("\n").map(function(v,ind){return v.trim()}),_l=val.length,currentPostUrl,_i=0;_i<_l;_i++)null!==(currentPostUrl=val[_i]||null)&&this.isValidUrl(currentPostUrl)&&urls.push(new _PostUrlData.PostUrlData(siteName,siteId,currentPostUrl,categoryName,categoryId,null));var categoryUrls=serializedValues[this.inputNameCategoryUrls]||null;if(null!==categoryUrls){categoryUrls=categoryUrls.map(function(v,ind){return v.trim()});var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=categoryUrls[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var categoryUrl=_step2.value;null!==(categoryUrl=categoryUrl||null)&&this.categoryUrlQueue.push(new _CategoryUrlData.CategoryUrlData(siteName,siteId,categoryUrl,categoryName,categoryId))}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}var $checkbox=$(this.selectorCheckboxClearUrls)||null;return null!==$checkbox&&$checkbox.length&&$checkbox[0].checked&&($form.find(".wcc-remove").each(function(i,el){$(el).trigger("click")}),$form.find("textarea").val("").html("")),urls}},{key:"isValidUrl",value:function isValidUrl(url){return null!==(url=url||null)&&!!_Utils.Utils.startsWith(url.toLowerCase(),"http")}},{key:"onClickRepeatCrawling",value:function onClickRepeatCrawling(e){e.preventDefault(),e.stopPropagation();var $self,$urlRow=$(e.target).closest("tr"),$responseRow=$urlRow.next()||null,urlData;if(null===($urlRow.data("urlData")||null))return _Notifier.Notifier.getInstance().notifyRegular($urlRow,window.wpcc.url_data_not_exist_for_this,_NotificationType.NotificationType.ERROR),void console.log("URL data does not exist for this row.");null!==$responseRow&&$responseRow.length&&$responseRow.hasClass(this.classResponse)?($responseRow.remove(),$urlRow.removeClass(this.classOpen),this.crawlUrlRow($urlRow,null,null,null,!0)):_Notifier.Notifier.getInstance().notifyRegular($urlRow,window.wpcc.this_url_not_crawled_yet,_NotificationType.NotificationType.INFO)}},{key:"onClickDeleteUrl",value:function onClickDeleteUrl(e){e.preventDefault();var $self,$closestTr=$(e.target).closest("tr"),$nextTr=$closestTr.next()||null;null!==$nextTr&&$nextTr.length&&$nextTr.hasClass(this.classResponse)&&$nextTr.remove(),$closestTr.remove(),this.onUpdateUrlTable()}},{key:"getUrlRowResponse",value:function getUrlRowResponse($urlRow){var $nextRow=$urlRow.next()||null;return null!==$nextRow&&$nextRow.length&&$nextRow.hasClass(this.classResponse)?$nextRow:null}},{key:"updateStatus",value:function updateStatus(){var $status=$(this.selectorStatus),prevStatusHtml=$status.html(),doneCount,totalCount,status='<span class="counts">'+$(this.selectorUrlsDone).length+"/"+$(this.selectorUrls).length+"</span>",$urlsBeingCrawled=$(this.selectorUrlsBeingCrawled),urlDataBeingCrawled;$urlsBeingCrawled.length&&(status+=" "+window.wpcc.currently_crawling+": ",$urlsBeingCrawled.each(function(i,el){null!==(urlDataBeingCrawled=$(el).data("urlData")||null)&&(status+=$("<a/>").attr("href",urlDataBeingCrawled.url).attr("target","_blank").addClass("post-url").append(urlDataBeingCrawled.url).attr("style","display: block;")[0].outerHTML)}));if(null!==this.beingProcessedCategoryUrlData){var $a=$("<a/>").attr("href",this.beingProcessedCategoryUrlData.url).attr("target","_blank").addClass("category-url").append(this.beingProcessedCategoryUrlData.url);status+='<br><span class="dashicons dashicons-update"></span> '+window.wpcc.retrieving_urls_from.format($a[0].outerHTML)}status!==prevStatusHtml&&(flashBackground($status),$status.html(status))}},{key:"getContinueButton",value:function getContinueButton(){return $(this.selectorButtonContinue).first()}},{key:"getPauseButton",value:function getPauseButton(){return $(this.selectorButtonPause).first()}},{key:"getTestResultContainer",value:function getTestResultContainer(){return $(this.selectorToolContainerManualCrawl).find(".panel-wrap > .test-results").first()}},{key:"showTestResult",value:function showTestResult(html){this.getTestResultContainer().removeClass("loading").removeClass("hidden").find(".content").html(html)}},{key:"pauseCrawling",value:function pauseCrawling(){this.isPaused=!0,this.getContinueButton().removeClass("hidden"),this.getPauseButton().addClass("hidden")}},{key:"continueCrawling",value:function continueCrawling(){this.isPaused=!1,this.getContinueButton().addClass("hidden"),this.getPauseButton().removeClass("hidden"),this.crawlNextUrlInQueue(),this.retrievePostUrlsFromCategoryUrls()}},{key:"getMaxPostsToBeCrawled",value:function getMaxPostsToBeCrawled(){var $input=$(this.selectorInputMaxPostsToBeCrawled)||null;if(null===$input)return 0;var val=$input.val()||0;return 0===val?val:(val=parseInt(val.toString()))<0?0:val}},{key:"getMaxParallelCrawlingCount",value:function getMaxParallelCrawlingCount(){var $input=$(this.selectorInputMaxParallelCrawlingCount)||null;if(null===$input)return 1;var val=$input.val()||1;return 1===val?val:(val=parseInt(val.toString()))<1?1:val}},{key:"showAllResponses",value:function showAllResponses(){$(this.selectorUrlResponses).removeClass("hidden"),$(this.selectorUrls+"."+this.classHasResponse).addClass(this.classOpen)}},{key:"hideAllResponses",value:function hideAllResponses(){$(this.selectorUrlResponses).addClass("hidden"),$(this.selectorUrls+"."+this.classHasResponse).removeClass(this.classOpen)}}],[{key:"getInstance",value:function getInstance(){return null===this.INSTANCE&&(this.INSTANCE=new MultiCrawlingTool),this.INSTANCE}}]),MultiCrawlingTool}();(exports.MultiCrawlingTool=MultiCrawlingTool).INSTANCE=null},{"../../common/Notifier":13,"../../common/Utils":21,"../../common/enum/NotificationType":26,"../../common/tooltip/Tooltip":32,"../ToolsVariables":178,"../url-data/CategoryUrlData":182,"../url-data/PostUrlData":183,"./CrawlingType":179}],181:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseUrlData=void 0;var BaseUrlData=function(){function BaseUrlData(siteName,siteId,url,categoryName,categoryId){_classCallCheck(this,BaseUrlData),this._siteName=(siteName||"").trim(),this._siteId=siteId,this._url=(url||"").trim(),this._categoryId=categoryId,this._categoryName=(categoryName||"").trim()}return _createClass(BaseUrlData,[{key:"siteName",get:function get(){return this._siteName}},{key:"siteId",get:function get(){return this._siteId}},{key:"url",get:function get(){return this._url}},{key:"categoryId",get:function get(){return this._categoryId}},{key:"categoryName",get:function get(){return this._categoryName}},{key:"response",get:function get(){return this._response},set:function set(value){this._response=value}}]),BaseUrlData}();exports.BaseUrlData=BaseUrlData},{}],182:[function(require,module,exports){"use strict";var _BaseUrlData2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CategoryUrlData=void 0;var CategoryUrlData=function(_BaseUrlData){function CategoryUrlData(){return _classCallCheck(this,CategoryUrlData),_possibleConstructorReturn(this,_getPrototypeOf(CategoryUrlData).apply(this,arguments))}return _inherits(CategoryUrlData,_BaseUrlData),CategoryUrlData}(require("./BaseUrlData").BaseUrlData);exports.CategoryUrlData=CategoryUrlData},{"./BaseUrlData":181}],183:[function(require,module,exports){"use strict";var _BaseUrlData2;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostUrlData=void 0;var PostUrlData=function(_BaseUrlData){function PostUrlData(siteName,siteId,url,categoryName,categoryId,imageUrl){var _this;return _classCallCheck(this,PostUrlData),(_this=_possibleConstructorReturn(this,_getPrototypeOf(PostUrlData).call(this,siteName,siteId,url,categoryName,categoryId)))._imageUrl=imageUrl||"",_this}return _inherits(PostUrlData,_BaseUrlData),_createClass(PostUrlData,[{key:"imageUrl",get:function get(){return this._imageUrl}},{key:"postId",get:function get(){return this._postId},set:function set(value){this._postId=value}},{key:"postUrl",get:function get(){return this._postUrl},set:function set(value){this._postUrl=value}}]),PostUrlData}(require("./BaseUrlData").BaseUrlData);exports.PostUrlData=PostUrlData},{"./BaseUrlData":181}]},{},[6]);